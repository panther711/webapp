(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("React"), require("ReactDOM"), require("react-intl"), require("firebase"), require("firebase/messaging"));
	else if(typeof define === 'function' && define.amd)
		define(["React", "ReactDOM", "react-intl", "firebase", "firebase/messaging"], factory);
	else {
		var a = typeof exports === 'object' ? factory(require("React"), require("ReactDOM"), require("react-intl"), require("firebase"), require("firebase/messaging")) : factory(root["React"], root["ReactDOM"], root["react-intl"], root["firebase"], root["firebase/messaging"]);
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(window, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__, __WEBPACK_EXTERNAL_MODULE_react_intl__, __WEBPACK_EXTERNAL_MODULE_firebase_app__, __WEBPACK_EXTERNAL_MODULE_firebase_messaging__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "../tinode-js/umd/tinode.prod.js":
/*!***************************************!*\
  !*** ../tinode-js/umd/tinode.prod.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {!function(e){if(true)module.exports=e();else {}}(function(){var e={exports:{}},t=[{name:\"ST\",start:/(?:^|\\W)(\\*)[^\\s*]/,end:/[^\\s*](\\*)(?=$|\\W)/},{name:\"EM\",start:/(?:^|[\\W_])(_)[^\\s_]/,end:/[^\\s_](_)(?=$|[\\W_])/},{name:\"DL\",start:/(?:^|\\W)(~)[^\\s~]/,end:/[^\\s~](~)(?=$|\\W)/},{name:\"CO\",start:/(?:^|\\W)(`)[^`]/,end:/[^`](`)(?=$|\\W)/}],n=[{name:\"LN\",dataName:\"url\",pack:function(e){return/^[a-z]+:\\/\\//i.test(e)||(e=\"http://\"+e),{url:e}},re:/(?:(?:https?|ftp):\\/\\/|www\\.|ftp\\.)[-A-Z0-9+&@#\\/%=~_|$?!:,.]*[A-Z0-9+&@#\\/%=~_|$]/gi},{name:\"MN\",dataName:\"val\",pack:function(e){return{val:e.slice(1)}},re:/\\B@(\\w\\w+)/g},{name:\"HT\",dataName:\"val\",pack:function(e){return{val:e.slice(1)}},re:/\\B#(\\w\\w+)/g}],s={ST:{name:\"b\",isVoid:!1},EM:{name:\"i\",isVoid:!1},DL:{name:\"del\",isVoid:!1},CO:{name:\"tt\",isVoid:!1},BR:{name:\"br\",isVoid:!0},LN:{name:\"a\",isVoid:!1},MN:{name:\"a\",isVoid:!1},HT:{name:\"a\",isVoid:!1},IM:{name:\"img\",isVoid:!0}};function i(e,t){var n;try{n=atob(e)}catch(e){console.log(\"Drafty: failed to decode base64-encoded object\",e.message),n=atob(\"\")}for(var s=n.length,i=new ArrayBuffer(s),r=new Uint8Array(i),o=0;o<s;o++)r[o]=n.charCodeAt(o);return URL.createObjectURL(new Blob([i],{type:t}))}var r={ST:{open:function(){return\"<b>\"},close:function(){return\"</b>\"}},EM:{open:function(){return\"<i>\"},close:function(){return\"</i>\"}},DL:{open:function(){return\"<del>\"},close:function(){return\"</del>\"}},CO:{open:function(){return\"<tt>\"},close:function(){return\"</tt>\"}},BR:{open:function(){return\"\"},close:function(){return\"<br/>\"}},LN:{open:function(e){return'<a href=\"'+e.url+'\">'},close:function(e){return\"</a>\"},props:function(e){return{href:e.url,target:\"_blank\"}}},MN:{open:function(e){return'<a href=\"#'+e.val+'\">'},close:function(e){return\"</a>\"},props:function(e){return{name:e.val}}},HT:{open:function(e){return'<a href=\"#'+e.val+'\">'},close:function(e){return\"</a>\"},props:function(e){return{name:e.val}}},IM:{open:function(e){var t=i(e.val,e.mime),n=e.ref?e.ref:t,s=(e.name?'<a href=\"'+n+'\" download=\"'+e.name+'\">':\"\")+'<img src=\"'+t+'\"'+(e.width?' width=\"'+e.width+'\"':\"\")+(e.height?' height=\"'+e.height+'\"':\"\")+' border=\"0\" />';return console.log(\"open: \"+s),s},close:function(e){return e.name?\"</a>\":\"\"},props:function(e){return{src:i(e.val,e.mime),title:e.name,\"data-width\":e.width,\"data-height\":e.height,\"data-name\":e.name,\"data-size\":.75*e.val.length|0,\"data-mime\":e.mime}}}},o=function(){};o.parse=function(e){if(\"string\"!=typeof e)return null;var s=e.split(/\\r?\\n/),i=[],r={},o=[];s.map(function(e){var s,a,c=[];if(t.map(function(t){c=c.concat(function(e,t,n,s){for(var i=[],r=0,o=e.slice(0);o.length>0;){var a=t.exec(o);if(null==a)break;var c=a.index+a[0].lastIndexOf(a[1]);o=o.slice(c+1),r=(c+=r)+1;var u=n?n.exec(o):null;if(null==u)break;var h=u.index+u[0].indexOf(u[1]);o=o.slice(h+1),r=(h+=r)+1,i.push({text:e.slice(c+1,h),children:[],start:c,end:h,type:s})}return i}(e,t.start,t.end,t.name))}),0==c.length)a={txt:e};else{c.sort(function(e,t){return e.start-t.start}),c=function e(t){if(0==t.length)return[];for(var n=[t[0]],s=t[0],i=1;i<t.length;i++)t[i].start>s.end?(n.push(t[i]),s=t[i]):t[i].end<s.end&&s.children.push(t[i]);for(var i in n)n[i].children=e(n[i].children);return n}(c);var u=function e(t,n){var s=\"\",i=[];for(var r in t){var o=t[r];if(!o.text){var a=e(o.children,s.length+n);o.text=a.txt,i=i.concat(a.fmt)}o.type&&i.push({at:s.length+n,len:o.text.length,tp:o.type}),s+=o.text}return{txt:s,fmt:i}}(function e(t,n,s,i){var r=[];if(0==i.length)return[];for(var o in i){var a=i[o];a.start>n&&r.push({text:t.slice(n,a.start)});var c={type:a.type},u=e(t,a.start+1,a.end-1,a.children);u.length>0?c.children=u:c.text=a.text,r.push(c),n=a.end+1}return n<s&&r.push({text:t.slice(n,s)}),r}(e,0,e.length,c),0);a={txt:u.txt,fmt:u.fmt}}if((s=function(e){var t,s=[];if(n.map(function(n){for(;null!==(t=n.re.exec(e));)s.push({offset:t.index,len:t[0].length,unique:t[0],data:n.pack(t[0]),type:n.name})}),0==s.length)return s;s.sort(function(e,t){return e.offset-t.offset});var i=-1;return s=s.filter(function(e){var t=e.offset>i;return i=e.offset+e.len,t})}(a.txt)).length>0){var h=[];for(var l in s){var d=s[l],f=r[d.unique];f||(f=i.length,r[d.unique]=f,i.push({tp:d.type,data:d.data})),h.push({at:d.offset,len:d.len,key:f})}a.ent=h}o.push(a)});var a={txt:\"\"};if(o.length>0){a.txt=o[0].txt,a.fmt=(o[0].fmt||[]).concat(o[0].ent||[]);for(var c=1;c<o.length;c++){var u=o[c],h=a.txt.length+1;a.fmt.push({tp:\"BR\",len:1,at:h-1}),a.txt+=\" \"+u.txt,u.fmt&&(a.fmt=a.fmt.concat(u.fmt.map(function(e){return e.at+=h,e}))),u.ent&&(a.fmt=a.fmt.concat(u.ent.map(function(e){return e.at+=h,e})))}0==a.fmt.length&&delete a.fmt,i.length>0&&(a.ent=i)}return a},o.insertImage=function(e,t,n,s,i,r,o,a,c){return(e=e||{txt:\" \"}).ent=e.ent||[],e.fmt=e.fmt||[],e.fmt.push({at:t,len:1,key:e.ent.length}),e.ent.push({tp:\"IM\",data:{mime:n,val:s,width:i,height:r,name:o,ref:c,size:0|a}}),e},o.attachFile=function(e,t,n,s,i,r){(e=e||{txt:\"\"}).ent=e.ent||[],e.fmt=e.fmt||[],e.fmt.push({at:-1,len:0,key:e.ent.length});var o={tp:\"EX\",data:{mime:t,val:n,name:s,ref:r,size:0|i}};return r instanceof Promise&&(o.data.ref=r.then(function(e){o.data.ref=e},function(e){})),e.ent.push(o),e},o.UNSAFE_toHTML=function(e){var t,n,s,i=e.txt,o=e.fmt,a=e.ent,c=[];if(o)for(var u in o){var h,l=o[u],d=l.tp;if(!d){var f=a[l.key];f&&(d=f.tp,h=f.data)}r[d]&&(c.push({idx:l.at+l.len,what:r[d].close(h)}),c.push({idx:l.at,what:r[d].open(h)}))}for(var u in c.sort(function(e,t){return t.idx-e.idx}),c)c[u].what&&(t=i,n=c[u].idx,s=c[u].what,i=t.slice(0,n)+s+t.slice(n));return i},o.format=function(e,t,n){var i=e.txt,r=e.fmt,o=e.ent;if(i=i||\"\",!r)return[i];var a=[].concat(r);return a.map(function(e){e.at=e.at||0,e.len=e.len||0}),a.sort(function(e,t){return e.at-t.at==0?t.len-e.len:e.at-t.at}),a=a.map(function(e){var t,n=e.tp;return n||(e.key=e.key||0,t=o[e.key].data,n=o[e.key].tp),{tp:n,data:t,at:e.at,len:e.len}}),function e(t,n,i,r,o,a){for(var c=[],u=0;u<r.length;u++){var h=r[u];n<h.at&&(c.push(o.call(a,null,void 0,t.slice(n,h.at))),n=h.at);for(var l=[],d=u+1;d<r.length&&r[d].at<h.at+h.len;d++)l.push(r[d]),u=d;var f=s[h.tp]||{};c.push(o.call(a,h.tp,h.data,f.isVoid?null:e(t,n,h.at+h.len,l,o,a))),n=h.at+h.len}return n<i&&c.push(o.call(a,null,void 0,t.slice(n,i))),c}(i,0,i.length,a,t,n)},o.toPlainText=function(e){return\"string\"==typeof e?e:e.txt},o.isPlainText=function(e){return\"string\"==typeof e||!(e.fmt||e.ent)},o.hasAttachments=function(e){if(e.ent&&e.ent.length>0)for(var t in e.ent)if(\"EX\"==e.ent[t].tp)return!0;return!1},o.attachments=function(e,t,n){if(e.ent&&e.ent.length>0)for(var s in e.ent)\"EX\"==e.ent[s].tp&&t.call(n,e.ent[s].data,s)},o.getDownloadUrl=function(e){var t=null;return e.val?t=i(e.val,e.mime):\"string\"==typeof e.ref&&(t=e.ref),t},o.isUploading=function(e){return e.ref instanceof Promise},o.getPreviewUrl=function(e){return e.val?i(e.val,e.mime):null},o.getEntitySize=function(e){return e.size?e.size:e.val?.75*e.val.length|0:0},o.getEntityMimeType=function(e){return e.mime||\"text/plain\"},o.tagName=function(e){return s[e]?s[e].name:void 0},o.attrValue=function(e,t){if(t&&r[e])return r[e].props(t)},o.getContentType=function(){return\"text/x-drafty\"},e.exports=o,e=e.exports;var a=\"0.15.9-rc1\",c={exports:{}};return function(t){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}if(true)var s=a;var i;\"undefined\"!=typeof WebSocket&&(i=WebSocket),\"undefined\"==typeof btoa&&(t.btoa=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",n=\"\",s=0,i=0,r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";t.charAt(0|i)||(r=\"=\",i%1);n+=r.charAt(63&s>>8-i%1*8)){if((e=t.charCodeAt(i+=.75))>255)throw new Error(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");s=s<<8|e}return n}),\"undefined\"==typeof atob&&(t.atob=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\").replace(/=+$/,\"\"),t=\"\";if(e.length%4==1)throw new Error(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,s=0,i=0,r=0;n=e.charAt(r++);~n&&(i=s%4?64*i+n:n,s++%4)?t+=String.fromCharCode(255&i>>(-2*s&6)):0)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(n);return t}),\"undefined\"==typeof window&&(t.window={WebSocket:i,URL:{createObjectURL:function(){throw new Error(\"Unable to use window.URL in a non browser application\")}}});var r=\"0\",o=s||\"0.15\",u=\"tinodejs/\"+o,h=503,l=\"Connection failed\";function d(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(\"0x\"+t)}))}function f(e,t,s){if(null==t)return e;if(\"object\"!=n(t))return t||e;if(t instanceof Date)return t;if(t instanceof M)return new M(t);if(t instanceof Array)return t.length>0?t:e;for(var i in e&&e!==w.DEL_CHAR||(e=t.constructor()),t)!t.hasOwnProperty(i)||!t[i]&&!1!==t[i]||s&&s[i]||\"_generated\"==i||(e[i]=f(e[i],t[i]));return e}function p(e,t,n,s){return e[t]=f(e[t],n,s),e[t]}function g(){var e=null;if(\"withCredentials\"in new XMLHttpRequest)e=new XMLHttpRequest;else{if(\"undefined\"==typeof XDomainRequest)throw new Error(\"Browser not supported\");e=new XDomainRequest}return e}function _(e,t){if(\"ts\"===e&&\"string\"==typeof t&&t.length>=20&&t.length<=24){var s=new Date(t);if(s)return s}else if(\"acs\"===e&&\"object\"===n(t))return new M(t);return t}function v(e,t){return\"string\"==typeof t&&t.length>128?\"<\"+t.length+\", bytes: \"+t.substring(0,12)+\"...\"+t.substring(t.length-12)+\">\":function(e,t){if(t instanceof Date)t=function(e){if(e&&0!=e.getTime()){var t=e.getUTCMilliseconds();return e.getUTCFullYear()+\"-\"+n(e.getUTCMonth()+1)+\"-\"+n(e.getUTCDate())+\"T\"+n(e.getUTCHours())+\":\"+n(e.getUTCMinutes())+\":\"+n(e.getUTCSeconds())+(t?\".\"+n(t,3):\"\")+\"Z\"}function n(e,t){return\"0\".repeat((t=t||2)-(\"\"+e).length)+e}}(t);else if(null==t||!1===t||Array.isArray(t)&&0==t.length||\"object\"==n(t)&&0==Object.keys(t).length)return;return t}(0,t)}function m(e,t,n){var s=null;return\"http\"!==t&&\"https\"!==t&&\"ws\"!==t&&\"wss\"!==t||(s=t+\"://\",\"/\"!==(s+=e).charAt(s.length-1)&&(s+=\"/\"),s+=\"v\"+r+\"/channels\",\"http\"!==t&&\"https\"!==t||(s+=\"/lp\"),s+=\"?apikey=\"+n),s}var b=function(e,t,s,r,o){var a=this,c=e,u=r,d=t,f=o,p=2e3,v=10,b=.3,w=null,S=0,M=!1,T=function(e){a.logger&&a.logger(e)};function y(e){var t=null;e.connect=function(n){return t&&1===t.readyState?Promise.resolve():(n&&(c=n),new Promise(function(n,s){var r=m(c,u?\"wss\":\"ws\",d);T(\"Connecting to: \"+r);var o=new i(r);o.onopen=function(t){M=!1,e.onOpen&&e.onOpen(),n(),f&&(clearTimeout(w),w=null,S=0)},o.onclose=function(n){t=null,e.onDisconnect&&e.onDisconnect(null),!M&&f&&function(){var e=this;clearTimeout(w);var t=p*(Math.pow(2,S)*(1+b*Math.random()));S=S>=v?S:S+1,w=setTimeout(function(){T(\"Reconnecting, iter=\"+S+\", timeout=\"+t),M||e.connect().catch(function(){})},t)}.call(e)},o.onerror=function(e){s(e)},o.onmessage=function(t){e.onMessage&&e.onMessage(t.data)},t=o}))},e.disconnect=function(){t&&(M=!0,t.close()),t=null},e.sendText=function(e){if(!t||t.readyState!=t.OPEN)throw new Error(\"Websocket is not connected\");t.send(e)},e.isConnected=function(){return t&&1===t.readyState},e.transport=function(){return\"ws\"}}function D(e){var t=null,n=null,s=null;e.connect=function(s){return n?Promise.resolve():(s&&(c=s),new Promise(function(s,i){var r=m(c,u?\"https\":\"http\",d);T(\"Connecting to: \"+r),(n=function n(s,i,r){var o=g();return o.onreadystatechange=function(a){if(4==o.readyState)if(201==o.status){var c=JSON.parse(o.responseText,_);o.responseText,t=s+\"&sid=\"+c.ctrl.params.sid,(o=n(t)).send(null),e.onOpen&&e.onOpen(),i&&i()}else if(200==o.status)e.onMessage&&e.onMessage(o.responseText),(o=n(t)).send(null);else if(r&&r(o.responseText),e.onMessage&&o.responseText&&e.onMessage(o.responseText),e.onDisconnect){var u=o.status||h,d=o.responseText||l;e.onDisconnect(new Error(d+\"(\"+u+\")\"))}},o.open(\"GET\",s,!0),o}(r,s,i)).send(null)}).catch(function(){}))},e.disconnect=function(){s&&(s.onreadystatechange=void 0,s.abort(),s=null),n&&(n.onreadystatechange=void 0,n.abort(),n=null),e.onDisconnect&&e.onDisconnect(null),t=null},e.sendText=function(e){var n,i;if(n=t,(i=g()).onreadystatechange=function(e){if(4==i.readyState&&i.status>=400)throw new Error(\"LP sender failed, \"+i.status)},i.open(\"POST\",n,!0),!(s=i)||1!=s.readyState)throw new Error(\"Long poller failed to connect\");s.send(e)},e.isConnected=function(){return n&&!0},e.transport=function(){return\"lp\"}}\"lp\"===s?D(this):\"ws\"===s?y(this):\"object\"==(\"undefined\"==typeof window?\"undefined\":n(window))&&window.WebSocket?y(this):D(this),this.onMessage=void 0,this.onDisconnect=void 0,this.onOpen=void 0,this.logger=void 0},w=function(e,t,s,i,r){var a=this;this._appName=e||\"Undefined\",this._apiKey=s,this._browser=\"\",this._platform=\"undefined\",this._humanLanguage=\"xx\",\"undefined\"!=typeof navigator&&(this._browser=function(e){var t,n=(e=(e||\"\").replace(\" (KHTML, like Gecko)\",\"\")).match(/(AppleWebKit\\/[.\\d]+)/i);if(n){for(var s=[\"chrome\",\"safari\",\"mobile\",\"version\"],i=e.substr(n.index+n[0].length).split(\" \"),r=[],o=0;o<i.length;o++){var a=/([\\w.]+)[\\/]([\\.\\d]+)/.exec(i[o]);a&&r.push([a[1],a[2],s.findIndex(function(e){return e==a[1].toLowerCase()})])}r.sort(function(e,t){var n=e[2]-t[2];return 0!=n?n:t[0].length-e[0].length}),t=r.length>0?r[0][0]+\"/\"+r[0][1]:n[1]}else t=/trident/i.test(e)?(n=/(?:\\brv[ :]+([.\\d]+))|(?:\\bMSIE ([.\\d]+))/g.exec(e))?\"MSIE/\"+(n[1]||n[2]):\"MSIE/?\":/firefox/i.test(e)?(n=/Firefox\\/([.\\d]+)/g.exec(e))?\"Firefox/\"+n[1]:\"Firefox/?\":/presto/i.test(e)?(n=/Opera\\/([.\\d]+)/g.exec(e))?\"Opera/\"+n[1]:\"Opera/?\":(n=/([\\w.]+)\\/([.\\d]+)/.exec(e))?n[1]+\"/\"+n[2]:(n=e.split(\" \"))[0];if((n=t.split(\"/\")).length>1){var c=n[1].split(\".\");t=n[0]+\"/\"+c[0]+(c[1]?\".\"+c[1]:\"\")}return t}(navigator.userAgent),this._platform=navigator.platform,this._humanLanguage=navigator.language||\"en-US\"),this._loggingEnabled=!1,this._trimLongStrings=!1,this._myUID=null,this._authenticated=!1,this._login=null,this._authToken=null,this._inPacketCount=0,this._messageId=Math.floor(65535*Math.random()+65535),this._serverInfo=null,this._deviceToken=null,this._pendingPromises={},this._connection=new b(t,s,i,r,!0),this.logger=function(e){if(a._loggingEnabled){var t=new Date,n=(\"0\"+t.getUTCHours()).slice(-2)+\":\"+(\"0\"+t.getUTCMinutes()).slice(-2)+\":\"+(\"0\"+t.getUTCSeconds()).slice(-2)+\":\"+(\"0\"+t.getUTCMilliseconds()).slice(-3);console.log(\"[\"+n+\"] \"+e)}},this._connection.logger=this.logger,this._cache={};var c=this.cachePut=function(e,t,n){a._cache[e+\":\"+t]=n},d=this.cacheGet=function(e,t){return a._cache[e+\":\"+t]},p=this.cacheDel=function(e,t){delete a._cache[e+\":\"+t]},g=this.cacheMap=function(e,t){for(var n in a._cache)if(e(a._cache[n],n,t))break};this.attachCacheToTopic=function(e){e._tinode=a,e._cacheGetUser=function(e){var t=d(\"user\",e);if(t)return{user:e,public:f({},t)}},e._cachePutUser=function(e,t){return c(\"user\",e,f({},t.public))},e._cacheDelUser=function(e){return p(\"user\",e)},e._cachePutSelf=function(){return c(\"topic\",e.name,e)},e._cacheDelSelf=function(){return p(\"topic\",e.name)}};var m=function(e,t,n,s){var i=a._pendingPromises[e];i&&(delete a._pendingPromises[e],t>=200&&t<400?i.resolve&&i.resolve(n):i.reject&&i.reject(new Error(\"Error: \"+s+\" (\"+t+\")\")))},w=this.getNextUniqueId=function(){return 0!=a._messageId?\"\"+a._messageId++:void 0};this.initPacket=function(e,t){switch(e){case\"hi\":return{hi:{id:w(),ver:o,ua:a._appName+\" (\"+(a._browser?a._browser+\"; \":\"\")+a._platform+\"); \"+u,dev:a._deviceToken,lang:a._humanLanguage}};case\"acc\":return{acc:{id:w(),user:null,scheme:null,secret:null,login:!1,tags:null,desc:{},cred:{}}};case\"login\":return{login:{id:w(),scheme:null,secret:null}};case\"sub\":return{sub:{id:w(),topic:t,set:{},get:{}}};case\"leave\":return{leave:{id:w(),topic:t,unsub:!1}};case\"pub\":return{pub:{id:w(),topic:t,noecho:!1,head:null,content:{}}};case\"get\":return{get:{id:w(),topic:t,what:null,desc:{},sub:{},data:{}}};case\"set\":return{set:{id:w(),topic:t,desc:{},sub:{},tags:[]}};case\"del\":return{del:{id:w(),topic:t,what:null,delseq:null,user:null,hard:!1}};case\"note\":return{note:{topic:t,what:null,seq:void 0}};default:throw new Error(\"Unknown packet type requested: \"+e)}},this.send=function(e,t){var s;t&&(s=function(e){var t=null;return e&&(t=new Promise(function(t,n){a._pendingPromises[e]={resolve:t,reject:n}})),t}(t)),e=function e(t){return Object.keys(t).forEach(function(s){\"_\"==s[0]?delete t[s]:t[s]?Array.isArray(t[s])&&0==t[s].length?delete t[s]:t[s]?\"object\"!=n(t[s])||t[s]instanceof Date||(e(t[s]),0==Object.getOwnPropertyNames(t[s]).length&&delete t[s]):delete t[s]:delete t[s]}),t}(e);var i=JSON.stringify(e);a.logger(\"out: \"+(a._trimLongStrings?JSON.stringify(e,v):i));try{a._connection.sendText(i)}catch(e){if(!t)throw e;m(t,h,null,e.message)}return s},this.loginSuccessful=function(e){e.params&&e.params.user&&(a._myUID=e.params.user,a._authenticated=e&&e.code>=200&&e.code<300,e.params&&e.params.token&&e.params.expires?a._authToken={token:e.params.token,expires:new Date(e.params.expires)}:a._authToken=null,a.onLogin&&a.onLogin(e.code,e.text))},this._connection.onMessage=function(e){if(e){a._inPacketCount++,a.onRawMessage&&a.onRawMessage(e);var t=JSON.parse(e,_);if(t)if(a.logger(\"in: \"+(a._trimLongStrings?JSON.stringify(t,v):e)),a.onMessage&&a.onMessage(t),t.ctrl)a.onCtrlMessage&&a.onCtrlMessage(t.ctrl),t.ctrl.id&&m(t.ctrl.id,t.ctrl.code,t.ctrl,t.ctrl.text),t.ctrl.params&&\"data\"==t.ctrl.params.what&&(n=d(\"topic\",t.ctrl.topic))&&n._allMessagesReceived(t.ctrl.params.count);else if(t.meta)(n=d(\"topic\",t.meta.topic))&&n._routeMeta(t.meta),a.onMetaMessage&&a.onMetaMessage(t.meta);else if(t.data)(n=d(\"topic\",t.data.topic))&&n._routeData(t.data),a.onDataMessage&&a.onDataMessage(t.data);else if(t.pres)(n=d(\"topic\",t.pres.topic))&&n._routePres(t.pres),a.onPresMessage&&a.onPresMessage(t.pres);else if(t.info){var n;(n=d(\"topic\",t.info.topic))&&n._routeInfo(t.info),a.onInfoMessage&&a.onInfoMessage(t.info)}else a.logger(\"ERROR: Unknown packet received.\");else a.logger(\"in: \"+e),a.logger(\"ERROR: failed to parse data\")}},this._connection.onOpen=function(){a.hello()},this._connection.onDisconnect=function(e){for(var t in a._inPacketCount=0,a._serverInfo=null,a._authenticated=!1,a._pendingPromises){var n=a._pendingPromises[t];n&&n.reject&&n.reject(new Error(l+\" (\"+h+\")\"))}a._pendingPromises={},g(function(e,t){0===t.lastIndexOf(\"topic:\",0)&&e._resetSub()}),a.onDisconnect&&a.onDisconnect(e)}};w.credential=function(e,t,s,i){if(\"object\"==n(e)){var r=e;t=r.val,s=r.params,i=r.resp,e=r.meth}return e&&(t||i)?[{meth:e,val:t,resp:i,params:s}]:null},w.topicType=function(e){return{me:\"me\",fnd:\"fnd\",grp:\"grp\",new:\"grp\",usr:\"p2p\"}[\"string\"==typeof e?e.substring(0,3):\"xxx\"]},w.isNewGroupTopicName=function(e){return\"string\"==typeof e&&\"new\"==e.substring(0,3)},w.getVersion=function(){return o},w.setWebSocketProvider=function(e){i=e},w.getLibrary=function(){return u},w.MESSAGE_STATUS_NONE=0,w.MESSAGE_STATUS_QUEUED=1,w.MESSAGE_STATUS_SENDING=2,w.MESSAGE_STATUS_FAILED=3,w.MESSAGE_STATUS_SENT=4,w.MESSAGE_STATUS_RECEIVED=5,w.MESSAGE_STATUS_READ=6,w.MESSAGE_STATUS_TO_ME=7,w.DEL_CHAR=\"\\u2421\",w.prototype={connect:function(e){return this._connection.connect(e)},disconnect:function(){this._connection&&this._connection.disconnect()},isConnected:function(){return this._connection&&this._connection.isConnected()},isAuthenticated:function(){return this._authenticated},account:function(e,t,n,s,i){var r=this.initPacket(\"acc\");return r.acc.user=e,r.acc.scheme=t,r.acc.secret=n,r.acc.login=s,i&&(r.acc.desc.defacs=i.defacs,r.acc.desc.public=i.public,r.acc.desc.private=i.private,r.acc.tags=i.tags,r.acc.cred=i.cred,r.acc.token=i.token),this.send(r,r.acc.id)},createAccount:function(e,t,n,s){var i=this,r=this.account(\"new\",e,t,n,s);return n&&(r=r.then(function(e){return i.loginSuccessful(e),e})),r},createAccountBasic:function(e,t,n){return e=e||\"\",t=t||\"\",this.createAccount(\"basic\",d(e+\":\"+t),!0,n)},updateAccountBasic:function(e,t,n,s){return t=t||\"\",n=n||\"\",this.account(e,\"basic\",d(t+\":\"+n),!1,s)},hello:function(){var e=this,t=this.initPacket(\"hi\");return this.send(t,t.hi.id).then(function(t){return t.params&&(e._serverInfo=t.params),e.onConnect&&e.onConnect(),t}).catch(function(t){e.onDisconnect&&e.onDisconnect(t)})},setDeviceToken:function(e,t){var n=!1;return e&&e!=this._deviceToken&&(this._deviceToken=e,t&&this.isConnected()&&this.isAuthenticated()&&(this.send({hi:{dev:e}}),n=!0)),n},login:function(e,t,n){var s=this,i=this.initPacket(\"login\");return i.login.scheme=e,i.login.secret=t,i.login.cred=n,this.send(i,i.login.id).then(function(e){return s.loginSuccessful(e),e})},loginBasic:function(e,t,n){var s=this;return this.login(\"basic\",d(e+\":\"+t),n).then(function(t){return s._login=e,t})},loginToken:function(e,t){return this.login(\"token\",e,t)},requestResetAuthSecret:function(e,t,n){return this.login(\"reset\",d(e+\":\"+t+\":\"+n))},getAuthToken:function(){return this._authToken&&this._authToken.expires.getTime()>Date.now()?this._authToken:(this._authToken=null,null)},setAuthToken:function(e){this._authToken=e},subscribe:function(e,t,n){var s=this.initPacket(\"sub\",e);return e||(e=\"new\"),s.sub.get=t,n&&(n.sub&&(s.sub.set.sub=n.sub),w.isNewGroupTopicName(e)&&n.desc&&(s.sub.set.desc=n.desc),n.tags&&(s.sub.set.tags=n.tags)),this.send(s,s.sub.id)},leave:function(e,t){var n=this.initPacket(\"leave\",e);return n.leave.unsub=t,this.send(n,n.leave.id)},createMessage:function(t,n,s){var i=this.initPacket(\"pub\",t),r=\"string\"==typeof n?e.parse(n):n;return r&&!e.isPlainText(r)&&(i.pub.head={mime:e.getContentType()},n=r),i.pub.noecho=s,i.pub.content=n,i.pub},publish:function(e,t,n){return this.publishMessage(this.createMessage(e,t,n))},publishMessage:function(e){return(e=Object.assign({},e)).seq=void 0,e.from=void 0,e.ts=void 0,this.send({pub:e},e.id)},getMeta:function(e,t){var n=this.initPacket(\"get\",e);return n.get=f(n.get,t),this.send(n,n.get.id)},setMeta:function(e,t){var n=this.initPacket(\"set\",e),s=[];return t&&[\"desc\",\"sub\",\"tags\"].map(function(e){t.hasOwnProperty(e)&&(s.push(e),n.set[e]=t[e])}),0==s.length?Promise.reject(new Error(\"Invalid {set} parameters\")):this.send(n,n.set.id)},delMessages:function(e,t,n){var s=this.initPacket(\"del\",e);return s.del.what=\"msg\",s.del.delseq=t,s.del.hard=n,this.send(s,s.del.id)},delTopic:function(e){var t=this,n=this.initPacket(\"del\",e);return n.del.what=\"topic\",this.send(n,n.del.id).then(function(n){return t.cacheDel(\"topic\",e),t.ctrl})},delSubscription:function(e,t){var n=this.initPacket(\"del\",e);return n.del.what=\"sub\",n.del.user=t,this.send(n,n.del.id)},note:function(e,t,n){if(n<=0||n>=268435455)throw new Error(\"Invalid message id \"+n);var s=this.initPacket(\"note\",e);s.note.what=t,s.note.seq=n,this.send(s)},noteKeyPress:function(e){var t=this.initPacket(\"note\",e);t.note.what=\"kp\",this.send(t)},getTopic:function(e){var t=this.cacheGet(\"topic\",e);return!t&&e&&(t=\"me\"==e?new y:\"fnd\"==e?new D:new T(e),this.cachePut(\"topic\",e,t),this.attachCacheToTopic(t)),t},newTopic:function(e){var t=new T(\"new\",e);return this.attachCacheToTopic(t),t},newGroupTopicName:function(){return\"new\"+this.getNextUniqueId()},newTopicWith:function(e,t){var n=new T(e,t);return this.attachCacheToTopic(n),n},getMeTopic:function(){return this.getTopic(\"me\")},getFndTopic:function(){return this.getTopic(\"fnd\")},getLargeFileHelper:function(){return new E(this)},getCurrentUserID:function(){return this._myUID},getCurrentLogin:function(){return this._login},getServerInfo:function(){return this._serverInfo},enableLogging:function(e,t){this._loggingEnabled=e,this._trimLongStrings=e&&t},isTopicOnline:function(e){var t=this.getMeTopic(),n=t&&t.getContact(e);return n&&n.online},wantAkn:function(e){this._messageId=e?Math.floor(16777215*Math.random()+16777215):0},onWebsocketOpen:void 0,onConnect:void 0,onDisconnect:void 0,onLogin:void 0,onCtrlMessage:void 0,onDataMessage:void 0,onPresMessage:void 0,onMessage:void 0,onRawMessage:void 0};var S=function(e){this.topic=e;var t=e._tinode.getMeTopic();this.contact=t&&t.getContact(e.name),this.what={}};S.prototype={_get_ims:function(){var e=this.contact&&this.contact.updated,t=this.topic._lastDescUpdate||0;return e>t?e:t},withData:function(e,t,n){return this.what.data={since:e,before:t,limit:n},this},withLaterData:function(e){return this.withData(this.topic._maxSeq>0?this.topic._maxSeq+1:void 0,void 0,e)},withEarlierData:function(e){return this.withData(void 0,this.topic._minSeq>0?this.topic._minSeq:void 0,e)},withDesc:function(e){return this.what.desc={ims:e},this},withLaterDesc:function(){return this.withDesc(this._get_ims())},withSub:function(e,t,n){var s={ims:e,limit:t};return\"me\"==this.topic.getType()?s.topic=n:s.user=n,this.what.sub=s,this},withOneSub:function(e,t){return this.withSub(e,void 0,t)},withLaterOneSub:function(e){return this.withOneSub(this.topic._lastSubsUpdate,e)},withLaterSub:function(e){return this.withSub(\"p2p\"==this.topic.getType()?this._get_ims():this.topic._lastSubsUpdate,e)},withTags:function(){return this.what.tags=!0,this},withDel:function(e,t){return(e||t)&&(this.what.del={since:e,limit:t}),this},withLaterDel:function(e){return this.withDel(this.topic._maxSeq>0?this.topic._maxDel+1:void 0,e)},build:function(){var e={},t=[],n=this;return[\"data\",\"sub\",\"desc\",\"tags\",\"del\"].map(function(s){n.what.hasOwnProperty(s)&&(t.push(s),Object.getOwnPropertyNames(n.what[s]).length>0&&(e[s]=n.what[s]))}),t.length>0?e.what=t.join(\" \"):e=void 0,e}};var M=function e(t){t&&(this.given=\"number\"==typeof t.given?t.given:e.decode(t.given),this.want=\"number\"==typeof t.want?t.want:e.decode(t.want),this.mode=t.mode?\"number\"==typeof t.mode?t.mode:e.decode(t.mode):this.given&this.want)};M._NONE=0,M._JOIN=1,M._READ=2,M._WRITE=4,M._PRES=8,M._APPROVE=16,M._SHARE=32,M._DELETE=64,M._OWNER=128,M._BITMASK=M._JOIN|M._READ|M._WRITE|M._PRES|M._APPROVE|M._SHARE|M._DELETE|M._OWNER,M._INVALID=1048576,M.decode=function(e){if(!e)return null;if(\"number\"==typeof e)return e&M._BITMASK;if(\"N\"===e||\"n\"===e)return M._NONE;for(var t={J:M._JOIN,R:M._READ,W:M._WRITE,P:M._PRES,A:M._APPROVE,S:M._SHARE,D:M._DELETE,O:M._OWNER},n=M._NONE,s=0;s<e.length;s++){var i=t[e.charAt(s).toUpperCase()];i&&(n|=i)}return n},M.encode=function(e){if(null===e||e===M._INVALID)return null;if(e===M._NONE)return\"N\";for(var t=[\"J\",\"R\",\"W\",\"P\",\"A\",\"S\",\"D\",\"O\"],n=\"\",s=0;s<t.length;s++)0!=(e&1<<s)&&(n+=t[s]);return n},M.update=function(e,t){if(!t||\"string\"!=typeof t)return e;var n=t.charAt(0);if(\"+\"==n||\"-\"==n){for(var s=e,i=t.split(/([-+])/),r=1;r<i.length-1;r+=2){n=i[r];var o=M.decode(i[r+1]);if(o==M._INVALID)return e;null!=o&&(\"+\"===n?s|=o:\"-\"===n&&(s&=~o))}e=s}else(s=M.decode(t))!=M._INVALID&&(e=s);return e},M.prototype={setMode:function(e){return this.mode=M.decode(e),this},updateMode:function(e){return this.mode=M.update(this.mode,e),this},getMode:function(){return M.encode(this.mode)},setGiven:function(e){return this.given=M.decode(e),this},updateGiven:function(e){return this.given=M.update(this.given,e),this},getGiven:function(){return M.encode(this.given)},setWant:function(e){return this.want=M.decode(e),this},updateWant:function(e){return this.want=M.update(this.want,e),this},getWant:function(){return M.encode(this.want)},updateAll:function(e){return e&&(this.updateGiven(e.given),this.updateWant(e.want),this.mode=this.given&this.want),this},isOwner:function(){return 0!=(this.mode&M._OWNER)},isMuted:function(){return 0==(this.mode&M._PRES)},isPresencer:function(){return 0!=(this.mode&M._PRES)},isJoiner:function(){return 0!=(this.mode&M._JOIN)},isReader:function(){return 0!=(this.mode&M._READ)},isWriter:function(){return 0!=(this.mode&M._WRITE)},isApprover:function(){return 0!=(this.mode&M._APPROVE)},isAdmin:function(){return this.isOwner()||this.isApprover()},isSharer:function(){return 0!=(this.mode&M._SHARE)},isDeleter:function(){return 0!=(this.mode&M._DELETE)}};var T=function(e,t){this._tinode=null,this.name=e,this.created=null,this.updated=null,this.touched=null,this.acs=new M(null),this.private=null,this.public=null,this._users={},this._queuedSeqId=268435455,this._maxSeq=0,this._minSeq=0,this._noEarlierMsgs=!1,this._maxDel=0,this._tags=[],this._messages=function(e){var t=[];function n(t,n,s){for(var i=0,r=n.length-1,o=0,a=0,c=!1;i<=r;)if((a=e(n[o=(i+r)/2|0],t))<0)i=o+1;else{if(!(a>0)){c=!0;break}r=o-1}return c?o:s?-1:a<0?o+1:o}function s(e,t){var s=n(e,t,!1);return t.splice(s,0,e),t}return e=e||function(e,t){return e===t?0:e<t?-1:1},{getAt:function(e){return t[e]},put:function(){var e;for(var n in e=1==arguments.length&&Array.isArray(arguments[0])?arguments[0]:arguments)s(e[n],t)},delAt:function(e){var n=t.splice(e,1);if(n&&n.length>0)return n[0]},delRange:function(e,n){return t.splice(e,n-e)},size:function(){return t.length},reset:function(e){t=[]},forEach:function(e,n,s,i){n|=0,s=s||t.length;for(var r=n;r<s;r++)e.call(i,t[r],r)},find:function(e,s){return n(e,t,!s)}}}(function(e,t){return e.seq-t.seq}),this._subscribed=!1,this._lastDescUpdate=null,this._lastSubsUpdate=null,this._new=!0,t&&(this.onData=t.onData,this.onMeta=t.onMeta,this.onPres=t.onPres,this.onInfo=t.onInfo,this.onMetaDesc=t.onMetaDesc,this.onMetaSub=t.onMetaSub,this.onSubsUpdated=t.onSubsUpdated,this.onTagsUpdated=t.onTagsUpdated,this.onDeleteTopic=t.onDeleteTopic,this.onAllMessagesReceived=t.onAllMessagesReceived)};T.prototype={isSubscribed:function(){return this._subscribed},subscribe:function(e,t){var n=this;if(this._subscribed)return Promise.resolve(this);var s=this.name;return this._tinode.subscribe(s||\"new\",e,t).then(function(e){if(e.code>=300)return e;if(n._subscribed=!0,n.acs=e.params&&e.params.acs?e.params.acs:n.acs,n._new){n._new=!1,n.name=e.topic,n.created=e.ts,n.updated=e.ts,n.touched=e.ts,n._cachePutSelf();var s=n._tinode.getMeTopic();s&&s._processMetaSub([{_generated:!0,topic:n.name,created:e.ts,updated:e.ts,touched:e.ts,acs:n.acs}]),t&&t.desc&&(t.desc._generated=!0,n._processMetaDesc(t.desc))}return e})},createMessage:function(e,t){return this._tinode.createMessage(this.name,e,t)},publish:function(e,t){return this.publishMessage(this.createMessage(e,t))},publishMessage:function(t){var n=this;if(!this._subscribed)return Promise.reject(new Error(\"Cannot publish on inactive topic\"));if(e.hasAttachments(t.content)&&!t.head.attachments){var s=[];e.attachments(t.content,function(e){s.push(e.ref)}),t.head.attachments=s}return t._sending=!0,this._tinode.publishMessage(t).then(function(e){return t._sending=!1,t.seq=e.params.seq,t.ts=e.ts,n._routeData(t),e}).catch(function(e){t._sending=!1,t._failed=!0})},publishDraft:function(e,t){var n=this;if(!t&&!this._subscribed)return Promise.reject(new Error(\"Cannot publish on inactive topic\"));var s=e.seq||this._getQueuedSeqId();return e._generated||(e._generated=!0,e.seq=s,e.ts=new Date,e.from=this._tinode.getCurrentUserID(),e.noecho=!0,this._messages.put(e),this.onData&&this.onData(e)),(t||Promise.resolve()).then(function(){return e._cancelled?{code:300,text:\"cancelled\"}:n.publishMessage(e)},function(t){e._sending=!1,n._messages.delAt(n._messages.find(e)),n.onData&&n.onData()})},leave:function(e){var t=this;return this._subscribed||e?this._tinode.leave(this.name,e).then(function(n){return t._resetSub(),e&&t._gone(),n}):Promise.reject(new Error(\"Cannot leave inactive topic\"))},getMeta:function(e){return this._subscribed?this._tinode.getMeta(this.name,e):Promise.reject(new Error(\"Cannot query inactive topic\"))},getMessagesPage:function(e,t){var n=this,s=this.startMetaQuery();t?s.withLaterData(e):s.withEarlierData(e);var i=this.getMeta(s.build());return t||(i=i.then(function(e){e&&e.params&&!e.params.count&&(n._noEarlierMsgs=!0)})),i},setMeta:function(e){var t=this;return this._subscribed?(e.tags&&(e.tags=function(e){var t=[];if(Array.isArray(e)){for(var n=0,s=e.length;n<s;n++){var i=e[n];i&&(i=i.trim().toLowerCase()).length>1&&t.push(i)}t.sort().filter(function(e,t,n){return!t||e!=n[t-1]})}return 0==t.length&&t.push(w.DEL_CHAR),t}(e.tags)),this._tinode.setMeta(this.name,e).then(function(n){return n&&n.code>=300?n:(e.sub&&(n.params&&n.params.acs&&(e.sub.acs=n.params.acs,e.sub.updated=n.ts),e.sub.user||(e.sub.user=t._tinode.getCurrentUserID(),e.desc||(e.desc={})),e.sub._generated=!0,t._processMetaSub([e.sub])),e.desc&&(n.params&&n.params.acs&&(e.desc.acs=n.params.acs,e.desc.updated=n.ts),t._processMetaDesc(e.desc)),e.tags&&t._processMetaTags(e.tags),n)})):Promise.reject(new Error(\"Cannot update inactive topic\"))},invite:function(e,t){return this.setMeta({sub:{user:e,mode:t}})},delMessages:function(e,t){var n=this;if(!this._subscribed)return Promise.reject(new Error(\"Cannot delete messages in inactive topic\"));e.sort(function(e,t){return e.low<t.low||e.low==t.low&&(!t.hi||e.hi>=t.hi)});var s=e.reduce(function(e,t){return t.low<268435455&&(!t.hi||t.hi<268435455?e.push(t):e.push({low:t.low,hi:n._maxSeq+1})),e},[]);return(e.length>0?this._tinode.delMessages(this.name,s,t):Promise.resolve({params:{del:0}})).then(function(t){return t.params.del>n._maxDel&&(n._maxDel=t.params.del),e.map(function(e){e.hi?n.flushMessageRange(e.low,e.hi):n.flushMessage(e.low)}),n.onData&&n.onData(),t})},delMessagesAll:function(e){return this.delMessages([{low:1,hi:this._maxSeq+1,_all:!0}],e)},delMessagesList:function(e,t){e.sort(function(e,t){return e-t});var n=e.reduce(function(e,t){if(0==e.length)e.push({low:t});else{var n=e[e.length-1];!n.hi&&t!=n.low+1||t>n.hi?e.push({low:t}):n.hi=n.hi?Math.max(n.hi,t+1):t+1}return e},[]);return this.delMessages(n,t)},delTopic:function(){var e=this;return this._tinode.delTopic(this.name).then(function(t){return e._resetSub(),e._gone(),t})},delSubscription:function(e){var t=this;return this._subscribed?this._tinode.delSubscription(this.name,e).then(function(n){return delete t._users[e],t.onSubsUpdated&&t.onSubsUpdated(Object.keys(t._users)),n}):Promise.reject(new Error(\"Cannot delete subscription in inactive topic\"))},note:function(e,t){var n=this._users[this._tinode.getCurrentUserID()];n?((!n[e]||n[e]<t)&&(this._subscribed?this._tinode.note(this.name,e,t):this._tinode.logger(\"Not sending {note} on inactive topic\")),n[e]=t):this._tinode.logger(\"note(): user not found \"+this._tinode.getCurrentUserID());var s=this._tinode.getMeTopic();s&&s.setMsgReadRecv(this.name,e,t)},noteRecv:function(e){this.note(\"recv\",e)},noteRead:function(e){this.note(\"read\",e)},noteKeyPress:function(){this._subscribed?this._tinode.noteKeyPress(this.name):this._tinode.logger(\"Cannot send notification in inactive topic\")},userDesc:function(e){var t=this._cacheGetUser(e);if(t)return t},subscribers:function(e,t){var n=e||this.onMetaSub;if(n)for(var s in this._users)n.call(t,this._users[s],s,this._users)},tags:function(){return this._tags.slice(0)},subscriber:function(e){return this._users[e]},messages:function(e,t,n,s){var i=e||this.onData;if(i){var r=\"number\"==typeof t?this._messages.find({seq:t}):void 0,o=\"number\"==typeof n?this._messages.find({seq:n},!0):void 0;-1!=r&&-1!=o&&this._messages.forEach(i,r,o,s)}},queuedMessages:function(e,t){if(!e)throw new Error(\"Callback must be provided\");this.messages(e,268435455,void 0,t)},msgReceiptCount:function(e,t){var n=0,s=this._tinode.getCurrentUserID();if(t>0)for(var i in this._users){var r=this._users[i];r.user!==s&&r[e]>=t&&n++}return n},msgReadCount:function(e){return this.msgReceiptCount(\"read\",e)},msgRecvCount:function(e){return this.msgReceiptCount(\"recv\",e)},msgHasMoreMessages:function(e){return e?this.seq>this._maxSeq:this._minSeq>1&&!this._noEarlierMsgs},isNewMessage:function(e){return this._maxSeq<=e},flushMessage:function(e){var t=this._messages.find({seq:e});return t>=0?this._messages.delAt(t):void 0},flushMessageRange:function(e,t){var n=this._messages.find({seq:e});return n>=0?this._messages.delRange(n,this._messages.find({seq:t},!0)):[]},cancelSend:function(e){var t=this._messages.find({seq:e});if(t>=0){var n=this._messages.getAt(t);if(1==this.msgStatus(n))return n._cancelled=!0,this._messages.delAt(t),!0}return!1},getType:function(){return w.topicType(this.name)},getAccessMode:function(){return this.acs},getDefaultAccess:function(){return this.defacs},startMetaQuery:function(){return new S(this)},msgStatus:function(e){var t=0;return e.from==this._tinode.getCurrentUserID()?e._sending?t=2:e._failed?t=3:e.seq>=268435455?t=1:this.msgReadCount(e.seq)>0?t=6:this.msgRecvCount(e.seq)>0?t=5:e.seq>0&&(t=4):t=7,t},_routeData:function(e){e.content&&((!this.touched||this.touched<e.ts)&&(this.touched=e.ts),e._generated||this._messages.put(e)),e.seq>this._maxSeq&&(this._maxSeq=e.seq),(e.seq<this._minSeq||0==this._minSeq)&&(this._minSeq=e.seq),this.onData&&this.onData(e);var t=this._tinode.getMeTopic();t&&t.setMsgReadRecv(this.name,\"msg\",e.seq,e.ts)},_routeMeta:function(e){e.desc&&(this._lastDescUpdate=e.ts,this._processMetaDesc(e.desc)),e.sub&&e.sub.length>0&&(this._lastSubsUpdate=e.ts,this._processMetaSub(e.sub)),e.del&&this._processDelMessages(e.del.clear,e.del.delseq),e.tags&&this._processMetaTags(e.tags),this.onMeta&&this.onMeta(e)},_routePres:function(e){var t;switch(e.what){case\"del\":this._processDelMessages(e.clear,e.delseq);break;case\"on\":case\"off\":(t=this._users[e.src])?t.online=\"on\"==e.what:this._tinode.logger(\"Presence update for an unknown user\",this.name,e.src);break;case\"acs\":var n=\"me\"==e.src?this._tinode.getCurrentUserID():e.src;if(t=this._users[n])t.acs.updateAll(e.dacs),n==this._tinode.getCurrentUserID()&&this.acs.updateAll(e.dacs),t.acs&&t.acs.mode!=M._NONE||(\"p2p\"==this.getType()&&this.leave(),this._processMetaSub([{user:n,deleted:new Date,_generated:!0}]));else{var s=(new M).updateAll(e.dacs);s&&s.mode!=M._NONE&&((t=this._cacheGetUser(n))?t.acs=s:(t={user:n,acs:s},this.getMeta(this.startMetaQuery().withOneSub(void 0,n).build())),t._generated=!0,t.updated=new Date,this._processMetaSub([t]))}break;default:this._tinode.logger(\"Ignored presence update\",e.what)}this.onPres&&this.onPres(e)},_routeInfo:function(e){if(\"kp\"!==e.what){var t=this._users[e.from];t&&(t[e.what]=e.seq)}this.onInfo&&this.onInfo(e)},_processMetaDesc:function(e,t){if(f(this,e),\"string\"==typeof this.created&&(this.created=new Date(this.created)),\"string\"==typeof this.updated&&(this.updated=new Date(this.updated)),\"string\"==typeof this.touched&&(this.touched=new Date(this.touched)),\"me\"!==this.name&&!t&&!e._generated){var n=this._tinode.getMeTopic();n&&n._processMetaSub([{_generated:!0,topic:this.name,updated:this.updated,touched:this.touched,acs:this.acs,public:this.public,private:this.private}])}this.onMetaDesc&&this.onMetaDesc(this)},_processMetaSub:function(e){var t=void 0;for(var n in e){var s=e[n];if(s.user){s.updated=new Date(s.updated),s.deleted=s.deleted?new Date(s.deleted):null;var i=null;s.deleted?(delete this._users[s.user],i=s):((i=this._users[s.user])||(i=this._cacheGetUser(s.user)),i=this._updateCachedUser(s.user,s,s._generated)),this.onMetaSub&&this.onMetaSub(i)}else s._generated||(t=s)}t&&this.onMetaDesc&&this.onMetaDesc(t),this.onSubsUpdated&&this.onSubsUpdated(Object.keys(this._users))},_processMetaTags:function(e){1==e.length&&e[0]==w.DEL_CHAR&&(e=[]),this._tags=e,this.onTagsUpdated&&this.onTagsUpdated(e)},_processDelMessages:function(e,t){this._maxDel=Math.max(e,this._maxDel),this.clear=Math.max(e,this.clear);var n=this,s=0;Array.isArray(t)&&t.map(function(e){if(e.hi)for(var t=e.low;t<e.hi;t++)s++,n.flushMessage(t);else s++,n.flushMessage(e.low)}),s>0&&this.onData&&this.onData()},_allMessagesReceived:function(e){this.onAllMessagesReceived&&this.onAllMessagesReceived(e)},_resetSub:function(){this._subscribed=!1},_gone:function(){this._messages.reset(),this._users={},this.acs=new M(null),this.private=null,this.public=null,this._maxSeq=0,this._minSeq=0,this._subscribed=!1;var e=this._tinode.getMeTopic();e&&e._routePres({_generated:!0,what:\"gone\",topic:\"me\",src:this.name}),this.onDeleteTopic&&this.onDeleteTopic()},_updateCachedUser:function(e,t,n){var s=this._cacheGetUser(e);return s?s=f(s,t):(n&&this.getMeta(this.startMetaQuery().withLaterOneSub(e).build()),s=f({},t)),this._cachePutUser(e,s),p(this._users,e,s)},_getQueuedSeqId:function(){return this._queuedSeqId++}};var y=function(e){T.call(this,\"me\",e),this._contacts={},e&&(this.onContactUpdate=e.onContactUpdate)};y.prototype=Object.create(T.prototype,{_processMetaSub:{value:function(e){var t=0;for(var n in e){var s=e[n],i=s.topic;if(\"fnd\"!=i&&\"me\"!=i){s.updated=new Date(s.updated),s.touched=s.touched?new Date(s.touched):null,s.deleted=s.deleted?new Date(s.deleted):null,s.seq=0|s.seq,s.recv=0|s.recv,s.read=0|s.read,s.unread=s.seq-s.read;var r=null;if(s.deleted)r=s,delete this._contacts[i];else if(s.seen&&s.seen.when&&(s.seen.when=new Date(s.seen.when)),r=p(this._contacts,i,s),\"p2p\"==w.topicType(i)&&this._cachePutUser(i,r),!s._generated){var o=this._tinode.getTopic(i);o&&o._processMetaDesc(s,!0)}t++,this.onMetaSub&&this.onMetaSub(r)}}t>0&&this.onSubsUpdated&&this.onSubsUpdated(Object.keys(this._contacts))},enumerable:!0,configurable:!0,writable:!1},_routePres:{value:function(e){var t=this._contacts[e.src];if(t){switch(e.what){case\"on\":t.online=!0;break;case\"off\":t.online&&(t.online=!1,t.seen?t.seen.when=new Date:t.seen={when:new Date});break;case\"msg\":t.touched=new Date,t.seq=0|e.seq,t.unread=t.seq-t.read;break;case\"upd\":this.getMeta(this.startMetaQuery().withLaterOneSub(e.src).build());break;case\"acs\":t.acs?t.acs.updateAll(e.dacs):t.acs=(new M).updateAll(e.dacs);break;case\"ua\":t.seen={when:new Date,ua:e.ua};break;case\"recv\":t.recv=t.recv?Math.max(t.recv,e.seq):0|e.seq;break;case\"read\":t.read=t.read?Math.max(t.read,e.seq):0|e.seq,t.unread=t.seq-t.read;break;case\"gone\":delete this._contacts[e.src]}this.onContactUpdate&&this.onContactUpdate(e.what,t)}else if(\"acs\"==e.what){var n=new M(e.dacs);if(!n||n.mode==M._INVALID)return void this._tinode.logger(\"Invalid access mode update\",e.src,e.dacs);if(n.mode==M._NONE)return void this._tinode.logger(\"Removing non-existent subscription\",e.src,e.dacs);this.getMeta(this.startMetaQuery().withOneSub(void 0,e.src).build()),this._contacts[e.src]={topic:e.src,online:!1,acs:n}}this.onPres&&this.onPres(e)},enumerable:!0,configurable:!0,writable:!1},publish:{value:function(){return Promise.reject(new Error(\"Publishing to 'me' is not supported\"))},enumerable:!0,configurable:!0,writable:!1},contacts:{value:function(e,t){var n=e||this.onMetaSub;if(n)for(var s in this._contacts)n.call(t,this._contacts[s],s,this._contacts)},enumerable:!0,configurable:!0,writable:!0},setMsgReadRecv:{value:function(e,t,n,s){var i,r=this._contacts[e],o=!1;if(r){switch(n|=0,t){case\"recv\":i=r.recv,r.recv=r.recv?Math.max(r.recv,n):n,o=i!=r.recv;break;case\"read\":i=r.read,r.read=r.read?Math.max(r.read,n):n,r.unread=r.seq-r.read,o=i!=r.read,r.recv<r.read&&(r.recv=r.read,o=!0);break;case\"msg\":i=r.seq,r.seq=r.seq?Math.max(r.seq,n):n,r.unread=r.seq-r.read,(!r.touched||r.touched<s)&&(r.touched=s),o=i!=r.seq}!o||r.acs&&r.acs.isMuted()||!this.onContactUpdate||this.onContactUpdate(t,r)}},enumerable:!0,configurable:!0,writable:!0},getContact:{value:function(e){return this._contacts[e]},enumerable:!0,configurable:!0,writable:!0},getAccessMode:{value:function(e){var t=this._contacts[e];return t?t.acs:null},enumerable:!0,configurable:!0,writable:!0}}),y.prototype.constructor=y;var D=function(e){T.call(this,\"fnd\",e),this._contacts={}};D.prototype=Object.create(T.prototype,{_processMetaSub:{value:function(e){var t=Object.getOwnPropertyNames(this._contacts).length;for(var n in this._contacts={},e){var s=e[n],i=s.topic?s.topic:s.user;s.updated=new Date(s.updated),s.seen&&s.seen.when&&(s.seen.when=new Date(s.seen.when)),s=p(this._contacts,i,s),t++,this.onMetaSub&&this.onMetaSub(s)}t>0&&this.onSubsUpdated&&this.onSubsUpdated(Object.keys(this._contacts))},enumerable:!0,configurable:!0,writable:!1},publish:{value:function(){return Promise.reject(new Error(\"Publishing to 'fnd' is not supported\"))},enumerable:!0,configurable:!0,writable:!1},setMeta:{value:function(e){var t=this;return Object.getPrototypeOf(D.prototype).setMeta.call(this,e).then(function(){Object.keys(t._contacts).length>0&&(t._contacts={},t.onSubsUpdated&&t.onSubsUpdated([]))})},enumerable:!0,configurable:!0,writable:!1},contacts:{value:function(e,t){var n=e||this.onMetaSub;if(n)for(var s in this._contacts)n.call(t,this._contacts[s],s,this._contacts)},enumerable:!0,configurable:!0,writable:!0}}),D.prototype.constructor=D;var E=function(e){this._tinode=e,this._apiKey=e._apiKey,this._authToken=e.getAuthToken(),this._msgId=e.getNextUniqueId(),this.xhr=g(),this.toResolve=null,this.toReject=null,this.onProgress=null,this.onSuccess=null,this.onFailure=null};E.prototype={upload:function(e,t,n,s){var i=this;if(!this._authToken)throw new Error(\"Must authenticate first\");var o=this;this.xhr.open(\"POST\",\"/v\"+r+\"/file/u/\",!0),this.xhr.setRequestHeader(\"X-Tinode-APIKey\",this._apiKey),this.xhr.setRequestHeader(\"X-Tinode-Auth\",\"Token \"+this._authToken.token);var a=new Promise(function(e,t){i.toResolve=e,i.toReject=t});this.onProgress=t,this.onSuccess=n,this.onFailure=s,this.xhr.upload.onprogress=function(e){e.lengthComputable&&o.onProgress&&o.onProgress(e.loaded/e.total)},this.xhr.onload=function(){var e;try{e=JSON.parse(this.response,_)}catch(e){o._tinode.logger(\"Invalid server response in LargeFileHelper\",this.response)}this.status>=200&&this.status<300?(o.toResolve&&o.toResolve(e.ctrl.params.url),o.onSuccess&&o.onSuccess(e.ctrl)):this.status>=400?(o.toReject&&o.toReject(new Error(e.ctrl.text+\" (\"+e.ctrl.code+\")\")),o.onFailure&&o.onFailure(e.ctrl)):o._tinode.logger(\"Unexpected server response status\",this.status,this.response)},this.xhr.onerror=function(e){o.toReject&&o.toReject(new Error(\"failed\")),o.onFailure&&o.onFailure(null)},this.xhr.onabort=function(e){o.toReject&&o.toReject(new Error(\"upload cancelled by user\")),o.onFailure&&o.onFailure(null)};try{var c=new FormData;c.append(\"file\",e),c.set(\"id\",this._msgId),this.xhr.send(c)}catch(e){this.toReject&&this.toReject(e),this.onFailure&&this.onFailure(null)}return a},download:function(e,t,n,s){var i=this;if(/^(?:(?:[a-z]+:)?\\/\\/)/i.test(e))throw new Error(\"The URL '\"+e+\"' must be relative, not absolute\");if(!this._authToken)throw new Error(\"Must authenticate first\");var r=this;this.xhr.open(\"GET\",e,!0),this.xhr.setRequestHeader(\"X-Tinode-APIKey\",this._apiKey),this.xhr.setRequestHeader(\"X-Tinode-Auth\",\"Token \"+this._authToken.token),this.xhr.responseType=\"blob\",this.onProgress=s,this.xhr.onprogress=function(e){r.onProgress&&r.onProgress(e.loaded)};var o=new Promise(function(e,t){i.toResolve=e,i.toReject=t});this.xhr.onload=function(){if(200==this.status){var e=document.createElement(\"a\");e.href=window.URL.createObjectURL(new Blob([this.response],{type:n})),e.style.display=\"none\",e.setAttribute(\"download\",t),document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(e.href),r.toResolve&&r.toResolve()}else if(this.status>=400&&r.toReject){var s=new FileReader;s.onload=function(){try{var e=JSON.parse(this.result,_);r.toReject(new Error(e.ctrl.text+\" (\"+e.ctrl.code+\")\"))}catch(e){r._tinode.logger(\"Invalid server response in LargeFileHelper\",this.result),r.toReject(e)}},s.readAsText(this.response)}},this.xhr.onerror=function(e){r.toReject&&r.toReject(new Error(\"failed\"))},this.xhr.onabort=function(){r.toReject&&r.toReject(null)};try{this.xhr.send()}catch(e){this.toReject&&this.toReject(e)}return o},cancel:function(){this.xhr&&this.xhr.readyState<4&&this.xhr.abort()},getId:function(){return this._msgId}};var x=function e(t,n){this.status=e.STATUS_NONE,this.topic=t,this.content=n};x.STATUS_NONE=0,x.STATUS_QUEUED=1,x.STATUS_SENDING=2,x.STATUS_FAILED=3,x.STATUS_SENT=4,x.STATUS_RECEIVED=5,x.STATUS_READ=6,x.STATUS_TO_ME=7,(x.prototype={toJSON:function(){},fromJSON:function(e){}}).constructor=x,c.exports=w,c.exports.Drafty=e}.call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{}),c=c.exports});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webapp/node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///../tinode-js/umd/tinode.prod.js?");

/***/ }),

/***/ "./node_modules/react-intl/locale-data/ru.js":
/*!***************************************************!*\
  !*** ./node_modules/react-intl/locale-data/ru.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e,a){ true?module.exports=a():undefined}(this,function(){\"use strict\";return[{locale:\"ru\",pluralRuleFunction:function(e,a){var t=String(e).split(\".\"),r=t[0],o=!t[1],n=r.slice(-1),l=r.slice(-2);return a?\"other\":o&&1==n&&11!=l?\"one\":o&&n>=2&&n<=4&&(l<12||l>14)?\"few\":o&&0==n||o&&n>=5&&n<=9||o&&l>=11&&l<=14?\"many\":\"other\"},fields:{year:{displayName:\"год\",relative:{0:\"в этом году\",1:\"в следующем году\",\"-1\":\"в прошлом году\"},relativeTime:{future:{one:\"через {0} год\",few:\"через {0} года\",many:\"через {0} лет\",other:\"через {0} года\"},past:{one:\"{0} год назад\",few:\"{0} года назад\",many:\"{0} лет назад\",other:\"{0} года назад\"}}},month:{displayName:\"месяц\",relative:{0:\"в этом месяце\",1:\"в следующем месяце\",\"-1\":\"в прошлом месяце\"},relativeTime:{future:{one:\"через {0} месяц\",few:\"через {0} месяца\",many:\"через {0} месяцев\",other:\"через {0} месяца\"},past:{one:\"{0} месяц назад\",few:\"{0} месяца назад\",many:\"{0} месяцев назад\",other:\"{0} месяца назад\"}}},day:{displayName:\"день\",relative:{0:\"сегодня\",1:\"завтра\",2:\"послезавтра\",\"-2\":\"позавчера\",\"-1\":\"вчера\"},relativeTime:{future:{one:\"через {0} день\",few:\"через {0} дня\",many:\"через {0} дней\",other:\"через {0} дня\"},past:{one:\"{0} день назад\",few:\"{0} дня назад\",many:\"{0} дней назад\",other:\"{0} дня назад\"}}},hour:{displayName:\"час\",relative:{0:\"в этом часе\"},relativeTime:{future:{one:\"через {0} час\",few:\"через {0} часа\",many:\"через {0} часов\",other:\"через {0} часа\"},past:{one:\"{0} час назад\",few:\"{0} часа назад\",many:\"{0} часов назад\",other:\"{0} часа назад\"}}},minute:{displayName:\"минута\",relative:{0:\"в эту минуту\"},relativeTime:{future:{one:\"через {0} минуту\",few:\"через {0} минуты\",many:\"через {0} минут\",other:\"через {0} минуты\"},past:{one:\"{0} минуту назад\",few:\"{0} минуты назад\",many:\"{0} минут назад\",other:\"{0} минуты назад\"}}},second:{displayName:\"секунда\",relative:{0:\"сейчас\"},relativeTime:{future:{one:\"через {0} секунду\",few:\"через {0} секунды\",many:\"через {0} секунд\",other:\"через {0} секунды\"},past:{one:\"{0} секунду назад\",few:\"{0} секунды назад\",many:\"{0} секунд назад\",other:\"{0} секунды назад\"}}}}},{locale:\"ru-BY\",parentLocale:\"ru\"},{locale:\"ru-KG\",parentLocale:\"ru\"},{locale:\"ru-KZ\",parentLocale:\"ru\"},{locale:\"ru-MD\",parentLocale:\"ru\"},{locale:\"ru-UA\",parentLocale:\"ru\"}]});\n\n\n//# sourceURL=webpack:///./node_modules/react-intl/locale-data/ru.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! exports provided: APP_NAME, API_KEY, KNOWN_HOSTS, DEFAULT_HOST, KEYPRESS_DELAY, RECEIVED_DELAY, READ_DELAY, MIN_TAG_LENGTH, MEDIA_BREAKPOINT, REM_SIZE, AVATAR_SIZE, MESSAGES_PAGE, MAX_INBAND_ATTACHMENT_SIZE, MAX_EXTERN_ATTACHMENT_SIZE, MAX_IMAGE_DIM */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"APP_NAME\", function() { return APP_NAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"API_KEY\", function() { return API_KEY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KNOWN_HOSTS\", function() { return KNOWN_HOSTS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_HOST\", function() { return DEFAULT_HOST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KEYPRESS_DELAY\", function() { return KEYPRESS_DELAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RECEIVED_DELAY\", function() { return RECEIVED_DELAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"READ_DELAY\", function() { return READ_DELAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MIN_TAG_LENGTH\", function() { return MIN_TAG_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MEDIA_BREAKPOINT\", function() { return MEDIA_BREAKPOINT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"REM_SIZE\", function() { return REM_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AVATAR_SIZE\", function() { return AVATAR_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MESSAGES_PAGE\", function() { return MESSAGES_PAGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAX_INBAND_ATTACHMENT_SIZE\", function() { return MAX_INBAND_ATTACHMENT_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAX_EXTERN_ATTACHMENT_SIZE\", function() { return MAX_EXTERN_ATTACHMENT_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAX_IMAGE_DIM\", function() { return MAX_IMAGE_DIM; });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version.js */ \"./src/version.js\");\n\nvar APP_NAME = 'TinodeWeb/' + (_version_js__WEBPACK_IMPORTED_MODULE_0__[\"PACKAGE_VERSION\"] || '0.15');\nvar API_KEY = 'AQEAAAABAAD_rAp4DJh05a1HAwFT3A6K';\nvar KNOWN_HOSTS = {\n  hosted: 'api.tinode.co',\n  local: 'localhost:6060'\n};\nvar DEFAULT_HOST = KNOWN_HOSTS.hosted;\nvar KEYPRESS_DELAY = 3 * 1000;\nvar RECEIVED_DELAY = 500;\nvar READ_DELAY = 1000;\nvar MIN_TAG_LENGTH = 4;\nvar MEDIA_BREAKPOINT = 640;\nvar REM_SIZE = 13;\nvar AVATAR_SIZE = 128;\nvar MESSAGES_PAGE = 24;\nvar MAX_INBAND_ATTACHMENT_SIZE = 195840;\nvar MAX_EXTERN_ATTACHMENT_SIZE = 1 << 23;\nvar MAX_IMAGE_DIM = 768;\n\n//# sourceURL=webpack:///./src/config.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_intl_locale_data_ru__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-intl/locale-data/ru */ \"./node_modules/react-intl/locale-data/ru.js\");\n/* harmony import */ var react_intl_locale_data_ru__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_intl_locale_data_ru__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _messages_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages.json */ \"./src/messages.json\");\nvar _messages_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./messages.json */ \"./src/messages.json\", 1);\n/* harmony import */ var _views_tinode_web_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./views/tinode-web.jsx */ \"./src/views/tinode-web.jsx\");\n/* harmony import */ var _lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/navigation.js */ \"./src/lib/navigation.js\");\n\n\n\n\nObject(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"addLocaleData\"])(react_intl_locale_data_ru__WEBPACK_IMPORTED_MODULE_3___default.a);\n\n\n\n\nvar _HashNavigation$parse = _lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].parseUrlHash(window.location.hash),\n    params = _HashNavigation$parse.params;\n\nvar language = params && params.hl || navigator.languages && navigator.languages[0] || navigator.language || navigator.userLanguage;\nvar baseLanguage = language.toLowerCase().split(/[-_]+/)[0];\nvar messages = _messages_json__WEBPACK_IMPORTED_MODULE_4__[language] || _messages_json__WEBPACK_IMPORTED_MODULE_4__[baseLanguage] || _messages_json__WEBPACK_IMPORTED_MODULE_4__.en;\nreact_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"IntlProvider\"], {\n  locale: language,\n  messages: messages,\n  textComponent: react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment\n}, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_views_tinode_web_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null)), document.getElementById('mountPoint'));\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/lib/blob-helpers.js":
/*!*********************************!*\
  !*** ./src/lib/blob-helpers.js ***!
  \*********************************/
/*! exports provided: SUPPORTED_IMAGE_FORMATS, MIME_EXTENSIONS, makeImageUrl, fitImageSize, fileNameForMime, imageFileScaledToBase64, imageFileToBase64, fileToBase64, filePasted, getMimeType, base64EncodedLen, base64DecodedLen, base64ReEncode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SUPPORTED_IMAGE_FORMATS\", function() { return SUPPORTED_IMAGE_FORMATS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MIME_EXTENSIONS\", function() { return MIME_EXTENSIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeImageUrl\", function() { return makeImageUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fitImageSize\", function() { return fitImageSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fileNameForMime\", function() { return fileNameForMime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"imageFileScaledToBase64\", function() { return imageFileScaledToBase64; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"imageFileToBase64\", function() { return imageFileToBase64; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fileToBase64\", function() { return fileToBase64; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filePasted\", function() { return filePasted; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMimeType\", function() { return getMimeType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"base64EncodedLen\", function() { return base64EncodedLen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"base64DecodedLen\", function() { return base64DecodedLen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"base64ReEncode\", function() { return base64ReEncode; });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\n\nvar SUPPORTED_IMAGE_FORMATS = ['image/jpeg', 'image/gif', 'image/png', 'image/svg', 'image/svg+xml'];\nvar MIME_EXTENSIONS = ['jpg', 'gif', 'png', 'svg', 'svg'];\nfunction makeImageUrl(photo) {\n  return photo && photo.type && photo.data ? 'data:image/' + photo.type + ';base64,' + photo.data : null;\n}\nfunction fitImageSize(width, height, maxWidth, maxHeight, forceSquare) {\n  if (!width || !height || !maxWidth || !maxHeight) {\n    return null;\n  }\n\n  if (forceSquare) {\n    maxWidth = maxHeight = Math.min(maxWidth, maxHeight);\n  }\n\n  var scale = Math.min(Math.min(width, maxWidth) / width, Math.min(height, maxHeight) / height);\n  var size = {\n    dstWidth: width * scale | 0,\n    dstHeight: height * scale | 0\n  };\n\n  if (forceSquare) {\n    size.dstWidth = size.dstHeight = Math.min(size.dstWidth, size.dstHeight);\n    size.srcWidth = size.srcHeight = Math.min(width, height);\n    size.xoffset = (width - size.srcWidth) / 2 | 0;\n    size.yoffset = (height - size.srcWidth) / 2 | 0;\n  } else {\n    size.xoffset = size.yoffset = 0;\n    size.srcWidth = width;\n    size.srcHeight = height;\n  }\n\n  return size;\n}\nfunction fileNameForMime(fname, mime) {\n  var idx = SUPPORTED_IMAGE_FORMATS.indexOf(mime);\n  var ext = MIME_EXTENSIONS[idx];\n  var at = fname.lastIndexOf('.');\n\n  if (at >= 0) {\n    fname = fname.substring(0, at);\n  }\n\n  return fname + '.' + ext;\n}\nfunction imageFileScaledToBase64(file, width, height, forceSquare, onSuccess, onError) {\n  var img = new Image();\n  img.crossOrigin = 'Anonymous';\n\n  img.onerror = function (err) {\n    onError(\"Image format unrecognized\");\n  };\n\n  img.onload = function () {\n    var dim = fitImageSize(this.width, this.height, width, height, forceSquare);\n\n    if (!dim) {\n      onError(\"Invalid image\");\n      return;\n    }\n\n    var canvas = document.createElement('canvas');\n    canvas.width = dim.dstWidth;\n    canvas.height = dim.dstHeight;\n    var ctx = canvas.getContext('2d');\n    ctx.imageSmoothingEnabled = true;\n    ctx.drawImage(this, dim.xoffset, dim.yoffset, dim.srcWidth, dim.srcHeight, 0, 0, dim.dstWidth, dim.dstHeight);\n    var mime = this.width != dim.dstWidth || this.height != dim.dstHeight || SUPPORTED_IMAGE_FORMATS.indexOf(file.type) < 0 ? 'image/jpeg' : file.type;\n    var imageBits = canvas.toDataURL(mime);\n    var parts = imageBits.split(',');\n    mime = getMimeType(parts[0]);\n\n    if (!mime) {\n      onError(\"Unsupported image format\");\n      return;\n    }\n\n    var quality = 0.78;\n\n    if (base64DecodedLen(imageBits.length) > _config_js__WEBPACK_IMPORTED_MODULE_0__[\"MAX_INBAND_ATTACHMENT_SIZE\"]) {\n      mime = 'image/jpeg';\n    }\n\n    if (mime == 'image/jpeg') {\n      while (base64DecodedLen(imageBits.length) > _config_js__WEBPACK_IMPORTED_MODULE_0__[\"MAX_INBAND_ATTACHMENT_SIZE\"] && quality > 0.45) {\n        imageBits = canvas.toDataURL(mime, quality);\n        quality *= 0.84;\n      }\n    }\n\n    if (base64DecodedLen(imageBits.length) > _config_js__WEBPACK_IMPORTED_MODULE_0__[\"MAX_INBAND_ATTACHMENT_SIZE\"]) {\n      onError(\"The image size \" + bytesToHumanSize(base64DecodedLen(imageBits.length)) + \" exceeds the \" + bytesToHumanSize(_config_js__WEBPACK_IMPORTED_MODULE_0__[\"MAX_INBAND_ATTACHMENT_SIZE\"]) + \" limit.\", \"err\");\n      return;\n    }\n\n    canvas = null;\n    onSuccess(imageBits.split(',')[1], mime, dim.dstWidth, dim.dstHeight, fileNameForMime(file.name, mime));\n  };\n\n  img.src = URL.createObjectURL(file);\n}\nfunction imageFileToBase64(file, onSuccess, onError) {\n  var reader = new FileReader();\n  reader.addEventListener('load', function () {\n    var parts = reader.result.split(',');\n    var mime = getMimeType(parts[0]);\n\n    if (!mime) {\n      onError(\"Failed to process image file\");\n      return;\n    }\n\n    var img = new Image();\n    img.crossOrigin = 'Anonymous';\n\n    img.onload = function () {\n      onSuccess(parts[1], mime, this.width, this.height, fileNameForMime(file.name, mime));\n    };\n\n    img.onerror = function (err) {\n      onError(\"Image format not recognized\");\n    };\n\n    img.src = URL.createObjectURL(file);\n  }, false);\n  reader.readAsDataURL(file);\n}\nfunction fileToBase64(file, onSuccess, onError) {\n  var reader = new FileReader();\n  reader.addEventListener('load', function () {\n    onSuccess(file.type, reader.result.split(',')[1], file.name);\n  });\n  reader.readAsDataURL(file);\n}\nfunction filePasted(event, onImageSuccess, onAttachmentSuccess, onError) {\n  var items = (event.clipboardData || event.originalEvent.clipboardData || {}).items;\n\n  for (var i in items) {\n    var item = items[i];\n\n    if (item.kind === 'file') {\n      var file = item.getAsFile();\n\n      if (!file) {\n        console.log(\"Failed to get file object from pasted file item\", item.kind, item.type);\n        continue;\n      }\n\n      if (file.type && file.type.split('/')[0] == 'image') {\n        if (file.size > _config_js__WEBPACK_IMPORTED_MODULE_0__[\"MAX_INBAND_ATTACHMENT_SIZE\"] || SUPPORTED_IMAGE_FORMATS.indexOf(file.type) < 0) {\n          imageFileScaledToBase64(file, _config_js__WEBPACK_IMPORTED_MODULE_0__[\"MAX_IMAGE_DIM\"], _config_js__WEBPACK_IMPORTED_MODULE_0__[\"MAX_IMAGE_DIM\"], false, onImageSuccess, onError);\n        } else {\n          imageFileToBase64(file, onImageSuccess, onError);\n        }\n      } else {\n        fileToBase64(file, onAttachmentSuccess, onError);\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\nfunction getMimeType(header) {\n  var mime = /^data:(image\\/[-+a-z0-9.]+);base64/.exec(header);\n  return mime && mime.length > 1 ? mime[1] : null;\n}\nfunction base64EncodedLen(n) {\n  return Math.floor((n + 2) / 3) * 4;\n}\nfunction base64DecodedLen(n) {\n  return Math.floor(n / 4) * 3;\n}\nfunction base64ReEncode(str) {\n  if (str) {\n    str = str.replace('-', '+').replace('_', '/');\n\n    try {\n      str = btoa(atob(str));\n    } catch (err) {\n      console.log(\"Failed to base64 re-encode string\");\n      str = null;\n    }\n  }\n\n  return str;\n}\n\n//# sourceURL=webpack:///./src/lib/blob-helpers.js?");

/***/ }),

/***/ "./src/lib/host-name.js":
/*!******************************!*\
  !*** ./src/lib/host-name.js ***!
  \******************************/
/*! exports provided: detectServerAddress, isSecureConnection, isLocalHost */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"detectServerAddress\", function() { return detectServerAddress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSecureConnection\", function() { return isSecureConnection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isLocalHost\", function() { return isLocalHost; });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\nfunction detectServerAddress() {\n  var host = _config_js__WEBPACK_IMPORTED_MODULE_0__[\"DEFAULT_HOST\"];\n\n  if (_typeof(window.location) == 'object') {\n    if (window.location.protocol == 'file:' || window.location.hostname == 'localhost') {\n      host = _config_js__WEBPACK_IMPORTED_MODULE_0__[\"KNOWN_HOSTS\"].local;\n    } else if (window.location.hostname) {\n      host = window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n    }\n  }\n\n  return host;\n}\nfunction isSecureConnection() {\n  if (_typeof(window.location) == 'object') {\n    return window.location.protocol == 'https:';\n  }\n\n  return false;\n}\nfunction isLocalHost() {\n  if (_typeof(window.location) == 'object') {\n    return window.location.hostname == 'localhost';\n  }\n\n  return false;\n}\n\n//# sourceURL=webpack:///./src/lib/host-name.js?");

/***/ }),

/***/ "./src/lib/local-storage.js":
/*!**********************************!*\
  !*** ./src/lib/local-storage.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LocalStorageUtil; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar LocalStorageUtil = function () {\n  function LocalStorageUtil() {\n    _classCallCheck(this, LocalStorageUtil);\n  }\n\n  _createClass(LocalStorageUtil, null, [{\n    key: \"setObject\",\n    value: function setObject(key, value) {\n      localStorage.setItem(key, JSON.stringify(value));\n    }\n  }, {\n    key: \"getObject\",\n    value: function getObject(key) {\n      var value = localStorage.getItem(key);\n      return value && JSON.parse(value);\n    }\n  }, {\n    key: \"updateObject\",\n    value: function updateObject(key, value) {\n      var oldVal = this.getObject(key);\n      this.setObject(key, Object.assign(oldVal || {}, value));\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key) {\n      localStorage.removeItem(key);\n    }\n  }]);\n\n  return LocalStorageUtil;\n}();\n\n\n\n//# sourceURL=webpack:///./src/lib/local-storage.js?");

/***/ }),

/***/ "./src/lib/navigation.js":
/*!*******************************!*\
  !*** ./src/lib/navigation.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return HashNavigation; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar HashNavigation = function () {\n  function HashNavigation() {\n    _classCallCheck(this, HashNavigation);\n  }\n\n  _createClass(HashNavigation, null, [{\n    key: \"parseUrlHash\",\n    value: function parseUrlHash(hash) {\n      var parts = hash.split('?', 2);\n      var params = {};\n      var path = [];\n\n      if (parts[0]) {\n        path = parts[0].substr(1).split('/');\n      }\n\n      if (parts[1]) {\n        parts[1].split('&').forEach(function (part) {\n          var item = part.split('=');\n\n          if (item[0]) {\n            params[decodeURIComponent(item[0])] = decodeURIComponent(item[1]);\n          }\n        });\n      }\n\n      return {\n        path: path,\n        params: params\n      };\n    }\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(url) {\n      window.location.hash = url;\n    }\n  }, {\n    key: \"composeUrlHash\",\n    value: function composeUrlHash(path, params) {\n      var url = path.join('/');\n      var args = [];\n\n      for (var key in params) {\n        if (params.hasOwnProperty(key)) {\n          args.push(key + '=' + params[key]);\n        }\n      }\n\n      if (args.length > 0) {\n        url += '?' + args.join('&');\n      }\n\n      return url;\n    }\n  }, {\n    key: \"addUrlParam\",\n    value: function addUrlParam(hash, key, value) {\n      var parsed = this.parseUrlHash(hash);\n      parsed.params[key] = value;\n      return this.composeUrlHash(parsed.path, parsed.params);\n    }\n  }, {\n    key: \"removeUrlParam\",\n    value: function removeUrlParam(hash, key) {\n      var parsed = this.parseUrlHash(hash);\n      delete parsed.params[key];\n      return this.composeUrlHash(parsed.path, parsed.params);\n    }\n  }, {\n    key: \"setUrlSidePanel\",\n    value: function setUrlSidePanel(hash, sidepanel) {\n      var parsed = this.parseUrlHash(hash);\n      parsed.path[0] = sidepanel;\n      return this.composeUrlHash(parsed.path, parsed.params);\n    }\n  }, {\n    key: \"setUrlTopic\",\n    value: function setUrlTopic(hash, topic) {\n      var parsed = this.parseUrlHash(hash);\n      parsed.path[1] = topic;\n      delete parsed.params.info;\n      return this.composeUrlHash(parsed.path, parsed.params);\n    }\n  }]);\n\n  return HashNavigation;\n}();\n\n\n\n//# sourceURL=webpack:///./src/lib/navigation.js?");

/***/ }),

/***/ "./src/lib/strformat.js":
/*!******************************!*\
  !*** ./src/lib/strformat.js ***!
  \******************************/
/*! exports provided: shortDateFormat, bytesToHumanSize, stringHash */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shortDateFormat\", function() { return shortDateFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bytesToHumanSize\", function() { return bytesToHumanSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stringHash\", function() { return stringHash; });\nfunction shortDateFormat(then) {\n  var locale = window.navigator.userLanguage || window.navigator.language;\n  var now = new Date();\n\n  if (then.getFullYear() == now.getFullYear()) {\n    if (then.getMonth() == now.getMonth() && then.getDate() == now.getDate()) {\n      return then.toLocaleTimeString(locale, {\n        hour12: false,\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } else {\n      return then.toLocaleDateString(locale, {\n        hour12: false,\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n  }\n\n  return then.toLocaleDateString(locale, {\n    hour12: false,\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\nfunction bytesToHumanSize(bytes) {\n  if (!bytes || bytes == 0) {\n    return '0 Bytes';\n  }\n\n  var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n  var bucket = Math.min(Math.floor(Math.log2(bytes) / 10) | 0, sizes.length - 1);\n  var count = bytes / Math.pow(1024, bucket);\n  var round = bucket > 0 ? count < 3 ? 2 : count < 30 ? 1 : 0 : 0;\n  return count.toFixed(round) + ' ' + sizes[bucket];\n}\nfunction stringHash(value) {\n  var hash = 0;\n  value = '' + value;\n\n  for (var i = 0; i < value.length; i++) {\n    hash = (hash << 5) - hash + value.charCodeAt(i);\n    hash = hash & hash;\n  }\n\n  return hash;\n}\n\n//# sourceURL=webpack:///./src/lib/strformat.js?");

/***/ }),

/***/ "./src/lib/utils.js":
/*!**************************!*\
  !*** ./src/lib/utils.js ***!
  \**************************/
/*! exports provided: updateFavicon, vcard, arrayEqual */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateFavicon\", function() { return updateFavicon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vcard\", function() { return vcard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayEqual\", function() { return arrayEqual; });\nfunction updateFavicon(count) {\n  var oldIcon = document.getElementById('shortcut-icon');\n\n  if (oldIcon) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var newIcon = document.createElement('link');\n    newIcon.type = 'image/png';\n    newIcon.id = 'shortcut-icon';\n    newIcon.rel = 'shortcut icon';\n    newIcon.href = 'img/logo32x32' + (count > 0 ? 'a' : '') + '.png';\n    head.removeChild(oldIcon);\n    head.appendChild(newIcon);\n  }\n\n  document.title = (count > 0 ? '(' + count + ') ' : '') + 'Tinode';\n}\nfunction vcard(fn, imageDataUrl) {\n  var card = null;\n\n  if (fn && fn.trim() || imageDataUrl) {\n    card = {};\n\n    if (fn) {\n      card.fn = fn.trim();\n    }\n\n    if (imageDataUrl) {\n      var dataStart = imageDataUrl.indexOf(',');\n      card.photo = {\n        data: imageDataUrl.substring(dataStart + 1),\n        type: 'jpg'\n      };\n    }\n  }\n\n  return card;\n}\nfunction arrayEqual(a, b) {\n  if (a.length != b.length) {\n    return false;\n  }\n\n  a.sort();\n  b.sort();\n\n  for (var i = 0, l = a.length; i < l; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n//# sourceURL=webpack:///./src/lib/utils.js?");

/***/ }),

/***/ "./src/messages.json":
/*!***************************!*\
  !*** ./src/messages.json ***!
  \***************************/
/*! exports provided: en, ru, default */
/***/ (function(module) {

eval("module.exports = {\"en\":{\"contacts_not_found\":\"You have no chats<br />¯\\\\\\\\_(ツ)_/¯\",\"full_name_prompt\":\"Full name, e.g. John Doe\",\"email_prompt\":\"Email, e.g. jdoe@example.com\",\"button_sign_up\":\"Sign up\",\"label_your_name\":\"Your name\",\"label_password\":\"Password\",\"password_unchanged_prompt\":\"Unchanged\",\"label_user_id\":\"Address:\",\"label_default_access_mode\":\"Default access mode:\",\"label_message_sound\":\"Message sound:\",\"label_push_notifications\":\"Notification alerts:\",\"label_push_notifications_disabled\":\"Notification alerts (requires HTTPS):\",\"title_tag_manager\":\"Tags (user discovery)\",\"button_logout\":\"Logout\",\"requested_permissions\":\"Requested\",\"granted_permissions\":\"Granted\",\"menu_item_edit_permissions\":\"Edit permissions\",\"label_other_user\":\"Other\",\"title_info\":\"Info\",\"label_topic_name\":\"Name\",\"label_private\":\"Private comment\",\"private_editing_placeholder\":\"Visible to you only\",\"label_muting_topic\":\"Muted:\",\"action_more\":\"More\",\"label_your_permissions\":\"Your permissions:\",\"label_permissions\":\"Permissions:\",\"label_you\":\"You:\",\"label_default_access\":\"Default access mode:\",\"label_group_members\":\"Group members:\",\"button_add_members\":\"Add members\",\"button_leave\":\"Leave\",\"group_has_no_members\":\"No members\",\"action_leave_chat\":\"Leave\",\"login_prompt\":\"Login\",\"password_prompt\":\"Password\",\"stay_logged_in\":\"Stay logged in\",\"forgot_password_link\":\"Forgot password?\",\"button_sign_in\":\"Sign in\",\"label_client\":\"Client:\",\"label_server\":\"Server:\",\"online_now\":\"online now\",\"last_seen_timestamp\":\"Last seen\",\"title_not_found\":\"Not found\",\"unnamed_topic\":\"Unnamed\",\"messages_not_readable\":\"no access to messages\",\"tabtitle_find_user\":\"find\",\"tabtitle_new_group\":\"new group\",\"tabtitle_group_by_id\":\"by id\",\"search_for_contacts\":\"Use search to find contacts\",\"new_password_placeholder\":\"Enter new password\",\"label_reset_password\":\"Send a password reset email:\",\"credential_email_prompt\":\"Your registration email\",\"button_reset\":\"Reset\",\"button_send_request\":\"Send request\",\"label_server_to_use\":\"Server to use:\",\"label_wire_transport\":\"Wire transport:\",\"button_update\":\"Update\",\"sidepanel_title_login\":\"Sign In\",\"sidepanel_title_register\":\"Create Account\",\"sidepanel_title_settings\":\"Settings\",\"sidepanel_title_edit_account\":\"Edit Account\",\"sidepanel_title_newtpk\":\"Start New Chat\",\"sidepanel_title_cred\":\"Confirm Credentials\",\"sidepanel_title_reset\":\"Reset Password\",\"phone_dative\":\"phone\",\"email_dative\":\"email\",\"enter_confirmation_code_prompt\":\"Enter confirmation code sent to you by {method}:\",\"numeric_confirmation_code_prompt\":\"Numbers only\",\"button_confirm\":\"Confirm\",\"invalid_content\":\"invalid content\",\"badge_you\":\"you\",\"badge_owner\":\"owner\",\"menu_item_info\":\"Info\",\"menu_item_clear_messages\":\"Clear messages\",\"menu_item_clear_messages_for_all\":\"Clear for All\",\"menu_item_delete\":\"Delete\",\"menu_item_delete_for_all\":\"Delete for All\",\"menu_item_mute\":\"Mute\",\"menu_item_unmute\":\"Unmute\",\"menu_item_delete_topic\":\"Delete\",\"menu_item_unblock\":\"Unblock\",\"menu_item_block\":\"Block\",\"menu_item_member_delete\":\"Remove\",\"action_cancel\":\"cancel\",\"upload_finishing\":\"finishing...\",\"no_contacts\":\"You have no contacts :-(\",\"contacts_not_found_short\":\"No contacts match '{query}'\",\"title_group_members\":\"Group Members\",\"title_all_contacts\":\"All Contacts\",\"button_ok\":\"OK\",\"button_cancel\":\"Cancel\",\"download_action\":\"download\",\"label_file_name\":\"File name:\",\"label_content_type\":\"Content type:\",\"label_size\":\"Size:\",\"error_invalid_id\":\"Invalid ID\",\"group_user_id_prompt\":\"Group or User ID\",\"button_subscribe\":\"Subscribe\",\"topic_name_editing_placeholder\":\"Freeform name of the group\",\"button_create\":\"Create\",\"permission_join\":\"Join ({val})\",\"permission_read\":\"Read ({val})\",\"permission_write\":\"Write ({val})\",\"permission_pres\":\"Get notified ({val})\",\"permission_admin\":\"Approve ({val})\",\"permission_share\":\"Share ({val})\",\"permission_delete\":\"Delete ({val})\",\"permission_owner\":\"Owner ({val})\",\"title_permissions\":\"Permissions\",\"message_sending\":\"sending...\",\"message_sending_failed\":\"failed\",\"search_placeholder\":\"List like email:alice@example.com, tel:17025550003...\",\"messaging_disabled_prompt\":\"Messaging disabled\",\"new_message_prompt\":\"New message\",\"file_attachment_too_large\":\"The file size {size} exceeds the {limit} limit.\",\"cannot_initiate_file_upload\":\"Cannot initiate file upload.\",\"tags_not_found\":\"No tags defined. Add some.\",\"tags_editor_no_tags\":\"Add some tags\",\"title_manage_tags\":\"Manage tags\"},\"ru\":{\"contacts_not_found\":\"Чатов нет<br />¯\\\\\\\\_(ツ)_/¯\",\"full_name_prompt\":\"Полное имя, напр. Иван Петров\",\"email_prompt\":\"Email, напр. ivan@example.com\",\"button_sign_up\":\"Создать счет\",\"label_your_name\":\"Ваше имя\",\"label_password\":\"Пароль\",\"password_unchanged_prompt\":\"Не изменен\",\"label_user_id\":\"Адрес:\",\"label_default_access_mode\":\"Доступ по умолчанию:\",\"label_message_sound\":\"Звук нового сообщения:\",\"label_push_notifications\":\"Уведомления:\",\"label_push_notifications_disabled\":\"Уведомления (требуют HTTPS):\",\"title_tag_manager\":\"Таги для поиска\",\"button_logout\":\"Выйти\",\"login_prompt\":\"Логин\",\"password_prompt\":\"Пароль\",\"stay_logged_in\":\"Запомнить\",\"forgot_password_link\":\"Напомнить пароль\",\"button_sign_in\":\"Войти\",\"label_client\":\"Клиент:\",\"label_server\":\"Сервер:\",\"online_now\":\"онлайн\",\"last_seen_timestamp\":\"Был активен\",\"title_not_found\":\"Не найден\",\"unnamed_topic\":\"Без названия\",\"messages_not_readable\":\"нет доступа к сообщениям\",\"tabtitle_find_user\":\"найти\",\"tabtitle_new_group\":\"создать\",\"tabtitle_group_by_id\":\"по id\",\"label_server_to_use\":\"Использовать сервер:\",\"label_wire_transport\":\"Соединение:\",\"button_update\":\"Применить\",\"sidepanel_title_login\":\"Авторизация\",\"sidepanel_title_register\":\"Зарегистрироваться\",\"sidepanel_title_settings\":\"Настройки\",\"sidepanel_title_edit_account\":\"Редактировать счет\",\"sidepanel_title_newtpk\":\"Новый чат\",\"sidepanel_title_cred\":\"Подтвердить\",\"sidepanel_title_reset\":\"Сменить пароль\",\"tags_not_found\":\"Тагов нет. Добавьте\",\"tags_editor_no_tags\":\"Добавьте таги\",\"title_manage_tags\":\"Редактор тагов\",\"message_sending\":\"в пути...\",\"message_sending_failed\":\"ошибка\",\"search_placeholder\":\"Список, напр. email:alice@example.com, tel:17025550003...\",\"messaging_disabled_prompt\":\"Отправка недоступна\",\"new_message_prompt\":\"Новое сообщение\",\"file_attachment_too_large\":\"Размер файла {size} превышает {limit} лимит.\",\"cannot_initiate_file_upload\":\"Ошибка загрузки файла.\",\"search_for_contacts\":\"Поиск контактов\",\"enter_confirmation_code_prompt\":\"Код подтверждения, полученный по {method}:\",\"numeric_confirmation_code_prompt\":\"Только цифры\",\"button_confirm\":\"Подтвердить\",\"button_ok\":\"OK\",\"button_cancel\":\"Отменить\",\"invalid_content\":\"сообщение не читается\",\"label_file_name\":\"Имя файла:\",\"label_content_type\":\"Тип:\",\"label_size\":\"Размер:\",\"phone_dative\":\"телефону\",\"email_dative\":\"емейлу\",\"title_group_members\":\"Участники\",\"download_action\":\"скачать\",\"permission_join\":\"Подписываться ({val})\",\"permission_read\":\"Читать ({val})\",\"permission_write\":\"Писать ({val})\",\"permission_pres\":\"Уведомлять ({val})\",\"permission_admin\":\"Подтверждать ({val})\",\"permission_share\":\"Приглашать ({val})\",\"permission_delete\":\"Удалять ({val})\",\"permission_owner\":\"Владелец ({val})\",\"title_permissions\":\"Права доступа\",\"requested_permissions\":\"Требуются\",\"granted_permissions\":\"Получены\",\"menu_item_edit_permissions\":\"Права доступа\",\"label_other_user\":\"Второй\",\"label_topic_name\":\"Название\",\"label_private\":\"Комментарий\",\"private_editing_placeholder\":\"Виден только вам\",\"label_muting_topic\":\"Без уведомлений\",\"action_more\":\"Ещё\",\"label_your_permissions\":\"Ваши права доступа:\",\"label_permissions\":\"Права доступа:\",\"label_you\":\"Вы:\",\"label_default_access\":\"Права по умолчанию:\",\"label_group_members\":\"Участники чата:\",\"button_add_members\":\"Добавить\",\"button_leave\":\"Отписаться\",\"group_has_no_members\":\"Нет участников\",\"action_leave_chat\":\"Уйти из чата\",\"menu_item_info\":\"Информация\",\"menu_item_clear_messages\":\"Удалить сообщения\",\"menu_item_clear_messages_for_all\":\"Удалить для всех\",\"menu_item_delete\":\"Удалить\",\"menu_item_delete_for_all\":\"Удалить для всех\",\"menu_item_mute\":\"Не уведомлять\",\"menu_item_unmute\":\"Уведомлять\",\"menu_item_delete_topic\":\"Удалить чат\",\"menu_item_unblock\":\"Разблокировать\",\"menu_item_block\":\"Заблокировать\",\"menu_item_member_delete\":\"Отписать\",\"title_info\":\"Подробности\",\"new_password_placeholder\":\"Введите новый пароль\",\"label_reset_password\":\"Отправить емейл для смены пароля:\",\"credential_email_prompt\":\"Регистрационный емейл\",\"button_reset\":\"Изменить\",\"button_send_request\":\"Отправить\",\"action_cancel\":\"отменить\",\"upload_finishing\":\"завершение...\",\"no_contacts\":\"Ничего нет :-(\",\"contacts_not_found_short\":\"Нет контактов для запроса '{query}'\",\"title_all_contacts\":\"Все контакты\",\"error_invalid_id\":\"Неверный ID\",\"group_user_id_prompt\":\"ID чата или пользователя\",\"button_subscribe\":\"Подписаться\",\"topic_name_editing_placeholder\":\"Название чата\",\"button_create\":\"Создать\",\"badge_you\":\"вы\",\"badge_owner\":\"влад.\"}};\n\n//# sourceURL=webpack:///./src/messages.json?");

/***/ }),

/***/ "./src/version.js":
/*!************************!*\
  !*** ./src/version.js ***!
  \************************/
/*! exports provided: PACKAGE_VERSION */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PACKAGE_VERSION\", function() { return PACKAGE_VERSION; });\nvar PACKAGE_VERSION = \"0.15.9-rc1\";\n\n//# sourceURL=webpack:///./src/version.js?");

/***/ }),

/***/ "./src/views/contacts-view.jsx":
/*!*************************************!*\
  !*** ./src/views/contacts-view.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widgets_contact_list_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets/contact-list.jsx */ \"./src/widgets/contact-list.jsx\");\n/* harmony import */ var _lib_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/utils.js */ \"./src/lib/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  'contacts_not_found': {\n    \"id\": \"contacts_not_found\",\n    \"defaultMessage\": \"You have no chats<br />\\xAF\\\\\\\\_(\\u30C4)_/\\xAF\"\n  }\n});\n\nvar ContactsView = function (_React$Component) {\n  _inherits(ContactsView, _React$Component);\n\n  function ContactsView(props) {\n    var _this;\n\n    _classCallCheck(this, ContactsView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContactsView).call(this, props));\n    _this.state = ContactsView.getDerivedStateFromProps(props, {});\n    return _this;\n  }\n\n  _createClass(ContactsView, [{\n    key: \"render\",\n    value: function render() {\n      var formatHTMLMessage = this.props.intl.formatHTMLMessage;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_contact_list_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        connected: this.props.connected,\n        contacts: this.state.contactList,\n        emptyListMessage: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, formatHTMLMessage(messages.contacts_not_found)),\n        topicSelected: this.props.topicSelected,\n        myUserId: this.props.myUserId,\n        showOnline: true,\n        showUnread: true,\n        onTopicSelected: this.props.onTopicSelected,\n        showContextMenu: this.props.showContextMenu\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var contacts = [];\n      var unreadThreads = 0;\n      nextProps.chatList.map(function (c) {\n        unreadThreads += c.unread > 0 ? 1 : 0;\n        contacts.push(c);\n      });\n      contacts.sort(function (a, b) {\n        return (b.touched || 0) - (a.touched || 0);\n      });\n      Object(_lib_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"updateFavicon\"])(unreadThreads);\n      return {\n        contactList: contacts\n      };\n    }\n  }]);\n\n  return ContactsView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(ContactsView));\n\n//# sourceURL=webpack:///./src/views/contacts-view.jsx?");

/***/ }),

/***/ "./src/views/create-account-view.jsx":
/*!*******************************************!*\
  !*** ./src/views/create-account-view.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CreateAccountView; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widgets_avatar_upload_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets/avatar-upload.jsx */ \"./src/widgets/avatar-upload.jsx\");\n/* harmony import */ var _widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../widgets/checkbox.jsx */ \"./src/widgets/checkbox.jsx\");\n/* harmony import */ var _widgets_visible_password_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../widgets/visible-password.jsx */ \"./src/widgets/visible-password.jsx\");\n/* harmony import */ var _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/local-storage.js */ \"./src/lib/local-storage.js\");\n/* harmony import */ var _lib_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/utils.js */ \"./src/lib/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\nvar CreateAccountView = function (_React$PureComponent) {\n  _inherits(CreateAccountView, _React$PureComponent);\n\n  function CreateAccountView(props) {\n    var _this;\n\n    _classCallCheck(this, CreateAccountView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateAccountView).call(this, props));\n    _this.state = {\n      login: '',\n      password: '',\n      email: '',\n      fn: '',\n      imageDataUrl: null,\n      errorCleared: false,\n      saveToken: _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getObject('keep-logged-in')\n    };\n    _this.handleLoginChange = _this.handleLoginChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEmailChange = _this.handleEmailChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFnChange = _this.handleFnChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleImageChanged = _this.handleImageChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleToggleSaveToken = _this.handleToggleSaveToken.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CreateAccountView, [{\n    key: \"handleLoginChange\",\n    value: function handleLoginChange(e) {\n      this.setState({\n        login: e.target.value\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(password) {\n      this.setState({\n        password: password\n      });\n    }\n  }, {\n    key: \"handleEmailChange\",\n    value: function handleEmailChange(e) {\n      this.setState({\n        email: e.target.value\n      });\n    }\n  }, {\n    key: \"handleFnChange\",\n    value: function handleFnChange(e) {\n      this.setState({\n        fn: e.target.value\n      });\n    }\n  }, {\n    key: \"handleImageChanged\",\n    value: function handleImageChanged(img) {\n      this.setState({\n        imageDataUrl: img\n      });\n    }\n  }, {\n    key: \"handleToggleSaveToken\",\n    value: function handleToggleSaveToken() {\n      _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setObject('keep-logged-in', !this.state.saveToken);\n      this.setState({\n        saveToken: !this.state.saveToken\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      this.setState({\n        errorCleared: false\n      });\n      this.props.onCreateAccount(this.state.login.trim(), this.state.password.trim(), Object(_lib_utils_js__WEBPACK_IMPORTED_MODULE_6__[\"vcard\"])(this.state.fn, this.state.imageDataUrl), {\n        'meth': 'email',\n        'val': this.state.email\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var submitClasses = 'blue';\n\n      if (this.props.disabled) {\n        submitClasses += ' disabled';\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n        className: \"panel-form-column\",\n        onSubmit: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"login_prompt\"\n      }, function (login_prompt) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"text\",\n          placeholder: login_prompt,\n          autoComplete: \"user-name\",\n          value: _this2.state.login,\n          onChange: _this2.handleLoginChange,\n          required: true,\n          autoFocus: true\n        });\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"password_prompt\"\n      }, function (password_prompt) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_visible_password_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          placeholder: password_prompt,\n          autoComplete: \"new-password\",\n          value: _this2.state.password,\n          onFinished: _this2.handlePasswordChange,\n          required: true\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_avatar_upload_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        onImageChanged: this.handleImageChanged,\n        onError: this.props.onError\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"full_name_prompt\",\n        defaultMessage: \"Full name, e.g. John Doe\"\n      }, function (full_name_prompt) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"text\",\n          placeholder: full_name_prompt,\n          autoComplete: \"name\",\n          value: _this2.state.fn,\n          onChange: _this2.handleFnChange,\n          required: true\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"email_prompt\",\n        defaultMessage: \"Email, e.g. jdoe@example.com\"\n      }, function (email_prompt) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"email\",\n          placeholder: email_prompt,\n          autoComplete: \"email\",\n          value: _this2.state.email,\n          onChange: _this2.handleEmailChange,\n          required: true\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        id: \"save-token\",\n        name: \"save-token\",\n        checked: this.state.saveToken,\n        onChange: this.handleToggleSaveToken\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"stay_logged_in\"\n      }, function (stay_logged_in) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n          htmlFor: \"save-token\"\n        }, \"\\xA0\", stay_logged_in);\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dialog-buttons\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: submitClasses,\n        type: \"submit\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_sign_up\",\n        defaultMessage: \"Sign up\"\n      }))));\n    }\n  }]);\n\n  return CreateAccountView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/views/create-account-view.jsx?");

/***/ }),

/***/ "./src/views/edit-account-view.jsx":
/*!*****************************************!*\
  !*** ./src/views/edit-account-view.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EditAccountView; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widgets_avatar_upload_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets/avatar-upload.jsx */ \"./src/widgets/avatar-upload.jsx\");\n/* harmony import */ var _widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../widgets/checkbox.jsx */ \"./src/widgets/checkbox.jsx\");\n/* harmony import */ var _widgets_in_place_edit_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../widgets/in-place-edit.jsx */ \"./src/widgets/in-place-edit.jsx\");\n/* harmony import */ var _widgets_permissions_editor_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../widgets/permissions-editor.jsx */ \"./src/widgets/permissions-editor.jsx\");\n/* harmony import */ var _widgets_tag_manager_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../widgets/tag-manager.jsx */ \"./src/widgets/tag-manager.jsx\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\n\nvar EditAccountView = function (_React$Component) {\n  _inherits(EditAccountView, _React$Component);\n\n  function EditAccountView(props) {\n    var _this;\n\n    _classCallCheck(this, EditAccountView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditAccountView).call(this, props));\n\n    var me = _this.props.tinode.getMeTopic();\n\n    var defacs = me.getDefaultAccess();\n\n    var fnd = _this.props.tinode.getFndTopic();\n\n    _this.state = {\n      fullName: me.public ? me.public.fn : undefined,\n      avatar: Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_7__[\"makeImageUrl\"])(me.public ? me.public.photo : null),\n      auth: defacs ? defacs.auth : null,\n      anon: defacs ? defacs.anon : null,\n      tags: fnd.tags(),\n      showPermissionEditorFor: undefined,\n      previousOnTags: fnd.onTagsUpdated\n    };\n    _this.tnNewTags = _this.tnNewTags.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFullNameUpdate = _this.handleFullNameUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordUpdate = _this.handlePasswordUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleImageChanged = _this.handleImageChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCheckboxClick = _this.handleCheckboxClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLaunchPermissionsEditor = _this.handleLaunchPermissionsEditor.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHidePermissionsEditor = _this.handleHidePermissionsEditor.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePermissionsChanged = _this.handlePermissionsChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTagsUpdated = _this.handleTagsUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditAccountView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var fnd = this.props.tinode.getFndTopic();\n      fnd.onTagsUpdated = this.tnNewTags;\n\n      if (!fnd.isSubscribed()) {\n        fnd.subscribe(fnd.startMetaQuery().withLaterDesc().withTags().build()).catch(function (err) {\n          _this2.props.onError(err.message, 'err');\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var fnd = this.props.tinode.getFndTopic();\n      fnd.onTagsUpdated = this.state.previousOnTags;\n    }\n  }, {\n    key: \"tnNewTags\",\n    value: function tnNewTags(tags) {\n      this.setState({\n        tags: tags\n      });\n    }\n  }, {\n    key: \"handleFullNameUpdate\",\n    value: function handleFullNameUpdate(fn) {\n      this.setState({\n        fullName: fn\n      });\n      this.props.onUpdateAccount(undefined, vcard(fn, this.state.avatar));\n    }\n  }, {\n    key: \"handlePasswordUpdate\",\n    value: function handlePasswordUpdate(pwd) {\n      this.setState({\n        password: pwd\n      });\n      this.props.onUpdateAccount(pwd);\n    }\n  }, {\n    key: \"handleImageChanged\",\n    value: function handleImageChanged(img) {\n      this.setState({\n        avatar: img\n      });\n      this.props.onUpdateAccount(undefined, vcard(this.state.fullName, img));\n    }\n  }, {\n    key: \"handleCheckboxClick\",\n    value: function handleCheckboxClick(what, checked) {\n      if (what == 'sound') {\n        this.props.onToggleMessageSounds(checked);\n      } else if (what == 'alert') {\n        this.props.onTogglePushNotifications(checked);\n      }\n    }\n  }, {\n    key: \"handleLaunchPermissionsEditor\",\n    value: function handleLaunchPermissionsEditor(which) {\n      this.setState({\n        showPermissionEditorFor: which,\n        editedPermissions: this.state[which]\n      });\n    }\n  }, {\n    key: \"handleHidePermissionsEditor\",\n    value: function handleHidePermissionsEditor() {\n      this.setState({\n        showPermissionEditorFor: undefined\n      });\n    }\n  }, {\n    key: \"handlePermissionsChanged\",\n    value: function handlePermissionsChanged(perm) {\n      var defacs = {};\n      defacs[this.state.showPermissionEditorFor] = perm;\n      this.props.onUpdateAccount(undefined, undefined, defacs);\n      var newState = {\n        showPermissionEditorFor: undefined\n      };\n      newState[this.state.showPermissionEditorFor] = perm;\n      this.setState(newState);\n    }\n  }, {\n    key: \"handleTagsUpdated\",\n    value: function handleTagsUpdated(tags) {\n      if (arrayEqual(this.state.tags.slice(0), tags.slice(0))) {\n        return;\n      }\n\n      this.props.onUpdateTags(tags);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var tags = [];\n      this.state.tags.map(function (tag) {\n        tags.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n          className: \"badge\",\n          key: tags.length\n        }, tag));\n      });\n\n      if (tags.length == 0) {\n        tags = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n          id: \"tags_not_found\"\n        }));\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, this.state.showPermissionEditorFor ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_permissions_editor_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        mode: this.state.editedPermissions,\n        skip: \"O\",\n        onSubmit: this.handlePermissionsChanged,\n        onCancel: this.handleHidePermissionsEditor\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"edit-account\",\n        className: \"scrollable-panel\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_your_name\",\n        defaultMessage: \"Your name\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"full_name_prompt\"\n      }, function (full_name_placeholder) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_in_place_edit_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          placeholder: full_name_placeholder,\n          value: _this3.state.fullName,\n          onFinished: _this3.handleFullNameUpdate\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_password\",\n        defaultMessage: \"Password\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"password_unchanged_prompt\",\n        defaultMessage: \"Unchanged\"\n      }, function (password_unchanged) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_in_place_edit_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          placeholder: password_unchanged,\n          type: \"password\",\n          onFinished: _this3.handlePasswordUpdate\n        });\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_avatar_upload_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        avatar: this.state.avatar,\n        uid: this.props.myUserId,\n        title: this.state.fullName,\n        onImageChanged: this.handleImageChanged,\n        onError: this.props.onError\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"hr\"\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_user_id\",\n        defaultMessage: \"Address:\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", null, this.props.myUserId)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_default_access_mode\",\n        defaultMessage: \"Default access mode:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"quoted\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, \"Auth: \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", {\n        className: \"clickable\",\n        onClick: this.handleLaunchPermissionsEditor.bind(this, 'auth')\n      }, this.state.auth)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, \"Anon: \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", {\n        className: \"clickable\",\n        onClick: this.handleLaunchPermissionsEditor.bind(this, 'anon')\n      }, this.state.anon)))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"hr\"\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        htmlFor: \"message-sound\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_message_sound\",\n        defaultMessage: \"Message sound:\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        name: \"sound\",\n        id: \"message-sound\",\n        checked: this.props.messageSounds,\n        onChange: this.handleCheckboxClick\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        htmlFor: \"desktop-alerts\"\n      }, this.props.desktopAlertsEnabled ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_push_notifications\",\n        defaultMessage: \"Notification alerts:\"\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_push_notifications_disabled\",\n        defaultMessage: \"Notification alerts (requires HTTPS):\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        name: \"alert\",\n        id: \"desktop-alerts\",\n        checked: this.props.desktopAlerts,\n        onChange: this.props.desktopAlertsEnabled ? this.handleCheckboxClick : null\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"hr\"\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"title_tag_manager\",\n        defaultMessage: \"Tags (user discovery)\"\n      }, function (title_tag_manager) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_tag_manager_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n          title: title_tag_manager,\n          activated: false,\n          tags: _this3.state.tags,\n          onSubmit: _this3.handleTagsUpdated\n        });\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"hr\"\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        className: \"red flat-button\",\n        onClick: this.props.onLogout\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"exit_to_app\"), \" \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_logout\",\n        defaultMessage: \"Logout\"\n      })))));\n    }\n  }]);\n\n  return EditAccountView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/views/edit-account-view.jsx?");

/***/ }),

/***/ "./src/views/info-view.jsx":
/*!*********************************!*\
  !*** ./src/views/info-view.jsx ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _widgets_avatar_upload_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../widgets/avatar-upload.jsx */ \"./src/widgets/avatar-upload.jsx\");\n/* harmony import */ var _widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../widgets/checkbox.jsx */ \"./src/widgets/checkbox.jsx\");\n/* harmony import */ var _widgets_contact_list_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../widgets/contact-list.jsx */ \"./src/widgets/contact-list.jsx\");\n/* harmony import */ var _widgets_group_manager_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../widgets/group-manager.jsx */ \"./src/widgets/group-manager.jsx\");\n/* harmony import */ var _widgets_in_place_edit_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../widgets/in-place-edit.jsx */ \"./src/widgets/in-place-edit.jsx\");\n/* harmony import */ var _widgets_menu_cancel_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../widgets/menu-cancel.jsx */ \"./src/widgets/menu-cancel.jsx\");\n/* harmony import */ var _widgets_more_button_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../widgets/more-button.jsx */ \"./src/widgets/more-button.jsx\");\n/* harmony import */ var _widgets_permissions_editor_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../widgets/permissions-editor.jsx */ \"./src/widgets/permissions-editor.jsx\");\n/* harmony import */ var _widgets_tag_manager_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../widgets/tag-manager.jsx */ \"./src/widgets/tag-manager.jsx\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  requested: {\n    \"id\": \"requested_permissions\",\n    \"defaultMessage\": \"Requested\"\n  },\n  granted: {\n    \"id\": \"granted_permissions\",\n    \"defaultMessage\": \"Granted\"\n  },\n  edit_permissions: {\n    \"id\": \"menu_item_edit_permissions\",\n    \"defaultMessage\": \"Edit permissions\"\n  },\n  other_user: {\n    \"id\": \"label_other_user\",\n    \"defaultMessage\": \"Other\"\n  }\n});\n\nvar InfoView = function (_React$Component) {\n  _inherits(InfoView, _React$Component);\n\n  function InfoView(props) {\n    var _this;\n\n    _classCallCheck(this, InfoView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InfoView).call(this, props));\n    _this.state = {\n      topic: null,\n      owner: false,\n      admin: false,\n      sharer: false,\n      muted: false,\n      address: null,\n      groupTopic: undefined,\n      fullName: undefined,\n      avatar: null,\n      private: null,\n      selectedContact: null,\n      access: null,\n      modeGiven: null,\n      modeWant: null,\n      modeGiven2: null,\n      modeWant2: null,\n      auth: null,\n      anon: null,\n      contactList: [],\n      tags: [],\n      showMemberPanel: false,\n      showPermissionEditorFor: undefined,\n      moreInfoExpanded: false,\n      previousMetaDesc: undefined,\n      previousSubsUpdated: undefined,\n      previousTagsUpdated: undefined\n    };\n    _this.resetSubs = _this.resetSubs.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.resetDesc = _this.resetDesc.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onMetaDesc = _this.onMetaDesc.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubsUpdated = _this.onSubsUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onTagsUpdated = _this.onTagsUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFullNameUpdate = _this.handleFullNameUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePrivateUpdate = _this.handlePrivateUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleImageChanged = _this.handleImageChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMuted = _this.handleMuted.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePermissionsChanged = _this.handlePermissionsChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLaunchPermissionsEditor = _this.handleLaunchPermissionsEditor.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHidePermissionsEditor = _this.handleHidePermissionsEditor.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShowAddMembers = _this.handleShowAddMembers.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHideAddMembers = _this.handleHideAddMembers.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMemberUpdateRequest = _this.handleMemberUpdateRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLeave = _this.handleLeave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMemberSelected = _this.handleMemberSelected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMoreInfo = _this.handleMoreInfo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTagsUpdated = _this.handleTagsUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleContextMenu = _this.handleContextMenu.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(InfoView, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(props) {\n      var topic = this.props.tinode.getTopic(props.topic);\n\n      if (!topic) {\n        return;\n      }\n\n      if (this.onMetaDesc != topic.onMetaDesc) {\n        this.previousMetaDesc = topic.onMetaDesc;\n        topic.onMetaDesc = this.onMetaDesc;\n        this.previousSubsUpdated = topic.onSubsUpdated;\n        topic.onSubsUpdated = this.onSubsUpdated;\n\n        if (topic.getType() == 'grp') {\n          this.previousTagsUpdated = topic.onTagsUpdated;\n          topic.onTagsUpdated = this.onTagsUpdated;\n        } else {\n          this.previousTagsUpdated = undefined;\n        }\n      }\n\n      if (this.state.topic != props.topic) {\n        this.setState({\n          topic: props.topic\n        });\n        this.resetDesc(topic, props);\n        this.resetSubs(topic, props);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var topic = this.props.tinode.getTopic(this.props.topic);\n\n      if (!topic) {\n        return;\n      }\n\n      this.setState({\n        topic: null\n      });\n      topic.onMetaDesc = this.previousMetaDesc;\n      topic.onSubsUpdated = this.previousSubsUpdated;\n      topic.onTagsUpdated = this.previousTagsUpdated;\n    }\n  }, {\n    key: \"resetSubs\",\n    value: function resetSubs(topic, props) {\n      var newState = {\n        contactList: []\n      };\n\n      if (topic.getType() == 'p2p') {\n        var user2 = topic.subscriber(props.topic);\n\n        if (user2) {\n          newState.modeGiven2 = user2.acs.getGiven();\n          newState.modeWant2 = user2.acs.getWant();\n        }\n      } else {\n        topic.subscribers(function (sub) {\n          newState.contactList.push(sub);\n        }, this);\n      }\n\n      this.setState(newState);\n    }\n  }, {\n    key: \"resetDesc\",\n    value: function resetDesc(topic, props) {\n      var defacs = topic.getDefaultAccess() || {};\n      var acs = topic.getAccessMode();\n      this.setState({\n        owner: acs && acs.isOwner(),\n        admin: acs && acs.isAdmin(),\n        sharer: acs && (acs.isAdmin() || acs.isSharer()),\n        muted: acs && acs.isMuted(),\n        fullName: topic.public ? topic.public.fn : undefined,\n        avatar: Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_12__[\"makeImageUrl\"])(topic.public ? topic.public.photo : null),\n        private: topic.private ? topic.private.comment : null,\n        address: topic.name,\n        groupTopic: topic.getType() == 'grp',\n        showMemberPanel: false,\n        access: acs ? acs.getMode() : undefined,\n        modeGiven: acs ? acs.getGiven() : undefined,\n        modeWant: acs ? acs.getWant() : undefined,\n        auth: defacs.auth,\n        anon: defacs.anon\n      });\n\n      if (topic.getType() == 'grp' && acs && acs.isOwner()) {\n        topic.getMeta(topic.startMetaQuery().withTags().build());\n      }\n    }\n  }, {\n    key: \"onMetaDesc\",\n    value: function onMetaDesc(desc) {\n      var topic = this.props.tinode.getTopic(this.props.topic);\n\n      if (!topic) {\n        return;\n      }\n\n      this.resetDesc(topic, this.props);\n\n      if (this.previousMetaDesc && this.previousMetaDesc != this.onMetaDesc) {\n        this.previousMetaDesc(desc);\n      }\n    }\n  }, {\n    key: \"onSubsUpdated\",\n    value: function onSubsUpdated() {\n      var topic = this.props.tinode.getTopic(this.props.topic);\n\n      if (!topic) {\n        return;\n      }\n\n      this.resetSubs(topic, this.props);\n\n      if (this.previousSubsUpdated && this.previousSubsUpdated != this.onSubsUpdated) {\n        this.previousSubsUpdated();\n      }\n    }\n  }, {\n    key: \"onTagsUpdated\",\n    value: function onTagsUpdated(tags) {\n      this.setState({\n        tags: tags\n      });\n\n      if (this.previousTagsUpdated && this.previousTagsUpdated != this.onTagsUpdated) {\n        this.previousTagsUpdated();\n      }\n    }\n  }, {\n    key: \"handleFullNameUpdate\",\n    value: function handleFullNameUpdate(fn) {\n      if (this.state.fullName !== fn) {\n        this.setState({\n          fullName: fn\n        });\n        this.props.onTopicDescUpdate(this.props.topic, vcard(fn, this.state.avatar), null);\n      }\n    }\n  }, {\n    key: \"handlePrivateUpdate\",\n    value: function handlePrivateUpdate(priv) {\n      if (this.state.priv !== priv) {\n        this.setState({\n          private: priv\n        });\n        this.props.onTopicDescUpdate(this.props.topic, null, priv || tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.DEL_CHAR);\n      }\n    }\n  }, {\n    key: \"handleImageChanged\",\n    value: function handleImageChanged(img) {\n      this.setState({\n        avatar: img\n      });\n      this.props.onTopicDescUpdate(this.props.topic, vcard(this.state.fullName, img), null);\n    }\n  }, {\n    key: \"handleMuted\",\n    value: function handleMuted(ignored, checked) {\n      this.setState({\n        muted: checked\n      });\n      this.props.onChangePermissions(this.props.topic, checked ? '-P' : '+P');\n    }\n  }, {\n    key: \"handlePermissionsChanged\",\n    value: function handlePermissionsChanged(perm) {\n      switch (this.state.showPermissionEditorFor) {\n        case 'auth':\n          this.props.onTopicDescUpdate(this.props.topic, null, null, {\n            auth: perm\n          });\n          break;\n\n        case 'anon':\n          this.props.onTopicDescUpdate(this.props.topic, null, null, {\n            anon: perm\n          });\n          break;\n\n        case 'mode':\n        case 'want':\n          this.props.onChangePermissions(this.props.topic, perm);\n          break;\n\n        case 'given':\n          this.props.onChangePermissions(this.props.topic, perm, this.props.topic);\n          break;\n\n        case 'user':\n          this.props.onChangePermissions(this.props.topic, perm, this.state.userPermissionsEdited);\n          break;\n      }\n\n      this.setState({\n        showPermissionEditorFor: undefined\n      });\n    }\n  }, {\n    key: \"handleLaunchPermissionsEditor\",\n    value: function handleLaunchPermissionsEditor(which, uid) {\n      var formatMessage = this.props.intl.formatMessage;\n      var toEdit, toCompare, toSkip, titleEdit, titleCompare, userTitle, userAvatar;\n\n      switch (which) {\n        case 'mode':\n          toEdit = this.state.access;\n          break;\n\n        case 'want':\n          toEdit = this.state.modeWant;\n          toCompare = this.state.modeGiven;\n          toSkip = this.state.groupTopic ? 'O' : 'ASDO';\n          titleEdit = formatMessage(messages.requested);\n          titleCompare = formatMessage(messages.granted);\n          break;\n\n        case 'given':\n          toEdit = this.state.modeGiven2;\n          toCompare = this.state.modeWant2;\n          toSkip = this.state.groupTopic ? this.state.owner ? '' : 'O' : 'ASDO';\n          titleEdit = formatMessage(messages.granted);\n          titleCompare = formatMessage(messages.requested);\n          break;\n\n        case 'auth':\n          toEdit = this.state.auth;\n          toSkip = 'O';\n          break;\n\n        case 'anon':\n          toEdit = this.state.anon;\n          toSkip = 'O';\n          break;\n\n        case 'user':\n          {\n            var topic = this.props.tinode.getTopic(this.props.topic);\n\n            if (!topic) {\n              return;\n            }\n\n            var user = topic.subscriber(uid);\n\n            if (!user || !user.acs) {\n              return;\n            }\n\n            toEdit = user.acs.getGiven();\n            toCompare = user.acs.getWant();\n            toSkip = this.state.owner ? '' : 'O';\n            titleEdit = formatMessage(messages.granted);\n            titleCompare = formatMessage(messages.requested);\n\n            if (user.public) {\n              userTitle = user.public.fn;\n              userAvatar = user.public.photo;\n            }\n\n            break;\n          }\n\n        default:\n          console.log(\"Unknown permission editing mode '\" + which + \"'\");\n          break;\n      }\n\n      this.setState({\n        showPermissionEditorFor: which,\n        userPermissionsEdited: uid,\n        userPermissionsTitle: userTitle,\n        userPermissionsAvatar: userAvatar,\n        editedPermissions: toEdit,\n        immutablePermissions: toCompare,\n        editedPermissionsTitle: titleEdit,\n        immutablePermissionsTitle: titleCompare,\n        editedPermissionsSkipped: toSkip\n      });\n    }\n  }, {\n    key: \"handleHidePermissionsEditor\",\n    value: function handleHidePermissionsEditor() {\n      this.setState({\n        showPermissionEditorFor: undefined\n      });\n    }\n  }, {\n    key: \"handleShowAddMembers\",\n    value: function handleShowAddMembers() {\n      this.props.onInitFind();\n      this.setState({\n        showMemberPanel: true\n      });\n    }\n  }, {\n    key: \"handleHideAddMembers\",\n    value: function handleHideAddMembers() {\n      this.setState({\n        showMemberPanel: false\n      });\n    }\n  }, {\n    key: \"handleMemberUpdateRequest\",\n    value: function handleMemberUpdateRequest(members, added, removed) {\n      this.props.onMemberUpdateRequest(this.props.topic, added, removed);\n      this.setState({\n        showMemberPanel: false\n      });\n    }\n  }, {\n    key: \"handleLeave\",\n    value: function handleLeave() {\n      this.props.onLeaveTopic(this.props.topic);\n    }\n  }, {\n    key: \"handleMemberSelected\",\n    value: function handleMemberSelected(uid) {\n      this.setState({\n        selectedContact: uid\n      });\n    }\n  }, {\n    key: \"handleMoreInfo\",\n    value: function handleMoreInfo(open) {\n      this.setState({\n        moreInfoExpanded: open\n      });\n    }\n  }, {\n    key: \"handleTagsUpdated\",\n    value: function handleTagsUpdated(tags) {\n      if (!arrayEqual(this.state.tags.slice(0), tags.slice(0))) {\n        this.props.onTopicTagsUpdate(this.props.topic, tags);\n      }\n    }\n  }, {\n    key: \"handleContextMenu\",\n    value: function handleContextMenu(params) {\n      var formatMessage = this.props.intl.formatMessage;\n      var instance = this;\n      var topic = this.props.tinode.getTopic(this.props.topic);\n\n      if (!topic) {\n        return;\n      }\n\n      var user = topic.subscriber(params.topicName);\n\n      if (!user || !user.acs) {\n        return;\n      }\n\n      var menuItems = [{\n        title: formatMessage(messages.edit_permissions),\n        handler: function handler() {\n          instance.handleLaunchPermissionsEditor('user', params.topicName);\n        }\n      }, 'member_delete', user.acs.isMuted() ? 'member_unmute' : 'member_mute', user.acs.isJoiner() ? 'member_block' : 'member_unblock'];\n      this.props.showContextMenu({\n        topicName: this.props.topic,\n        x: params.x,\n        y: params.y,\n        user: params.topicName\n      }, menuItems);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formatMessage = this.props.intl.formatMessage;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"info-view\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"caption-panel\",\n        id: \"info-caption-panel\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-title\",\n        id: \"info-title\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"title_info\",\n        defaultMessage: \"Info\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_menu_cancel_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        onCancel: this.props.onCancel\n      }))), this.props.displayMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ErrorPanel, {\n        level: this.props.errorLevel,\n        text: this.props.errorText,\n        onClearError: this.props.onError\n      }) : null, this.state.showMemberPanel ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_group_manager_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        members: this.state.contactList,\n        requiredMember: this.props.myUserId,\n        myUserId: this.props.myUserId,\n        contacts: this.props.searchableContacts,\n        onCancel: this.handleHideAddMembers,\n        onSubmit: this.handleMemberUpdateRequest\n      }) : this.state.showPermissionEditorFor ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_permissions_editor_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n        mode: this.state.editedPermissions,\n        compare: this.state.immutablePermissions,\n        skip: this.state.editedPermissionsSkipped,\n        modeTitle: this.state.editedPermissionsTitle,\n        compareTitle: this.state.immutablePermissionsTitle,\n        userTitle: this.state.userPermissionsTitle,\n        item: this.state.userPermissionsEdited,\n        userAvatar: this.state.userPermissionsAvatar,\n        onSubmit: this.handlePermissionsChanged,\n        onCancel: this.handleHidePermissionsEditor\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"info-view-content\",\n        className: \"scrollable-panel\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_topic_name\",\n        defaultMessage: \"Name\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_in_place_edit_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n        placeholder: this.state.groupTopic ? \"Group name\" : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, \"Unknown\"),\n        readOnly: !this.state.owner,\n        value: this.state.fullName,\n        onFinished: this.handleFullNameUpdate\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_private\",\n        defaultMessage: \"Private comment\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"private_editing_placeholder\",\n        defaultMessage: \"Visible to you only\"\n      }, function (private_placeholder) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_in_place_edit_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n          placeholder: private_placeholder,\n          value: _this2.state.private,\n          onFinished: _this2.handlePrivateUpdate\n        });\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_avatar_upload_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        avatar: this.state.avatar,\n        readOnly: !this.state.owner,\n        uid: this.props.topic,\n        title: this.state.fullName,\n        onImageChanged: this.handleImageChanged,\n        onError: this.props.onError\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"hr\"\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_muting_topic\",\n        defaultMessage: \"Muted:\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        name: \"P\",\n        checked: this.state.muted,\n        onChange: this.handleMuted\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"action_more\",\n        defaultMessage: \"More\"\n      }, function (more) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_more_button_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n          title: more,\n          open: _this2.state.moreInfoExpanded,\n          onToggle: _this2.handleMoreInfo\n        });\n      }), this.state.moreInfoExpanded ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_user_id\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", null, this.state.address)), this.state.groupTopic ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_your_permissions\",\n        defaultMessage: \"Your permissions:\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", {\n        className: \"clickable\",\n        onClick: this.handleLaunchPermissionsEditor.bind(this, 'want')\n      }, this.state.access)) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_permissions\",\n        defaultMessage: \"Permissions:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"quoted\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_you\",\n        defaultMessage: \"You:\"\n      }), \" \\xA0\", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", {\n        className: \"clickable\",\n        onClick: this.handleLaunchPermissionsEditor.bind(this, 'want')\n      }, this.state.access)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, this.state.fullName ? this.state.fullName : formatMessage(messages.other_user), \": \\xA0\", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", {\n        className: \"clickable\",\n        onClick: this.handleLaunchPermissionsEditor.bind(this, 'given')\n      }, this.state.modeGiven2)))), this.state.sharer && (this.state.auth || this.state.anon) ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_default_access\",\n        defaultMessage: \"Default access mode:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"quoted\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, \"Auth: \", this.state.admin ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", {\n        className: \"clickable\",\n        onClick: this.handleLaunchPermissionsEditor.bind(this, 'auth')\n      }, this.state.auth) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", null, this.state.auth)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, \"Anon: \", this.state.admin ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", {\n        className: \"clickable\",\n        onClick: this.handleLaunchPermissionsEditor.bind(this, 'anon')\n      }, this.state.anon) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tt\", null, this.state.anon)))) : null) : null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"hr\"\n      }), this.state.owner ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"title_tag_manager\"\n      }, function (tags) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_tag_manager_jsx__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n          title: tags,\n          tags: _this2.state.tags,\n          activated: false,\n          onSubmit: _this2.handleTagsUpdated\n        });\n      }) : null, this.state.owner ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"hr\"\n      }) : null, this.state.groupTopic ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_group_members\",\n        defaultMessage: \"Group members:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, this.state.sharer ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        className: \"flat-button\",\n        onClick: this.handleShowAddMembers\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"person_add\"), \" \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_add_members\",\n        defaultMessage: \"Add members\"\n      })) : null, !this.state.owner ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        className: \"red flat-button\",\n        onClick: this.handleLeave\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"exit_to_app\"), \" \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_leave\",\n        defaultMessage: \"Leave\"\n      })) : null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"group_has_no_members\",\n        defaultMessage: \"No members\"\n      }, function (no_members) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_contact_list_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          contacts: _this2.state.contactList,\n          myUserId: _this2.props.myUserId,\n          emptyListMessage: no_members,\n          topicSelected: _this2.state.selectedContact,\n          showOnline: false,\n          showUnread: false,\n          showMode: true,\n          noScroll: true,\n          onTopicSelected: _this2.handleMemberSelected,\n          showContextMenu: _this2.state.admin ? _this2.handleContextMenu : false\n        });\n      })) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        className: \"red flat-button\",\n        onClick: this.handleLeave\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"exit_to_app\"), \" \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"action_leave_chat\",\n        defaultMessage: \"Leave\"\n      })))));\n    }\n  }]);\n\n  return InfoView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(InfoView));\n\n//# sourceURL=webpack:///./src/views/info-view.jsx?");

/***/ }),

/***/ "./src/views/login-view.jsx":
/*!**********************************!*\
  !*** ./src/views/login-view.jsx ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LoginView; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets/checkbox.jsx */ \"./src/widgets/checkbox.jsx\");\n/* harmony import */ var _widgets_visible_password_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../widgets/visible-password.jsx */ \"./src/widgets/visible-password.jsx\");\n/* harmony import */ var _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/local-storage.js */ \"./src/lib/local-storage.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\nvar LoginView = function (_React$Component) {\n  _inherits(LoginView, _React$Component);\n\n  function LoginView(props) {\n    var _this;\n\n    _classCallCheck(this, LoginView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginView).call(this, props));\n    _this.state = {\n      login: props.login,\n      password: '',\n      hostName: props.serverAddress,\n      saveToken: _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getObject('keep-logged-in')\n    };\n    _this.handleLoginChange = _this.handleLoginChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleToggleSaveToken = _this.handleToggleSaveToken.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LoginView, [{\n    key: \"handleLoginChange\",\n    value: function handleLoginChange(e) {\n      this.setState({\n        login: e.target.value\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(e) {\n      this.setState({\n        password: e.target.value\n      });\n    }\n  }, {\n    key: \"handleToggleSaveToken\",\n    value: function handleToggleSaveToken() {\n      _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setObject('keep-logged-in', !this.state.saveToken);\n      this.setState({\n        saveToken: !this.state.saveToken\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      this.props.onLogin(this.state.login.trim(), this.state.password.trim());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var submitClasses = 'blue';\n\n      if (this.props.disabled) {\n        submitClasses += ' disabled';\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n        id: \"login-form\",\n        onSubmit: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"login_prompt\",\n        defaultMessage: \"Login\"\n      }, function (login_prompt) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"text\",\n          id: \"inputLogin\",\n          placeholder: login_prompt,\n          autoComplete: \"username\",\n          value: _this2.state.login,\n          onChange: _this2.handleLoginChange,\n          required: true,\n          autoFocus: true\n        });\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"password_prompt\",\n        defaultMessage: \"Password\"\n      }, function (password_prompt) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_visible_password_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n          type: \"password\",\n          id: \"inputPassword\",\n          placeholder: password_prompt,\n          autoComplete: \"current-password\",\n          value: _this2.state.password,\n          onChange: _this2.handlePasswordChange,\n          required: true\n        });\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_checkbox_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        id: \"save-token\",\n        name: \"save-token\",\n        checked: this.state.saveToken,\n        onChange: this.handleToggleSaveToken\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        htmlFor: \"save-token\"\n      }, \"\\xA0\", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"stay_logged_in\",\n        defaultMessage: \"Stay logged in\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"#reset\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"forgot_password_link\",\n        defaultMessage: \"Forgot password?\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dialog-buttons\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: submitClasses,\n        type: \"submit\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_sign_in\",\n        defaultMessage: \"Sign in\"\n      }))));\n    }\n  }]);\n\n  return LoginView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/views/login-view.jsx?");

/***/ }),

/***/ "./src/views/logo-view.jsx":
/*!*********************************!*\
  !*** ./src/views/logo-view.jsx ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LogoView; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\nvar LogoView = function (_React$PureComponent) {\n  _inherits(LogoView, _React$PureComponent);\n\n  function LogoView() {\n    _classCallCheck(this, LogoView);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LogoView).apply(this, arguments));\n  }\n\n  _createClass(LogoView, [{\n    key: \"render\",\n    value: function render() {\n      var version = _config_js__WEBPACK_IMPORTED_MODULE_3__[\"APP_NAME\"] + ' (' + tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.getLibrary() + ')';\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"dummy-view\",\n        className: this.props.hideSelf ? 'nodisplay' : null\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"https://github.com/tinode/chat/\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n        id: \"logo\",\n        alt: \"logo\",\n        src: \"img/logo.svg\"\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", null, \"Tinode Web\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_client\",\n        defaultMessage: \"Client:\"\n      }), \" \", version), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_server\",\n        defaultMessage: \"Server:\"\n      }), \" \", this.props.serverVersion, \"(\", this.props.serverAddress, \")\")));\n    }\n  }]);\n\n  return LogoView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/views/logo-view.jsx?");

/***/ }),

/***/ "./src/views/messages-view.jsx":
/*!*************************************!*\
  !*** ./src/views/messages-view.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _widgets_chat_message_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../widgets/chat-message.jsx */ \"./src/widgets/chat-message.jsx\");\n/* harmony import */ var _widgets_error_panel_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../widgets/error-panel.jsx */ \"./src/widgets/error-panel.jsx\");\n/* harmony import */ var _widgets_group_subs_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../widgets/group-subs.jsx */ \"./src/widgets/group-subs.jsx\");\n/* harmony import */ var _widgets_image_preview_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../widgets/image-preview.jsx */ \"./src/widgets/image-preview.jsx\");\n/* harmony import */ var _widgets_letter_tile_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../widgets/letter-tile.jsx */ \"./src/widgets/letter-tile.jsx\");\n/* harmony import */ var _widgets_load_spinner_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../widgets/load-spinner.jsx */ \"./src/widgets/load-spinner.jsx\");\n/* harmony import */ var _logo_view_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./logo-view.jsx */ \"./src/views/logo-view.jsx\");\n/* harmony import */ var _widgets_send_message_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../widgets/send-message.jsx */ \"./src/widgets/send-message.jsx\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\n/* harmony import */ var _lib_strformat_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/strformat.js */ \"./src/lib/strformat.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  online_now: {\n    \"id\": \"online_now\",\n    \"defaultMessage\": \"online now\"\n  },\n  last_seen: {\n    \"id\": \"last_seen_timestamp\",\n    \"defaultMessage\": \"Last seen\"\n  },\n  'not_found': {\n    \"id\": \"title_not_found\",\n    \"defaultMessage\": \"Not found\"\n  }\n});\n\nvar MessagesView = function (_React$Component) {\n  _inherits(MessagesView, _React$Component);\n\n  function MessagesView(props) {\n    var _this;\n\n    _classCallCheck(this, MessagesView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MessagesView).call(this, props));\n    _this.state = {\n      messages: [],\n      onlineSubs: [],\n      topic: '',\n      title: '',\n      avatar: null,\n      scrollPosition: 0,\n      readOnly: props.acs ? !props.acs.isWriter() : true,\n      writeOnly: props.acs ? !props.acs.isReader() : true,\n      typingIndicator: false,\n      imagePreview: null\n    };\n    _this.propsChange = _this.propsChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.leave = _this.leave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleScrollReference = _this.handleScrollReference.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fetchMoreMessages = _this.fetchMoreMessages.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDescChange = _this.handleDescChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubsUpdated = _this.handleSubsUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNewMessage = _this.handleNewMessage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAllMessagesReceived = _this.handleAllMessagesReceived.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleInfoReceipt = _this.handleInfoReceipt.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleImagePreview = _this.handleImagePreview.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCloseImagePreview = _this.handleCloseImagePreview.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleContextClick = _this.handleContextClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShowContextMenuMessage = _this.handleShowContextMenuMessage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleBackNavigation = _this.handleBackNavigation.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MessagesView, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.messagesScroller && (prevState.title != this.state.title || prevState.messages.length != this.state.messages.length)) {\n        this.messagesScroller.scrollTop = this.messagesScroller.scrollHeight - this.state.scrollPosition;\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.propsChange(this.props);\n\n      if (this.messagesScroller) {\n        this.messagesScroller.addEventListener('scroll', this.fetchMoreMessages);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.leave(this.state.topic);\n\n      if (this.messagesScroller) {\n        this.messagesScroller.removeEventListener('scroll', this.fetchMoreMessages);\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.propsChange(nextProps);\n    }\n  }, {\n    key: \"propsChange\",\n    value: function propsChange(props) {\n      var _this2 = this;\n\n      if (!props || !props.topic) {\n        var oldTopic = this.state.topic;\n        this.setState({\n          messages: [],\n          onlineSubs: [],\n          topic: null\n        }, this.leave(oldTopic));\n        return;\n      }\n\n      if (!props.connected) {\n        this.setState({\n          onlineSubs: []\n        });\n        return;\n      }\n\n      var topic = this.props.tinode.getTopic(props.topic);\n\n      if (!topic) {\n        return;\n      }\n\n      var newGroupTopic = tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.isNewGroupTopicName(props.topic);\n      var tryToResubscribe = !this.props.connected && props.connected;\n\n      if (props.topic != this.state.topic) {\n        var msgs = [];\n        var subs = [];\n        topic.onData = this.handleNewMessage;\n        topic.onAllMessagesReceived = this.handleAllMessagesReceived;\n        topic.onInfo = this.handleInfoReceipt;\n        topic.onMetaDesc = this.handleDescChange;\n        topic.onSubsUpdated = this.handleSubsUpdated;\n        topic.onPres = this.handleSubsUpdated;\n        this.leave(this.state.topic);\n        this.handleDescChange(topic);\n        topic.subscribers(function (sub) {\n          if (sub.online && sub.user != _this2.props.myUserId) {\n            subs.push(sub);\n          }\n        });\n        topic.messages(function (msg) {\n          if (!msg.deleted) {\n            msgs = msgs.concat(msg);\n          }\n        });\n        this.setState({\n          messages: msgs,\n          onlineSubs: subs,\n          topic: props.topic,\n          imagePreview: null,\n          scrollPosition: 0\n        });\n        tryToResubscribe = true;\n        this.props.readTimerHandler(null);\n      }\n\n      this.setState({\n        readOnly: props.acs ? !props.acs.isWriter() : true,\n        writeOnly: props.acs ? !props.acs.isReader() : true\n      });\n\n      if (!topic.isSubscribed() && tryToResubscribe) {\n        var getQuery = topic.startMetaQuery().withLaterDesc().withLaterSub().withLaterData(_config_js__WEBPACK_IMPORTED_MODULE_11__[\"MESSAGES_PAGE\"]).withLaterDel();\n        var setQuery = newGroupTopic ? props.newGroupTopicParams : undefined;\n        this.setState({\n          fetchingMessages: true\n        });\n        topic.subscribe(getQuery.build(), setQuery).then(function (ctrl) {\n          _this2.setState({\n            topic: ctrl.topic\n          });\n\n          _this2.props.onNewTopicCreated(props.topic, ctrl.topic);\n\n          topic.queuedMessages(function (pub) {\n            if (!pub._sending && topic.isSubscribed()) {\n              topic.publishMessage(pub);\n            }\n          });\n        }).catch(function (err) {\n          _this2.props.onError(err.message, 'err');\n\n          var formatMessage = _this2.props.intl.formatMessage;\n\n          _this2.setState({\n            title: formatMessage(messages.not_found),\n            avatar: null,\n            readOnly: true,\n            writeOnly: true,\n            fetchingMessages: false,\n            messages: [],\n            onlineSubs: [],\n            typingIndicator: false,\n            imagePreview: null\n          });\n        });\n      }\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(oldTopicName) {\n      var _this3 = this;\n\n      if (!oldTopicName) {\n        return;\n      }\n\n      var oldTopic = this.props.tinode.getTopic(oldTopicName);\n\n      if (oldTopic && oldTopic.isSubscribed()) {\n        oldTopic.leave(false).catch(function () {}).finally(function () {\n          _this3.setState({\n            fetchingMessages: false\n          });\n\n          oldTopic.onData = undefined;\n          oldTopic.onAllMessagesReceived = undefined;\n          oldTopic.onInfo = undefined;\n          oldTopic.onMetaDesc = undefined;\n          oldTopic.onSubsUpdated = undefined;\n          oldTopic.onPres = undefined;\n        });\n      }\n    }\n  }, {\n    key: \"handleScrollReference\",\n    value: function handleScrollReference(node) {\n      if (node) {\n        node.addEventListener('scroll', this.fetchMoreMessages);\n        this.messagesScroller = node;\n      }\n    }\n  }, {\n    key: \"fetchMoreMessages\",\n    value: function fetchMoreMessages(event) {\n      var _this4 = this;\n\n      if (event.target.scrollTop <= 0) {\n        var newState = {\n          scrollPosition: event.target.scrollHeight - event.target.scrollTop\n        };\n        this.setState(function (prevState, props) {\n          if (!prevState.fetchingMessages) {\n            var topic = _this4.props.tinode.getTopic(_this4.state.topic);\n\n            if (topic && topic.isSubscribed() && topic.msgHasMoreMessages()) {\n              newState.fetchingMessages = true;\n              topic.getMessagesPage(_config_js__WEBPACK_IMPORTED_MODULE_11__[\"MESSAGES_PAGE\"]).catch(function (err) {\n                _this4.setState({\n                  fetchingMessages: false\n                });\n\n                _this4.props.onError(err.message, 'err');\n              });\n            }\n          }\n\n          return newState;\n        });\n      }\n    }\n  }, {\n    key: \"handleDescChange\",\n    value: function handleDescChange(desc) {\n      if (desc.public) {\n        this.setState({\n          title: desc.public.fn,\n          avatar: Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_12__[\"makeImageUrl\"])(desc.public.photo)\n        });\n      } else {\n        this.setState({\n          title: '',\n          avatar: null\n        });\n      }\n\n      if (desc.acs) {\n        this.setState({\n          readOnly: !desc.acs.isWriter(),\n          writeOnly: !desc.acs.isReader()\n        });\n      }\n    }\n  }, {\n    key: \"handleSubsUpdated\",\n    value: function handleSubsUpdated() {\n      var _this5 = this;\n\n      if (this.state.topic) {\n        var subs = [];\n        var topic = this.props.tinode.getTopic(this.state.topic);\n        topic.subscribers(function (sub) {\n          if (sub.online && sub.user != _this5.props.myUserId) {\n            subs.push(sub);\n          }\n        });\n        this.setState({\n          onlineSubs: subs\n        });\n      }\n    }\n  }, {\n    key: \"handleNewMessage\",\n    value: function handleNewMessage(msg) {\n      var topic = this.props.tinode.getTopic(this.state.topic);\n      var newState = {\n        messages: []\n      };\n      topic.messages(function (m) {\n        if (!m.deleted) {\n          newState.messages = newState.messages.concat(m);\n        }\n      });\n\n      if (msg && !msg.deleted) {\n        if (topic.isNewMessage(msg.seq)) {\n          newState.scrollPosition = 0;\n        }\n\n        var status = topic.msgStatus(msg);\n\n        if (status >= tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.MESSAGE_STATUS_SENT) {\n          this.props.readTimerHandler(function () {\n            topic.noteRead(msg.seq);\n          });\n        }\n\n        this.props.onData(msg);\n      }\n\n      this.setState(newState);\n    }\n  }, {\n    key: \"handleAllMessagesReceived\",\n    value: function handleAllMessagesReceived(count) {\n      this.setState({\n        fetchingMessages: false\n      });\n    }\n  }, {\n    key: \"handleInfoReceipt\",\n    value: function handleInfoReceipt(info) {\n      switch (info.what) {\n        case 'kp':\n          {\n            clearTimeout(this.keyPressTimer);\n            var instance = this;\n            this.keyPressTimer = setTimeout(function () {\n              instance.setState({\n                typingIndicator: false\n              });\n            }, _config_js__WEBPACK_IMPORTED_MODULE_11__[\"KEYPRESS_DELAY\"] + 1000);\n\n            if (!this.state.typingIndicator) {\n              this.setState({\n                typingIndicator: true\n              });\n            }\n\n            break;\n          }\n\n        case 'read':\n        case 'recv':\n          this.forceUpdate();\n          break;\n\n        default:\n          console.log(\"Other change in topic: \", info.what);\n      }\n    }\n  }, {\n    key: \"handleImagePreview\",\n    value: function handleImagePreview(content) {\n      this.setState({\n        imagePreview: content\n      });\n    }\n  }, {\n    key: \"handleCloseImagePreview\",\n    value: function handleCloseImagePreview() {\n      this.setState({\n        imagePreview: null\n      });\n    }\n  }, {\n    key: \"handleContextClick\",\n    value: function handleContextClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.showContextMenu({\n        topicName: this.state.topic,\n        y: e.pageY,\n        x: e.pageX\n      });\n    }\n  }, {\n    key: \"handleShowContextMenuMessage\",\n    value: function handleShowContextMenuMessage(params) {\n      params.topicName = this.state.topic;\n      var menuItems = ['message_delete'];\n      var topic = this.props.tinode.getTopic(params.topicName);\n\n      if (topic) {\n        var acs = topic.getAccessMode();\n\n        if (acs && acs.isDeleter()) {\n          menuItems.push('message_delete_hard');\n        }\n      }\n\n      this.props.showContextMenu(params, menuItems);\n    }\n  }, {\n    key: \"handleBackNavigation\",\n    value: function handleBackNavigation() {\n      this.props.onHideMessagesView();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      var component;\n\n      if (this.state.topic) {\n        var messageNodes = [];\n        var topic = this.props.tinode.getTopic(this.state.topic);\n        var groupTopic = topic.getType() == 'grp';\n        var previousFrom = null;\n        var chatBoxClass = null;\n\n        for (var i = 0; i < this.state.messages.length; i++) {\n          var msg = this.state.messages[i];\n          var nextFrom = null;\n\n          if (i + 1 < this.state.messages.length) {\n            nextFrom = this.state.messages[i + 1].from;\n          }\n\n          var sequence = 'single';\n\n          if (msg.from == previousFrom) {\n            if (msg.from == nextFrom) {\n              sequence = 'middle';\n            } else {\n              sequence = 'last';\n            }\n          } else if (msg.from == nextFrom) {\n            sequence = 'first';\n          }\n\n          previousFrom = msg.from;\n          var isReply = !(msg.from == this.props.myUserId);\n          var deliveryStatus = topic.msgStatus(msg);\n          var userName = void 0,\n              userAvatar = void 0,\n              userFrom = void 0;\n\n          if (groupTopic) {\n            var user = topic.userDesc(msg.from);\n\n            if (user && user.public) {\n              userName = user.public.fn;\n              userAvatar = Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_12__[\"makeImageUrl\"])(user.public.photo);\n            }\n\n            userFrom = msg.from;\n            chatBoxClass = 'chat-box group';\n          } else {\n            chatBoxClass = 'chat-box';\n          }\n\n          messageNodes.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_chat_message_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            tinode: this.props.tinode,\n            content: msg.content,\n            mimeType: msg.head ? msg.head.mime : null,\n            timestamp: msg.ts,\n            response: isReply,\n            seq: msg.seq,\n            userFrom: userFrom,\n            userName: userName,\n            userAvatar: userAvatar,\n            sequence: sequence,\n            received: deliveryStatus,\n            uploader: msg._uploader,\n            viewportWidth: this.props.viewportWidth,\n            showContextMenu: this.handleShowContextMenuMessage,\n            onImagePreview: this.handleImagePreview,\n            onError: this.props.onError,\n            key: msg.seq\n          }));\n        }\n\n        var lastSeen = null;\n        var cont = this.props.tinode.getMeTopic().getContact(this.state.topic);\n\n        if (cont && tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.topicType(cont.topic) == 'p2p') {\n          if (cont.online) {\n            lastSeen = formatMessage(messages.online_now);\n          } else if (cont.seen) {\n            lastSeen = formatMessage(messages.last_seen) + \": \" + Object(_lib_strformat_js__WEBPACK_IMPORTED_MODULE_13__[\"shortDateFormat\"])(cont.seen.when);\n          }\n        }\n\n        var avatar = this.state.avatar || true;\n        var online = this.props.online ? 'online' + (this.state.typingIndicator ? ' typing' : '') : 'offline';\n        component = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"topic-view\",\n          className: this.props.hideSelf ? 'nodisplay' : null\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"topic-caption-panel\",\n          className: \"caption-panel\"\n        }, this.props.displayMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n          href: \"javascript:;\",\n          id: \"hide-message-view\",\n          onClick: this.handleBackNavigation\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"material-icons\"\n        }, \"arrow_back\")) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"avatar-box\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_letter_tile_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n          avatar: avatar,\n          topic: this.state.topic,\n          title: this.state.title\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n          className: online\n        })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"topic-title-group\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"topic-title\",\n          className: \"panel-title\"\n        }, this.state.title || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n          id: \"unnamed_topic\",\n          defaultMessage: \"Unnamed\"\n        }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"topic-last-seen\"\n        }, lastSeen)), groupTopic ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_group_subs_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          subscribers: this.state.onlineSubs\n        }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"topic-users\"\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n          href: \"javascript:;\",\n          onClick: this.handleContextClick\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"material-icons\"\n        }, \"more_vert\")))), this.props.displayMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_error_panel_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          level: this.props.errorLevel,\n          text: this.props.errorText,\n          onClearError: this.props.onError\n        }) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_load_spinner_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n          show: this.state.fetchingMessages\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"messages-container\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"messages-panel\",\n          ref: this.handleScrollReference\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n          id: \"scroller\",\n          className: chatBoxClass\n        }, messageNodes)), this.state.writeOnly ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"write-only-background\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          id: \"write-only-note\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n          id: \"messages_not_readable\",\n          defaultMessage: \"no access to messages\"\n        }))) : null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_send_message_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n          tinode: this.props.tinode,\n          topic: this.props.topic,\n          disabled: this.state.readOnly,\n          sendMessage: this.props.sendMessage,\n          onError: this.props.onError\n        }), this.state.imagePreview ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_image_preview_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n          content: this.state.imagePreview,\n          onClose: this.handleCloseImagePreview\n        }) : null);\n      } else {\n        component = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_logo_view_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n          hideSelf: this.props.hideSelf,\n          serverVersion: this.props.serverVersion,\n          serverAddress: this.props.serverAddress\n        });\n      }\n\n      return component;\n    }\n  }]);\n\n  return MessagesView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(MessagesView));\n\n//# sourceURL=webpack:///./src/views/messages-view.jsx?");

/***/ }),

/***/ "./src/views/new-topic-view.jsx":
/*!**************************************!*\
  !*** ./src/views/new-topic-view.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NewTopicView; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widgets_contact_list_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets/contact-list.jsx */ \"./src/widgets/contact-list.jsx\");\n/* harmony import */ var _widgets_new_topic_by_id_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../widgets/new-topic-by-id.jsx */ \"./src/widgets/new-topic-by-id.jsx\");\n/* harmony import */ var _widgets_new_topic_group_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../widgets/new-topic-group.jsx */ \"./src/widgets/new-topic-group.jsx\");\n/* harmony import */ var _widgets_search_contacts_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../widgets/search-contacts.jsx */ \"./src/widgets/search-contacts.jsx\");\n/* harmony import */ var _lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/navigation.js */ \"./src/lib/navigation.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\nvar NewTopicView = function (_React$Component) {\n  _inherits(NewTopicView, _React$Component);\n\n  function NewTopicView(props) {\n    var _this;\n\n    _classCallCheck(this, NewTopicView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewTopicView).call(this, props));\n    _this.state = {\n      tabSelected: 'p2p',\n      contactList: props.searchResults\n    };\n    _this.handleTabClick = _this.handleTabClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleContactSelected = _this.handleContactSelected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNewGroupSubmit = _this.handleNewGroupSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleGroupByID = _this.handleGroupByID.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(NewTopicView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onInitFind();\n    }\n  }, {\n    key: \"handleTabClick\",\n    value: function handleTabClick(e) {\n      e.preventDefault();\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].addUrlParam(window.location.hash, 'tab', e.currentTarget.dataset.id));\n      this.setState({\n        tabSelected: e.currentTarget.dataset.id\n      });\n    }\n  }, {\n    key: \"handleContactSelected\",\n    value: function handleContactSelected(sel) {\n      if (this.state.tabSelected === 'p2p') {\n        _lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].removeUrlParam(window.location.hash, 'tab'));\n        this.props.onCreateTopic(sel, undefined);\n      }\n    }\n  }, {\n    key: \"handleNewGroupSubmit\",\n    value: function handleNewGroupSubmit(name, dataUrl, priv, tags) {\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].removeUrlParam(window.location.hash, 'tab'));\n      this.props.onCreateTopic(undefined, vcard(name, dataUrl), priv, tags);\n    }\n  }, {\n    key: \"handleGroupByID\",\n    value: function handleGroupByID(topicName) {\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].removeUrlParam(window.location.hash, 'tab'));\n      this.props.onCreateTopic(topicName);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"flex-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n        className: \"tabbar\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n        className: this.state.tabSelected === \"p2p\" ? \"active\" : null\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        \"data-id\": \"p2p\",\n        onClick: this.handleTabClick\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"tabtitle_find_user\",\n        defaultMessage: \"find\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n        className: this.state.tabSelected === \"grp\" ? \"active\" : null\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        \"data-id\": \"grp\",\n        onClick: this.handleTabClick\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"tabtitle_new_group\",\n        defaultMessage: \"new group\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n        className: this.state.tabSelected === \"byid\" ? \"active\" : null\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        \"data-id\": \"byid\",\n        onClick: this.handleTabClick\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"tabtitle_group_by_id\",\n        defaultMessage: \"by id\"\n      })))), this.state.tabSelected === 'grp' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_new_topic_group_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        onSubmit: this.handleNewGroupSubmit\n      }) : this.state.tabSelected === 'byid' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_new_topic_by_id_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        onSubmit: this.handleGroupByID,\n        onError: this.props.onError\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"flex-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_search_contacts_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        type: \"p2p\",\n        onSearchContacts: this.props.onSearchContacts\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"search_for_contacts\",\n        defaultMessage: \"Use search to find contacts\"\n      }, function (search_for_contacts) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_contact_list_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n          contacts: _this2.state.contactList,\n          myUserId: _this2.props.myUserId,\n          emptyListMessage: search_for_contacts,\n          topicSelected: _this2.state.selectedContact,\n          showOnline: false,\n          showUnread: false,\n          showContextMenu: false,\n          onTopicSelected: _this2.handleContactSelected\n        });\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      return {\n        contactList: nextProps.searchResults\n      };\n    }\n  }]);\n\n  return NewTopicView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/views/new-topic-view.jsx?");

/***/ }),

/***/ "./src/views/password-reset-view.jsx":
/*!*******************************************!*\
  !*** ./src/views/password-reset-view.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PasswordResetView; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widgets_visible_password_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets/visible-password.jsx */ \"./src/widgets/visible-password.jsx\");\n/* harmony import */ var _lib_navigation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/navigation.js */ \"./src/lib/navigation.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\nvar PasswordResetView = function (_React$PureComponent) {\n  _inherits(PasswordResetView, _React$PureComponent);\n\n  function PasswordResetView(props) {\n    var _this;\n\n    _classCallCheck(this, PasswordResetView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PasswordResetView).call(this, props));\n    _this.state = {\n      email: '',\n      password: ''\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEmailChange = _this.handleEmailChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PasswordResetView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var parsed = _lib_navigation_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].parseUrlHash(window.location.hash);\n      this.setState({\n        token: parsed.params.token,\n        scheme: parsed.params.scheme\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n\n      if (this.state.token) {\n        this.props.onReset(this.state.scheme, this.state.password.trim(), this.state.token);\n      } else {\n        this.props.onRequest('email', this.state.email.trim());\n      }\n    }\n  }, {\n    key: \"handleEmailChange\",\n    value: function handleEmailChange(e) {\n      this.setState({\n        email: e.target.value\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(e) {\n      this.setState({\n        password: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var reset = this.state.token && this.state.scheme;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n        id: \"password-reset-form\",\n        onSubmit: this.handleSubmit\n      }, reset ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"new_password_placeholder\",\n        defaultMessage: \"Enter new password\"\n      }, function (placeholder) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_visible_password_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n          placeholder: placeholder,\n          autoComplete: \"new-password\",\n          value: _this2.state.password,\n          required: true,\n          autoFocus: true,\n          onChange: _this2.handlePasswordChange\n        });\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        htmlFor: \"inputEmail\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_reset_password\",\n        defaultMessage: \"Send a password reset email:\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"credential_email_prompt\",\n        defaultMessage: \"Your registration email\"\n      }, function (placeholder) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"email\",\n          id: \"inputEmail\",\n          placeholder: placeholder,\n          autoComplete: \"email\",\n          value: _this2.state.email,\n          onChange: _this2.handleEmailChange,\n          required: true,\n          autoFocus: true\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dialog-buttons\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"blue\",\n        type: \"submit\"\n      }, reset ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_reset\",\n        defaultMessage: \"Reset\"\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_send_request\",\n        defaultMessage: \"Send request\"\n      }))));\n    }\n  }]);\n\n  return PasswordResetView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/views/password-reset-view.jsx?");

/***/ }),

/***/ "./src/views/settings-view.jsx":
/*!*************************************!*\
  !*** ./src/views/settings-view.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SettingsView; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widgets_host_selector_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets/host-selector.jsx */ \"./src/widgets/host-selector.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\nvar SettingsView = function (_React$PureComponent) {\n  _inherits(SettingsView, _React$PureComponent);\n\n  function SettingsView(props) {\n    var _this;\n\n    _classCallCheck(this, SettingsView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SettingsView).call(this, props));\n    _this.state = {\n      transport: props.transport || 'def',\n      serverAddress: props.serverAddress\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTransportSelected = _this.handleTransportSelected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleServerAddressChange = _this.handleServerAddressChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SettingsView, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      this.props.onUpdate({\n        transport: this.state.transport,\n        serverAddress: this.state.serverAddress\n      });\n    }\n  }, {\n    key: \"handleTransportSelected\",\n    value: function handleTransportSelected(e) {\n      this.setState({\n        transport: e.currentTarget.value\n      });\n    }\n  }, {\n    key: \"handleServerAddressChange\",\n    value: function handleServerAddressChange(name) {\n      this.setState({\n        serverAddress: name\n      });\n      this.props.onServerAddressChange(name);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var names = {\n        def: \"default\",\n        ws: \"websocket\",\n        lp: \"long polling\"\n      };\n      var transportOptions = [];\n      var instance = this;\n      ['def', 'ws', 'lp'].map(function (item) {\n        var id = 'transport-' + item;\n        var name = names[item];\n        transportOptions.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n          key: item\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"radio\",\n          id: id,\n          name: \"transport-select\",\n          value: item,\n          checked: instance.state.transport === item,\n          onChange: instance.handleTransportSelected\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n          htmlFor: id\n        }, name)));\n      });\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n        id: \"settings-form\",\n        className: \"panel-form\",\n        onSubmit: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_server_to_use\",\n        defaultMessage: \"Server to use:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_host_selector_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        serverAddress: this.state.serverAddress,\n        onServerAddressChange: this.handleServerAddressChange\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_wire_transport\",\n        defaultMessage: \"Wire transport:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n        className: \"quoted\"\n      }, transportOptions)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dialog-buttons\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        type: \"submit\",\n        className: \"blue\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_update\",\n        defaultMessage: \"Update\"\n      }))));\n    }\n  }]);\n\n  return SettingsView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/views/settings-view.jsx?");

/***/ }),

/***/ "./src/views/sidepanel-view.jsx":
/*!**************************************!*\
  !*** ./src/views/sidepanel-view.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widgets_side_navbar_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../widgets/side-navbar.jsx */ \"./src/widgets/side-navbar.jsx\");\n/* harmony import */ var _widgets_error_panel_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../widgets/error-panel.jsx */ \"./src/widgets/error-panel.jsx\");\n/* harmony import */ var _contacts_view_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contacts-view.jsx */ \"./src/views/contacts-view.jsx\");\n/* harmony import */ var _create_account_view_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./create-account-view.jsx */ \"./src/views/create-account-view.jsx\");\n/* harmony import */ var _edit_account_view_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./edit-account-view.jsx */ \"./src/views/edit-account-view.jsx\");\n/* harmony import */ var _login_view_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./login-view.jsx */ \"./src/views/login-view.jsx\");\n/* harmony import */ var _new_topic_view_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./new-topic-view.jsx */ \"./src/views/new-topic-view.jsx\");\n/* harmony import */ var _password_reset_view_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./password-reset-view.jsx */ \"./src/views/password-reset-view.jsx\");\n/* harmony import */ var _settings_view_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./settings-view.jsx */ \"./src/views/settings-view.jsx\");\n/* harmony import */ var _validation_view_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./validation-view.jsx */ \"./src/views/validation-view.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  'login': {\n    \"id\": \"sidepanel_title_login\",\n    \"defaultMessage\": \"Sign In\"\n  },\n  'register': {\n    \"id\": \"sidepanel_title_register\",\n    \"defaultMessage\": \"Create Account\"\n  },\n  'settings': {\n    \"id\": \"sidepanel_title_settings\",\n    \"defaultMessage\": \"Settings\"\n  },\n  'edit': {\n    \"id\": \"sidepanel_title_edit_account\",\n    \"defaultMessage\": \"Edit Account\"\n  },\n  'newtpk': {\n    \"id\": \"sidepanel_title_newtpk\",\n    \"defaultMessage\": \"Start New Chat\"\n  },\n  'cred': {\n    \"id\": \"sidepanel_title_cred\",\n    \"defaultMessage\": \"Confirm Credentials\"\n  },\n  'reset': {\n    \"id\": \"sidepanel_title_reset\",\n    \"defaultMessage\": \"Reset Password\"\n  }\n});\n\nvar SidepanelView = function (_React$Component) {\n  _inherits(SidepanelView, _React$Component);\n\n  function SidepanelView(props) {\n    var _this;\n\n    _classCallCheck(this, SidepanelView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SidepanelView).call(this, props));\n    _this.handleLoginRequested = _this.handleLoginRequested.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SidepanelView, [{\n    key: \"handleLoginRequested\",\n    value: function handleLoginRequested(login, password) {\n      this.props.onLoginRequest(login, password);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      var view = this.props.state || (this.props.myUserId ? 'contacts' : 'login');\n      var title, avatar;\n\n      if (view == 'contacts') {\n        title = this.props.title;\n        avatar = this.props.avatar ? this.props.avatar : true;\n      } else {\n        title = formatMessage(messages[view]);\n        avatar = false;\n      }\n\n      var onCancel;\n\n      if (view != 'login') {\n        onCancel = this.props.onCancel;\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"sidepanel\",\n        className: this.props.hideSelf ? 'nodisplay' : null\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_side_navbar_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        state: view,\n        title: title,\n        avatar: avatar,\n        myUserId: this.props.myUserId,\n        onSignUp: this.props.onSignUp,\n        onSettings: this.props.onSettings,\n        onNewTopic: this.props.onNewTopic,\n        onCancel: onCancel\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_error_panel_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        level: this.props.errorLevel,\n        text: this.props.errorText,\n        onClearError: this.props.onError\n      }), view === 'login' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_login_view_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n        login: this.props.login,\n        disabled: this.props.loginDisabled,\n        onLogin: this.handleLoginRequested\n      }) : view === 'register' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_create_account_view_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        onCreateAccount: this.props.onCreateAccount,\n        onCancel: this.props.onCancel,\n        onError: this.props.onError\n      }) : view === 'settings' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_settings_view_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n        transport: this.props.transport,\n        serverAddress: this.props.serverAddress,\n        onServerAddressChange: this.props.onGlobalSettings,\n        onCancel: this.props.onCancel,\n        onUpdate: this.props.onGlobalSettings\n      }) : view === 'edit' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_edit_account_view_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        tinode: this.props.tinode,\n        myUserId: this.props.myUserId,\n        messageSounds: this.props.messageSounds,\n        desktopAlerts: this.props.desktopAlerts,\n        desktopAlertsEnabled: this.props.desktopAlertsEnabled,\n        onUpdateAccount: this.props.onUpdateAccount,\n        onUpdateTags: this.props.onUpdateAccountTags,\n        onTogglePushNotifications: this.props.onTogglePushNotifications,\n        onToggleMessageSounds: this.props.onToggleMessageSounds,\n        onLogout: this.props.onLogout,\n        onCancel: this.props.onCancel,\n        onError: this.props.onError\n      }) : view === 'contacts' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contacts_view_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        tinode: this.props.tinode,\n        myUserId: this.props.myUserId,\n        connected: this.props.connected,\n        topicSelected: this.props.topicSelected,\n        chatList: this.props.chatList,\n        showContextMenu: this.props.showContextMenu,\n        onTopicSelected: this.props.onTopicSelected\n      }) : view === 'newtpk' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_new_topic_view_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        searchResults: this.props.searchResults,\n        onInitFind: this.props.onInitFind,\n        onSearchContacts: this.props.onSearchContacts,\n        onCreateTopic: this.props.onCreateTopic,\n        onError: this.props.onError\n      }) : view === 'cred' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_validation_view_jsx__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        credCode: this.props.credCode,\n        credMethod: this.props.credMethod,\n        onSubmit: this.props.onValidateCredentials,\n        onCancel: this.props.onCancel,\n        onError: this.props.onError\n      }) : view === 'reset' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_password_reset_view_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        onRequest: this.props.onPasswordResetRequest,\n        onReset: this.props.onResetPassword\n      }) : null);\n    }\n  }]);\n\n  return SidepanelView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(SidepanelView));\n\n//# sourceURL=webpack:///./src/views/sidepanel-view.jsx?");

/***/ }),

/***/ "./src/views/tinode-web.jsx":
/*!**********************************!*\
  !*** ./src/views/tinode-web.jsx ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var firebase_messaging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/messaging */ \"firebase/messaging\");\n/* harmony import */ var firebase_messaging__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(firebase_messaging__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _widgets_context_menu_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../widgets/context-menu.jsx */ \"./src/widgets/context-menu.jsx\");\n/* harmony import */ var _info_view_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./info-view.jsx */ \"./src/views/info-view.jsx\");\n/* harmony import */ var _messages_view_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./messages-view.jsx */ \"./src/views/messages-view.jsx\");\n/* harmony import */ var _sidepanel_view_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sidepanel-view.jsx */ \"./src/views/sidepanel-view.jsx\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\n/* harmony import */ var _lib_host_name_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/host-name.js */ \"./src/lib/host-name.js\");\n/* harmony import */ var _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/local-storage.js */ \"./src/lib/local-storage.js\");\n/* harmony import */ var _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/navigation.js */ \"./src/lib/navigation.js\");\n/* harmony import */ var _lib_utils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../lib/utils.js */ \"./src/lib/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar POP_SOUND = new Audio('audio/msg.mp3');\n\nvar TinodeWeb = function (_React$Component) {\n  _inherits(TinodeWeb, _React$Component);\n\n  function TinodeWeb(props) {\n    var _this;\n\n    _classCallCheck(this, TinodeWeb);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TinodeWeb).call(this, props));\n    _this.state = _this.getBlankState();\n    _this.handleResize = _this.handleResize.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHashRoute = _this.handleHashRoute.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOnline = _this.handleOnline.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAppVisibility = _this.handleAppVisibility.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleReadTimer = _this.handleReadTimer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleVisibilityEvent = _this.handleVisibilityEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleError = _this.handleError.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLoginRequest = _this.handleLoginRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleConnected = _this.handleConnected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.doLogin = _this.doLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCredentialsRequest = _this.handleCredentialsRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLoginSuccessful = _this.handleLoginSuccessful.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDisconnect = _this.handleDisconnect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.tnMeMetaDesc = _this.tnMeMetaDesc.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.tnMeContactUpdate = _this.tnMeContactUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.tnMeSubsUpdated = _this.tnMeSubsUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.resetContactList = _this.resetContactList.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.tnData = _this.tnData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.tnInitFind = _this.tnInitFind.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.tnFndSubsUpdated = _this.tnFndSubsUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSearchContacts = _this.handleSearchContacts.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTopicSelected = _this.handleTopicSelected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHideMessagesView = _this.handleHideMessagesView.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSendMessage = _this.handleSendMessage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNewAccount = _this.handleNewAccount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNewAccountRequest = _this.handleNewAccountRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUpdateAccountRequest = _this.handleUpdateAccountRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUpdateAccountTagsRequest = _this.handleUpdateAccountTagsRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSettings = _this.handleSettings.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleGlobalSettings = _this.handleGlobalSettings.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleToggleMessageSounds = _this.handleToggleMessageSounds.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.initDesktopAlerts = _this.initDesktopAlerts.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.togglePushToken = _this.togglePushToken.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.requestPushToken = _this.requestPushToken.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSidepanelCancel = _this.handleSidepanelCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNewTopic = _this.handleNewTopic.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNewTopicRequest = _this.handleNewTopicRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNewTopicCreated = _this.handleNewTopicCreated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTopicUpdateRequest = _this.handleTopicUpdateRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChangePermissions = _this.handleChangePermissions.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTagsUpdated = _this.handleTagsUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLogout = _this.handleLogout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLeaveUnsubRequest = _this.handleLeaveUnsubRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDialogCancel = _this.handleDialogCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShowContextMenu = _this.handleShowContextMenu.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.defaultTopicContextMenu = _this.defaultTopicContextMenu.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHideContextMenu = _this.handleHideContextMenu.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShowInfoView = _this.handleShowInfoView.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHideInfoView = _this.handleHideInfoView.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMemberUpdateRequest = _this.handleMemberUpdateRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleValidateCredentialsRequest = _this.handleValidateCredentialsRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordResetRequest = _this.handlePasswordResetRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleResetPassword = _this.handleResetPassword.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(TinodeWeb, [{\n    key: \"getBlankState\",\n    value: function getBlankState() {\n      var _ref;\n\n      var settings = _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].getObject(\"settings\") || {};\n      return _ref = {\n        connected: false,\n        transport: settings.transport || null,\n        serverAddress: settings.serverAddress || Object(_lib_host_name_js__WEBPACK_IMPORTED_MODULE_12__[\"detectServerAddress\"])(),\n        serverVersion: \"no connection\",\n        messageSounds: !settings.messageSoundsOff,\n        desktopAlerts: settings.desktopAlerts,\n        desktopAlertsEnabled: (Object(_lib_host_name_js__WEBPACK_IMPORTED_MODULE_12__[\"isSecureConnection\"])() || Object(_lib_host_name_js__WEBPACK_IMPORTED_MODULE_12__[\"isLocalHost\"])()) && typeof firebase_app__WEBPACK_IMPORTED_MODULE_3__ != 'undefined' && typeof navigator != 'undefined' && typeof FIREBASE_INIT != 'undefined',\n        firebaseToken: _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].getObject(\"firebase-token\"),\n        errorText: '',\n        errorLevel: null,\n        sidePanelSelected: 'login',\n        sidePanelTitle: null,\n        sidePanelAvatar: null,\n        dialogSelected: null,\n        contextMenuVisible: false,\n        login: '',\n        password: '',\n        myUserId: null,\n        liveConnection: navigator.onLine,\n        topicSelected: '',\n        topicSelectedOnline: false,\n        topicSelectedAcs: null,\n        newGroupTopicParams: null,\n        loginDisabled: false,\n        displayMobile: window.innerWidth <= _config_js__WEBPACK_IMPORTED_MODULE_10__[\"MEDIA_BREAKPOINT\"],\n        showInfoPanel: false,\n        mobilePanel: 'sidepanel'\n      }, _defineProperty(_ref, \"contextMenuVisible\", false), _defineProperty(_ref, \"contextMenuBounds\", null), _defineProperty(_ref, \"contextMenuClickAt\", null), _defineProperty(_ref, \"contextMenuParams\", null), _defineProperty(_ref, \"contextMenuItems\", []), _defineProperty(_ref, \"chatList\", []), _defineProperty(_ref, \"searchResults\", []), _defineProperty(_ref, \"searchableContacts\", []), _defineProperty(_ref, \"credMethod\", undefined), _defineProperty(_ref, \"credCode\", undefined), _ref;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener('resize', this.handleResize);\n      window.addEventListener('online', function (e) {\n        _this2.handleOnline(true);\n      });\n      window.addEventListener('offline', function (e) {\n        _this2.handleOnline(false);\n      });\n      window.addEventListener('hashchange', this.handleHashRoute);\n      document.addEventListener('visibilitychange', this.handleVisibilityEvent);\n      this.setState({\n        viewportWidth: document.documentElement.clientWidth\n      });\n      this.tinode = TinodeWeb.tnSetup(this.state.serverAddress, this.state.transport);\n      this.tinode.onConnect = this.handleConnected;\n      this.tinode.onDisconnect = this.handleDisconnect;\n\n      if (this.state.desktopAlertsEnabled) {\n        try {\n          this.fbPush = firebase_app__WEBPACK_IMPORTED_MODULE_3__[\"initializeApp\"](FIREBASE_INIT, _config_js__WEBPACK_IMPORTED_MODULE_10__[\"APP_NAME\"]).messaging();\n          this.fbPush.usePublicVapidKey(FIREBASE_INIT.messagingVapidKey);\n          navigator.serviceWorker.register('/service-worker.js').then(function (reg) {\n            _this2.fbPush.useServiceWorker(reg);\n\n            _this2.initDesktopAlerts();\n\n            if (_this2.state.desktopAlerts) {\n              if (!_this2.state.firebaseToken) {\n                _this2.togglePushToken(true);\n              } else {\n                _this2.tinode.setDeviceToken(_this2.state.firebaseToken);\n              }\n            }\n          }).catch(function (err) {\n            console.log(\"Failed to register service worker:\", err);\n          });\n        } catch (err) {\n          this.handleError(\"Failed to initialize push notifications\", 'err');\n          console.log(\"Failed to initialize push notifications\", err);\n          this.setState({\n            desktopAlertsEnabled: false\n          });\n        }\n      }\n\n      var token = _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].getObject('keep-logged-in') ? _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].getObject('auth-token') : undefined;\n      var parsedNav = _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].parseUrlHash(window.location.hash);\n\n      if (token) {\n        token.expires = new Date(token.expires);\n        this.tinode.setAuthToken(token);\n        this.tinode.connect().catch(function (err) {\n          _this2.handleError(err.message, 'err');\n        });\n        delete parsedNav.params.info;\n        delete parsedNav.params.tab;\n        parsedNav.path[0] = '';\n        _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].composeUrlHash(parsedNav.path, parsedNav.params));\n      } else if (!parsedNav.params.token) {\n        _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo('');\n      }\n\n      this.readTimer = null;\n      this.readTimerCallback = null;\n      this.handleHashRoute();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.handleResize);\n      window.removeEventListener('hashchange', this.handleHashRoute);\n      document.removeEventListener('visibilitychange', this.handleVisibilityEvent);\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      var mobile = document.documentElement.clientWidth <= _config_js__WEBPACK_IMPORTED_MODULE_10__[\"MEDIA_BREAKPOINT\"];\n      this.setState({\n        viewportWidth: document.documentElement.clientWidth\n      });\n\n      if (this.state.displayMobile != mobile) {\n        this.setState({\n          displayMobile: mobile\n        });\n      }\n    }\n  }, {\n    key: \"handleHashRoute\",\n    value: function handleHashRoute() {\n      var hash = _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].parseUrlHash(window.location.hash);\n\n      if (hash.path && hash.path.length > 0) {\n        if (['register', 'settings', 'edit', 'cred', 'reset', 'newtpk', 'contacts', ''].includes(hash.path[0])) {\n          this.setState({\n            sidePanelSelected: hash.path[0]\n          });\n        } else {\n          console.log(\"Unknown sidepanel view\", hash.path[0]);\n        }\n\n        if (hash.path.length > 1 && hash.path[1] != this.state.topicSelected) {\n          this.setState({\n            topicSelected: tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default.a.topicType(hash.path[1]) ? hash.path[1] : null\n          });\n        }\n      } else {\n        this.setState({\n          sidePanelSelected: ''\n        });\n      }\n\n      if (hash.params.method) {\n        this.setState({\n          credMethod: hash.params.method\n        });\n      }\n\n      if (hash.params.code) {\n        this.setState({\n          credCode: hash.params.code\n        });\n      }\n\n      this.setState({\n        showInfoPanel: hash.params.info,\n        newTopicTabSelected: hash.params.tab\n      });\n    }\n  }, {\n    key: \"handleOnline\",\n    value: function handleOnline(online) {\n      var newState = {\n        liveConnection: online\n      };\n\n      if (online) {\n        this.handleError('', null);\n      } else {\n        this.handleError(\"No connection\", 'warn');\n      }\n\n      this.setState({\n        liveConnection: online\n      });\n    }\n  }, {\n    key: \"handleAppVisibility\",\n    value: function handleAppVisibility(visible, callback) {\n      clearTimeout(this.readTimer);\n      this.readTimerCallback = callback;\n\n      if (visible && callback) {\n        this.readTimer = setTimeout(callback, _config_js__WEBPACK_IMPORTED_MODULE_10__[\"READ_DELAY\"]);\n      } else {\n        this.readTimer = null;\n      }\n    }\n  }, {\n    key: \"handleReadTimer\",\n    value: function handleReadTimer(callback) {\n      this.handleAppVisibility(!document.hidden, callback);\n    }\n  }, {\n    key: \"handleVisibilityEvent\",\n    value: function handleVisibilityEvent() {\n      this.handleAppVisibility(!document.hidden, this.readTimerCallback);\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(err, level) {\n      this.setState({\n        errorText: err,\n        errorLevel: level\n      });\n    }\n  }, {\n    key: \"handleLoginRequest\",\n    value: function handleLoginRequest(login, password) {\n      var _this3 = this;\n\n      this.setState({\n        loginDisabled: true,\n        login: login,\n        password: password\n      });\n      this.handleError('', null);\n\n      if (this.tinode.isConnected()) {\n        this.doLogin(login, password, {\n          meth: this.state.credMethod,\n          resp: this.state.credCode\n        });\n      } else {\n        this.tinode.connect().catch(function (err) {\n          _this3.setState({\n            loginDisabled: false\n          });\n\n          _this3.handleError(err.message, 'err');\n        });\n      }\n    }\n  }, {\n    key: \"handleConnected\",\n    value: function handleConnected() {\n      var params = this.tinode.getServerInfo();\n      this.setState({\n        serverVersion: params.ver + ' ' + (params.build ? params.build : 'none') + '; '\n      });\n      this.doLogin(this.state.login, this.state.password, {\n        meth: this.state.credMethod,\n        resp: this.state.credCode\n      });\n    }\n  }, {\n    key: \"doLogin\",\n    value: function doLogin(login, password, cred) {\n      var _this4 = this;\n\n      if (this.tinode.isAuthenticated()) {\n        _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo('');\n        return;\n      }\n\n      cred = tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default.a.credential(cred);\n      var promise = null;\n      var token = this.tinode.getAuthToken();\n\n      if (login && password) {\n        this.setState({\n          password: null\n        });\n        promise = this.tinode.loginBasic(login, password, cred);\n      } else if (token) {\n        promise = this.tinode.loginToken(token.token, cred);\n      }\n\n      if (promise) {\n        promise.then(function (ctrl) {\n          if (ctrl.code >= 300 && ctrl.text === 'validate credentials') {\n            if (cred) {\n              _this4.handleError(\"Code does not match\", 'warn');\n            }\n\n            _this4.handleCredentialsRequest(ctrl.params);\n          } else {\n            _this4.handleLoginSuccessful();\n          }\n        }).catch(function (err) {\n          _this4.setState({\n            loginDisabled: false,\n            credMethod: undefined,\n            credCode: undefined\n          });\n\n          _this4.handleError(err.message, 'err');\n\n          localStorage.removeItem('auth-token');\n          _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo('');\n        });\n      } else {\n        _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo('');\n        this.setState({\n          loginDisabled: false\n        });\n      }\n    }\n  }, {\n    key: \"handleCredentialsRequest\",\n    value: function handleCredentialsRequest(params) {\n      var parsed = _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].parseUrlHash(window.location.hash);\n      parsed.path[0] = 'cred';\n      parsed.params['method'] = params.cred[0];\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].composeUrlHash(parsed.path, parsed.params));\n    }\n  }, {\n    key: \"handleLoginSuccessful\",\n    value: function handleLoginSuccessful() {\n      var _this5 = this;\n\n      this.handleError('', null);\n\n      if (_lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].getObject('keep-logged-in')) {\n        _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].setObject('auth-token', this.tinode.getAuthToken());\n      }\n\n      var me = this.tinode.getMeTopic();\n      me.onMetaDesc = this.tnMeMetaDesc;\n      me.onContactUpdate = this.tnMeContactUpdate;\n      me.onSubsUpdated = this.tnMeSubsUpdated;\n      this.setState({\n        connected: true,\n        credMethod: undefined,\n        credCode: undefined,\n        myUserId: this.tinode.getCurrentUserID()\n      });\n      me.subscribe(me.startMetaQuery().withLaterSub().withDesc().build()).catch(function (err) {\n        localStorage.removeItem('auth-token');\n\n        _this5.handleError(err.message, 'err');\n\n        _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo('');\n      });\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlSidePanel(window.location.hash, 'contacts'));\n    }\n  }, {\n    key: \"handleDisconnect\",\n    value: function handleDisconnect(err) {\n      this.setState({\n        connected: false,\n        topicSelectedOnline: false,\n        dialogSelected: null,\n        errorText: err && err.message ? err.message : \"Disconnected\",\n        errorLevel: err && err.message ? 'err' : 'warn',\n        loginDisabled: false,\n        contextMenuVisible: false,\n        serverVersion: \"no connection\"\n      });\n    }\n  }, {\n    key: \"tnMeMetaDesc\",\n    value: function tnMeMetaDesc(desc) {\n      if (desc && desc.public) {\n        this.setState({\n          sidePanelTitle: desc.public.fn,\n          sidePanelAvatar: Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_11__[\"makeImageUrl\"])(desc.public.photo)\n        });\n      }\n    }\n  }, {\n    key: \"tnMeContactUpdate\",\n    value: function tnMeContactUpdate(what, cont) {\n      if (what == 'on' || what == 'off') {\n        this.resetContactList();\n\n        if (this.state.topicSelected == cont.topic) {\n          this.setState({\n            topicSelectedOnline: what == 'on'\n          });\n        }\n      } else if (what == 'read') {\n        this.resetContactList();\n      } else if (what == 'msg') {\n        if (this.state.topicSelected != cont.topic) {\n          if (this.state.messageSounds) {\n            POP_SOUND.play();\n          }\n\n          this.resetContactList();\n        } else if (document.hidden && this.state.messageSounds) {\n          POP_SOUND.play();\n        }\n      } else if (what == 'recv') {} else if (what == 'gone' || what == 'unsub') {\n        if (this.state.topicSelected == cont.topic) {\n          this.handleTopicSelected(null);\n        }\n\n        this.resetContactList();\n      } else if (what == 'acs') {\n        if (this.state.topicSelected == cont.topic) {\n          this.setState({\n            topicSelectedAcs: cont.acs\n          });\n        }\n      } else if (what == 'del') {} else {\n        console.log(\"Unsupported (yet) presence update:\" + what + \" in: \" + cont.topic);\n      }\n    }\n  }, {\n    key: \"tnMeSubsUpdated\",\n    value: function tnMeSubsUpdated(unused) {\n      this.resetContactList();\n    }\n  }, {\n    key: \"resetContactList\",\n    value: function resetContactList() {\n      var _this6 = this;\n\n      var newState = {\n        chatList: []\n      };\n      this.tinode.getMeTopic().contacts(function (c) {\n        newState.chatList.push(c);\n\n        if (_this6.state.topicSelected == c.topic) {\n          newState.topicSelectedOnline = c.online;\n          newState.topicSelectedAcs = c.acs;\n        }\n      });\n      newState.searchableContacts = TinodeWeb.prepareSearchableContacts(newState.chatList, this.state.searchResults);\n      this.setState(newState);\n    }\n  }, {\n    key: \"tnData\",\n    value: function tnData(data) {\n      var _this7 = this;\n\n      var topic = this.tinode.getTopic(data.topic);\n\n      if (topic.msgStatus(data) >= tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default.a.MESSAGE_STATUS_SENT) {\n        clearTimeout(this.receivedTimer);\n        this.receivedTimer = setTimeout(function () {\n          _this7.receivedTimer = undefined;\n          topic.noteRecv(data.seq);\n        }, _config_js__WEBPACK_IMPORTED_MODULE_10__[\"RECEIVED_DELAY\"]);\n      }\n    }\n  }, {\n    key: \"tnInitFind\",\n    value: function tnInitFind() {\n      var _this8 = this;\n\n      var fnd = this.tinode.getFndTopic();\n\n      if (fnd.isSubscribed()) {\n        this.tnFndSubsUpdated();\n      } else {\n        fnd.onSubsUpdated = this.tnFndSubsUpdated;\n        fnd.subscribe(fnd.startMetaQuery().withSub().withTags().build()).catch(function (err) {\n          _this8.handleError(err.message, 'err');\n        });\n      }\n    }\n  }, {\n    key: \"tnFndSubsUpdated\",\n    value: function tnFndSubsUpdated() {\n      var foundContacts = [];\n      this.tinode.getFndTopic().contacts(function (s) {\n        foundContacts.push(s);\n      });\n      this.setState({\n        searchResults: foundContacts,\n        searchableContacts: TinodeWeb.prepareSearchableContacts(this.state.chatList, foundContacts)\n      });\n    }\n  }, {\n    key: \"handleSearchContacts\",\n    value: function handleSearchContacts(query) {\n      var _this9 = this;\n\n      var fnd = this.tinode.getFndTopic();\n      fnd.setMeta({\n        desc: {\n          public: query\n        }\n      }).then(function (ctrl) {\n        return fnd.getMeta(fnd.startMetaQuery().withSub().build());\n      }).catch(function (err) {\n        _this9.handleError(err.message, 'err');\n      });\n    }\n  }, {\n    key: \"handleTopicSelected\",\n    value: function handleTopicSelected(topicName, unused_index, online, acs) {\n      if (topicName) {\n        this.setState({\n          errorText: '',\n          errorLevel: null,\n          mobilePanel: 'topic-view',\n          showInfoPanel: false\n        });\n\n        if (this.state.topicSelected != topicName) {\n          this.setState({\n            topicSelectedOnline: online,\n            topicSelectedAcs: acs\n          });\n          _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlTopic('', topicName));\n        }\n      } else {\n        this.setState({\n          errorText: '',\n          errorLevel: null,\n          mobilePanel: 'sidepanel',\n          topicSelectedOnline: false,\n          topicSelectedAcs: null,\n          showInfoPanel: false\n        });\n\n        if (this.state.topicSelected) {\n          _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlTopic('', null));\n        }\n      }\n    }\n  }, {\n    key: \"handleHideMessagesView\",\n    value: function handleHideMessagesView() {\n      this.setState({\n        mobilePanel: 'sidepanel'\n      });\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlTopic(window.location.hash, null));\n    }\n  }, {\n    key: \"handleSendMessage\",\n    value: function handleSendMessage(msg, promise, uploader) {\n      var _this10 = this;\n\n      var topic = this.tinode.getTopic(this.state.topicSelected);\n      msg = topic.createMessage(msg, false);\n      msg._uploader = uploader;\n\n      if (!topic.isSubscribed()) {\n        if (!promise) {\n          promise = Promise.resolve();\n        }\n\n        promise = promise.then(function () {\n          return topic.subscribe();\n        });\n      }\n\n      if (promise) {\n        promise = promise.catch(function (err) {\n          _this10.handleError(err.message, 'err');\n        });\n      }\n\n      topic.publishDraft(msg, promise).catch(function (err) {\n        _this10.handleError(err.message, 'err');\n      });\n    }\n  }, {\n    key: \"handleNewAccount\",\n    value: function handleNewAccount() {\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlSidePanel(window.location.hash, 'register'));\n    }\n  }, {\n    key: \"handleNewAccountRequest\",\n    value: function handleNewAccountRequest(login_, password_, public_, cred_, tags_) {\n      var _this11 = this;\n\n      this.tinode.connect(this.state.serverAddress).then(function () {\n        return _this11.tinode.createAccountBasic(login_, password_, {\n          public: public_,\n          tags: tags_,\n          cred: tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default.a.credential(cred_)\n        });\n      }).then(function (ctrl) {\n        if (ctrl.code >= 300 && ctrl.text == 'validate credentials') {\n          _this11.handleCredentialsRequest(ctrl.params);\n        } else {\n          _this11.handleLoginSuccessful(_this11);\n        }\n      }).catch(function (err) {\n        _this11.handleError(err.message, 'err');\n      });\n    }\n  }, {\n    key: \"handleUpdateAccountRequest\",\n    value: function handleUpdateAccountRequest(password, pub, defacs) {\n      var _this12 = this;\n\n      if (pub || defacs) {\n        this.tinode.getMeTopic().setMeta({\n          desc: {\n            public: pub,\n            defacs: defacs\n          }\n        }).catch(function (err) {\n          _this12.handleError(err.message, 'err');\n        });\n      }\n\n      if (password) {\n        this.tinode.updateAccountBasic(null, this.tinode.getCurrentLogin(), password).catch(function (err) {\n          _this12.handleError(err.message, 'err');\n        });\n      }\n    }\n  }, {\n    key: \"handleUpdateAccountTagsRequest\",\n    value: function handleUpdateAccountTagsRequest(tags) {\n      var _this13 = this;\n\n      this.tinode.getFndTopic().setMeta({\n        tags: tags\n      }).catch(function (err) {\n        _this13.handleError(err.message, 'err');\n      });\n    }\n  }, {\n    key: \"handleSettings\",\n    value: function handleSettings() {\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlSidePanel(window.location.hash, this.state.myUserId ? 'edit' : 'settings'));\n    }\n  }, {\n    key: \"handleGlobalSettings\",\n    value: function handleGlobalSettings(settings) {\n      var serverAddress = settings.serverAddress || this.state.serverAddress;\n      var transport = settings.transport || this.state.transport;\n\n      if (this.tinode) {\n        this.tinode.onDisconnect = undefined;\n        this.tinode.disconnect();\n      }\n\n      this.tinode = TinodeWeb.tnSetup(serverAddress, transport);\n      this.tinode.onConnect = this.handleConnected;\n      this.tinode.onDisconnect = this.handleDisconnect;\n      this.setState({\n        serverAddress: serverAddress,\n        transport: transport\n      });\n      _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].setObject('settings', {\n        serverAddress: serverAddress,\n        transport: transport\n      });\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlSidePanel(window.location.hash, ''));\n    }\n  }, {\n    key: \"initDesktopAlerts\",\n    value: function initDesktopAlerts() {\n      var _this14 = this;\n\n      this.fbPush.onTokenRefresh(function () {\n        _this14.requestPushToken(true);\n      });\n      this.fbPush.onMessage(function (payload) {});\n    }\n  }, {\n    key: \"togglePushToken\",\n    value: function togglePushToken(enabled) {\n      var _this15 = this;\n\n      if (enabled) {\n        if (!this.state.firebaseToken) {\n          this.fbPush.requestPermission().then(function () {\n            _this15.requestPushToken(true);\n          }).catch(function (err) {\n            _this15.handleError(err.message, 'err');\n\n            _this15.setState({\n              desktopAlerts: false,\n              firebaseToken: null\n            });\n\n            _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].updateObject('settings', {\n              desktopAlerts: false\n            });\n            console.log(\"Failed to get permission to notify.\", err);\n          });\n        } else {\n          this.setState({\n            desktopAlerts: true\n          });\n          _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].updateObject('settings', {\n            desktopAlerts: true\n          });\n        }\n      } else if (this.state.firebaseToken) {\n        this.fbPush.deleteToken(this.state.firebaseToken).catch(function (err) {\n          console.log(\"Unable to delete token.\", err);\n        }).finally(function () {\n          _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].updateObject('settings', {\n            desktopAlerts: false\n          });\n          localStorage.removeItem('firebase-token');\n\n          _this15.setState({\n            desktopAlerts: false,\n            firebaseToken: null\n          });\n        });\n      } else {\n        this.setState({\n          desktopAlerts: false,\n          firebaseToken: null\n        });\n        _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].updateObject('settings', {\n          desktopAlerts: false\n        });\n      }\n    }\n  }, {\n    key: \"requestPushToken\",\n    value: function requestPushToken(sendToServer) {\n      var _this16 = this;\n\n      this.fbPush.getToken().then(function (refreshedToken) {\n        if (refreshedToken != _this16.state.firebaseToken) {\n          _this16.tinode.setDeviceToken(refreshedToken, sendToServer);\n\n          _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].setObject('firebase-token', refreshedToken);\n        }\n\n        _this16.setState({\n          firebaseToken: refreshedToken,\n          desktopAlerts: true\n        });\n\n        _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].updateObject('settings', {\n          desktopAlerts: true\n        });\n      }).catch(function (err) {\n        _this16.handleError(err.message, 'err');\n\n        console.log(\"Failed to retrieve firebase token\", err);\n      });\n    }\n  }, {\n    key: \"handleToggleMessageSounds\",\n    value: function handleToggleMessageSounds(enabled) {\n      this.setState({\n        messageSounds: enabled\n      });\n      _lib_local_storage_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].updateObject('settings', {\n        messageSoundsOff: !enabled\n      });\n    }\n  }, {\n    key: \"handleSidepanelCancel\",\n    value: function handleSidepanelCancel() {\n      var parsed = _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].parseUrlHash(window.location.hash);\n      parsed.path[0] = this.state.myUserId ? 'contacts' : '';\n\n      if (parsed.params) {\n        delete parsed.params.code;\n        delete parsed.params.method;\n        delete parsed.params.tab;\n      }\n\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].composeUrlHash(parsed.path, parsed.params));\n      this.setState({\n        errorText: '',\n        errorLevel: null\n      });\n    }\n  }, {\n    key: \"handleNewTopic\",\n    value: function handleNewTopic() {\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlSidePanel(window.location.hash, 'newtpk'));\n    }\n  }, {\n    key: \"handleNewTopicRequest\",\n    value: function handleNewTopicRequest(peerName, pub, priv, tags) {\n      var _this17 = this;\n\n      var topicName = peerName || this.tinode.newGroupTopicName();\n\n      if (!peerName) {\n        this.setState({\n          newGroupTopicParams: {\n            desc: {\n              public: pub,\n              private: {\n                comment: priv\n              }\n            },\n            tags: tags\n          }\n        }, function () {\n          _this17.handleTopicSelected(topicName);\n        });\n      } else {\n        this.handleTopicSelected(topicName);\n      }\n    }\n  }, {\n    key: \"handleNewTopicCreated\",\n    value: function handleNewTopicCreated(oldName, newName) {\n      if (this.state.topicSelected == oldName && oldName != newName) {\n        this.setState({\n          topicSelected: newName\n        }, function () {\n          _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlTopic('', newName));\n        });\n      }\n    }\n  }, {\n    key: \"handleTopicUpdateRequest\",\n    value: function handleTopicUpdateRequest(topicName, pub, priv, permissions) {\n      var _this18 = this;\n\n      var topic = this.tinode.getTopic(topicName);\n\n      if (topic) {\n        var params = {};\n\n        if (pub) {\n          params.public = pub;\n        }\n\n        if (priv) {\n          params.private = priv === tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default.a.DEL_CHAR ? tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default.a.DEL_CHAR : {\n            comment: priv\n          };\n        }\n\n        if (permissions) {\n          params.defacs = permissions;\n        }\n\n        topic.setMeta({\n          desc: params\n        }).catch(function (err) {\n          _this18.handleError(err.message, 'err');\n        });\n      }\n    }\n  }, {\n    key: \"handleChangePermissions\",\n    value: function handleChangePermissions(topicName, mode, uid) {\n      var _this19 = this;\n\n      var topic = this.tinode.getTopic(topicName);\n\n      if (topic) {\n        var am = topic.getAccessMode();\n\n        if (uid) {\n          am.updateGiven(mode);\n          mode = am.getGiven();\n        } else {\n          am.updateWant(mode);\n          mode = am.getWant();\n        }\n\n        topic.setMeta({\n          sub: {\n            user: uid,\n            mode: mode\n          }\n        }).catch(function (err) {\n          _this19.handleError(err.message, 'err');\n        });\n      }\n    }\n  }, {\n    key: \"handleTagsUpdated\",\n    value: function handleTagsUpdated(topicName, tags) {\n      var _this20 = this;\n\n      var topic = this.tinode.getTopic(topicName);\n\n      if (topic) {\n        var instance = this;\n        topic.setMeta({\n          tags: tags\n        }).catch(function (err) {\n          _this20.handleError(err.message, 'err');\n        });\n      }\n    }\n  }, {\n    key: \"handleLogout\",\n    value: function handleLogout() {\n      Object(_lib_utils_js__WEBPACK_IMPORTED_MODULE_15__[\"updateFavicon\"])(0);\n      localStorage.removeItem('auth-token');\n\n      if (this.tinode) {\n        this.tinode.onDisconnect = undefined;\n        this.tinode.disconnect();\n      }\n\n      this.setState(this.getBlankState());\n      this.tinode = TinodeWeb.tnSetup(this.state.serverAddress, this.state.transport);\n      this.tinode.onConnect = this.handleConnected;\n      this.tinode.onDisconnect = this.handleDisconnect;\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo('');\n    }\n  }, {\n    key: \"handleLeaveUnsubRequest\",\n    value: function handleLeaveUnsubRequest(topicName) {\n      var _this21 = this;\n\n      var topic = this.tinode.getTopic(topicName);\n\n      if (!topic) {\n        return;\n      }\n\n      topic.leave(true).then(function (ctrl) {\n        _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setUrlTopic(window.location.hash, ''));\n      }).catch(function (err) {\n        _this21.handleError(err.message, 'err');\n      });\n    }\n  }, {\n    key: \"handleDialogCancel\",\n    value: function handleDialogCancel() {\n      this.setState({\n        dialogSelected: null\n      });\n    }\n  }, {\n    key: \"handleShowContextMenu\",\n    value: function handleShowContextMenu(params, menuItems) {\n      this.setState({\n        contextMenuVisible: true,\n        contextMenuClickAt: {\n          x: params.x,\n          y: params.y\n        },\n        contextMenuParams: params,\n        contextMenuItems: menuItems || this.defaultTopicContextMenu(params.topicName),\n        contextMenuBounds: react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this).getBoundingClientRect()\n      });\n    }\n  }, {\n    key: \"defaultTopicContextMenu\",\n    value: function defaultTopicContextMenu(topicName) {\n      var topic = this.tinode.getTopic(topicName);\n      var formatMessage = this.props.intl.formatMessage;\n      var muted = false,\n          blocked = false,\n          subscribed = false,\n          deleter = false;\n\n      if (topic) {\n        if (topic.isSubscribed()) {\n          subscribed = true;\n          var acs = topic.getAccessMode();\n          muted = acs && acs.isMuted();\n          blocked = acs && !acs.isJoiner();\n          deleter = acs && acs.isDeleter();\n        }\n      }\n\n      return [subscribed ? {\n        title: formatMessage({\n          id: 'menu_item_info'\n        }),\n        handler: this.handleShowInfoView\n      } : null, subscribed ? 'messages_clear' : null, subscribed && deleter ? 'messages_clear_hard' : null, subscribed ? muted ? 'topic_unmute' : 'topic_mute' : null, subscribed ? blocked ? 'topic_unblock' : 'topic_block' : null, 'topic_delete'];\n    }\n  }, {\n    key: \"handleHideContextMenu\",\n    value: function handleHideContextMenu() {\n      this.setState({\n        contextMenuVisible: false,\n        contextMenuClickAt: null,\n        contextMenuParams: null,\n        contextMenuBounds: null\n      });\n    }\n  }, {\n    key: \"handleShowInfoView\",\n    value: function handleShowInfoView() {\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].addUrlParam(window.location.hash, 'info', true));\n      this.setState({\n        showInfoPanel: true\n      });\n    }\n  }, {\n    key: \"handleHideInfoView\",\n    value: function handleHideInfoView() {\n      _lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].navigateTo(_lib_navigation_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].removeUrlParam(window.location.hash, 'info'));\n      this.setState({\n        showInfoPanel: false\n      });\n    }\n  }, {\n    key: \"handleMemberUpdateRequest\",\n    value: function handleMemberUpdateRequest(topicName, added, removed) {\n      var _this22 = this;\n\n      if (!topicName) {\n        return;\n      }\n\n      var topic = this.tinode.getTopic(topicName);\n\n      if (!topic) {\n        return;\n      }\n\n      if (added && added.length > 0) {\n        added.map(function (uid) {\n          topic.invite(uid, null).catch(function (err) {\n            _this22.handleError(err.message, 'err');\n          });\n        });\n      }\n\n      if (removed && removed.length > 0) {\n        removed.map(function (uid) {\n          topic.delSubscription(uid).catch(function (err) {\n            _this22.handleError(err.message, 'err');\n          });\n        });\n      }\n    }\n  }, {\n    key: \"handleValidateCredentialsRequest\",\n    value: function handleValidateCredentialsRequest(cred, code) {\n      this.setState({\n        credMethod: cred,\n        credCode: code\n      });\n      this.doLogin(null, null, {\n        meth: cred,\n        resp: code\n      });\n    }\n  }, {\n    key: \"handlePasswordResetRequest\",\n    value: function handlePasswordResetRequest(method, value) {\n      var _this23 = this;\n\n      this.tinode.connect().then(function () {\n        return _this23.tinode.requestResetAuthSecret('basic', method, value);\n      }).catch(function (err) {\n        _this23.handleError(err.message, 'err');\n      });\n    }\n  }, {\n    key: \"handleResetPassword\",\n    value: function handleResetPassword(scheme, newPassword, token) {\n      var _this24 = this;\n\n      token = base64ReEncode(token);\n\n      if (!token) {\n        this.handleError(\"Invalid security token\", 'err');\n      } else {\n        this.tinode.connect().then(function () {\n          return _this24.tinode.updateAccountBasic(null, null, newPassword, {\n            token: token\n          });\n        }).catch(function (err) {\n          _this24.handleError(err.message, 'err');\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"app-container\"\n      }, this.state.contextMenuVisible ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_widgets_context_menu_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        tinode: this.tinode,\n        bounds: this.state.contextMenuBounds,\n        clickAt: this.state.contextMenuClickAt,\n        params: this.state.contextMenuParams,\n        items: this.state.contextMenuItems,\n        hide: this.handleHideContextMenu,\n        onAction: this.handleContextMenuAction,\n        onError: this.handleError\n      }) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_sidepanel_view_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        tinode: this.tinode,\n        connected: this.state.connected,\n        displayMobile: this.state.displayMobile,\n        hideSelf: this.state.displayMobile && this.state.mobilePanel !== 'sidepanel',\n        state: this.state.sidePanelSelected,\n        title: this.state.sidePanelTitle,\n        avatar: this.state.sidePanelAvatar,\n        login: this.state.login,\n        myUserId: this.state.myUserId,\n        loginDisabled: this.state.loginDisabled,\n        errorText: this.state.errorText,\n        errorLevel: this.state.errorLevel,\n        topicSelected: this.state.topicSelected,\n        chatList: this.state.chatList,\n        credMethod: this.state.credMethod,\n        credCode: this.state.credCode,\n        transport: this.state.transport,\n        messageSounds: this.state.messageSounds,\n        desktopAlerts: this.state.desktopAlerts,\n        desktopAlertsEnabled: this.state.desktopAlertsEnabled,\n        serverAddress: this.state.serverAddress,\n        onGlobalSettings: this.handleGlobalSettings,\n        onSignUp: this.handleNewAccount,\n        onSettings: this.handleSettings,\n        onLoginRequest: this.handleLoginRequest,\n        onCreateAccount: this.handleNewAccountRequest,\n        onUpdateAccount: this.handleUpdateAccountRequest,\n        onUpdateAccountTags: this.handleUpdateAccountTagsRequest,\n        onTogglePushNotifications: this.togglePushToken,\n        onToggleMessageSounds: this.handleToggleMessageSounds,\n        onTopicSelected: this.handleTopicSelected,\n        onCreateTopic: this.handleNewTopicRequest,\n        onNewTopic: this.handleNewTopic,\n        onLogout: this.handleLogout,\n        onCancel: this.handleSidepanelCancel,\n        onError: this.handleError,\n        onValidateCredentials: this.handleValidateCredentialsRequest,\n        onPasswordResetRequest: this.handlePasswordResetRequest,\n        onResetPassword: this.handleResetPassword,\n        onInitFind: this.tnInitFind,\n        searchResults: this.state.searchResults,\n        onSearchContacts: this.handleSearchContacts,\n        showContextMenu: this.handleShowContextMenu\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_messages_view_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        tinode: this.tinode,\n        connected: this.state.connected,\n        online: this.state.topicSelectedOnline,\n        acs: this.state.topicSelectedAcs,\n        displayMobile: this.state.displayMobile,\n        viewportWidth: this.state.viewportWidth,\n        hideSelf: this.state.displayMobile && (this.state.mobilePanel !== 'topic-view' || this.state.showInfoPanel),\n        topic: this.state.topicSelected,\n        myUserId: this.state.myUserId,\n        serverVersion: this.state.serverVersion,\n        serverAddress: this.state.serverAddress,\n        errorText: this.state.errorText,\n        errorLevel: this.state.errorLevel,\n        newGroupTopicParams: this.state.newGroupTopicParams,\n        onHideMessagesView: this.handleHideMessagesView,\n        onData: this.tnData,\n        onError: this.handleError,\n        onNewTopicCreated: this.handleNewTopicCreated,\n        readTimerHandler: this.handleReadTimer,\n        showContextMenu: this.handleShowContextMenu,\n        sendMessage: this.handleSendMessage\n      }), this.state.showInfoPanel ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_info_view_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n        tinode: this.tinode,\n        connected: this.state.connected,\n        displayMobile: this.state.displayMobile,\n        topic: this.state.topicSelected,\n        searchableContacts: this.state.searchableContacts,\n        myUserId: this.state.myUserId,\n        errorText: this.state.errorText,\n        errorLevel: this.state.errorLevel,\n        onTopicDescUpdate: this.handleTopicUpdateRequest,\n        onCancel: this.handleHideInfoView,\n        onChangePermissions: this.handleChangePermissions,\n        onMemberUpdateRequest: this.handleMemberUpdateRequest,\n        onLeaveTopic: this.handleLeaveUnsubRequest,\n        onAddMember: this.handleManageGroupMembers,\n        onTopicTagsUpdate: this.handleTagsUpdated,\n        onInitFind: this.tnInitFind,\n        onError: this.handleError,\n        showContextMenu: this.handleShowContextMenu\n      }) : null);\n    }\n  }], [{\n    key: \"tnSetup\",\n    value: function tnSetup(serverAddress, transport) {\n      var tinode = new tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default.a(_config_js__WEBPACK_IMPORTED_MODULE_10__[\"APP_NAME\"], serverAddress, _config_js__WEBPACK_IMPORTED_MODULE_10__[\"API_KEY\"], transport, Object(_lib_host_name_js__WEBPACK_IMPORTED_MODULE_12__[\"isSecureConnection\"])());\n      tinode.enableLogging(true, true);\n      return tinode;\n    }\n  }, {\n    key: \"prepareSearchableContacts\",\n    value: function prepareSearchableContacts(chatList, foundContacts) {\n      var merged = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = chatList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var c = _step.value;\n\n          if (tinode_sdk__WEBPACK_IMPORTED_MODULE_5___default.a.topicType(c.topic) == 'p2p') {\n            merged[c.topic] = {\n              user: c.topic,\n              updated: c.updated,\n              public: c.public,\n              private: c.private,\n              acs: c.acs\n            };\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = foundContacts[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _c = _step2.value;\n\n          if (!merged[_c.user]) {\n            merged[_c.user] = _c;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return Object.values(merged);\n    }\n  }]);\n\n  return TinodeWeb;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"injectIntl\"])(TinodeWeb));\n\n//# sourceURL=webpack:///./src/views/tinode-web.jsx?");

/***/ }),

/***/ "./src/views/validation-view.jsx":
/*!***************************************!*\
  !*** ./src/views/validation-view.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  phone: {\n    \"id\": \"phone_dative\",\n    \"defaultMessage\": \"phone\"\n  },\n  email: {\n    \"id\": \"email_dative\",\n    \"defaultMessage\": \"email\"\n  }\n});\n\nvar ValidationView = function (_React$PureComponent) {\n  _inherits(ValidationView, _React$PureComponent);\n\n  function ValidationView(props) {\n    var _this;\n\n    _classCallCheck(this, ValidationView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ValidationView).call(this, props));\n    _this.state = {\n      code: props.credCode || ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyPress = _this.handleKeyPress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ValidationView, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState({\n        code: e.target.value\n      });\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(e) {\n      if (e.key === 'Enter') {\n        this.handleSubmit(e);\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n\n      if (this.state.code && this.state.code.trim()) {\n        this.props.onSubmit(this.props.credMethod, this.state.code.trim());\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formatMessage = this.props.intl.formatMessage;\n      var methods = {\n        'email': formatMessage(messages.email),\n        'tel': formatMessage(messages.phone)\n      };\n      var method = methods[this.props.credMethod] || this.props.credMethod;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\",\n        htmlFor: \"enter-confirmation-code\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"enter_confirmation_code_prompt\",\n        defaultMessage: \"Enter confirmation code sent to you by {method}:\",\n        values: {\n          method: method\n        }\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"numeric_confirmation_code_prompt\",\n        defaultMessage: \"Numbers only\"\n      }, function (numbers_only) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"text\",\n          id: \"enter-confirmation-code\",\n          placeholder: numbers_only,\n          value: _this2.state.code,\n          onChange: _this2.handleChange,\n          onKeyPress: _this2.handleKeyPress,\n          required: true\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dialog-buttons\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"blue\",\n        onClick: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_confirm\",\n        defaultMessage: \"Confirm\"\n      }))));\n    }\n  }]);\n\n  return ValidationView;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(ValidationView));\n\n//# sourceURL=webpack:///./src/views/validation-view.jsx?");

/***/ }),

/***/ "./src/widgets/attachment.jsx":
/*!************************************!*\
  !*** ./src/widgets/attachment.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Attachment; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _file_progress_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./file-progress.jsx */ \"./src/widgets/file-progress.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\nvar Attachment = function (_React$Component) {\n  _inherits(Attachment, _React$Component);\n\n  function Attachment(props) {\n    var _this;\n\n    _classCallCheck(this, Attachment);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Attachment).call(this, props));\n    _this.state = {\n      downloader: null,\n      progress: 0\n    };\n    _this.downloadFile = _this.downloadFile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Attachment, [{\n    key: \"downloadFile\",\n    value: function downloadFile(url, filename, mimetype) {\n      var _this2 = this;\n\n      var downloader = this.props.tinode.getLargeFileHelper();\n      this.setState({\n        downloader: downloader\n      });\n      downloader.download(url, filename, mimetype, function (loaded) {\n        _this2.setState({\n          progress: loaded / _this2.props.size\n        });\n      }).then(function () {\n        _this2.setState({\n          downloader: null,\n          progress: 0\n        });\n      }).catch(function (err) {\n        if (err) {\n          _this2.props.onError(\"Error downloading file: \" + err.message, 'err');\n        }\n\n        _this2.setState({\n          downloader: null,\n          progress: 0\n        });\n      });\n    }\n  }, {\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      if (this.props.uploader) {\n        this.props.onCancelUpload();\n      } else if (this.state.downloader) {\n        this.state.downloader.cancel();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var filename = this.props.filename || 'file_attachment';\n\n      if (filename.length > 36) {\n        filename = filename.substr(0, 16) + '...' + filename.substr(-16);\n      }\n\n      var size = this.props.size > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"small gray\"\n      }, \"(\", bytesToHumanSize(this.props.size), \")\") : null;\n      var url, helperFunc;\n\n      if (!this.props.uploader && !this.state.downloader && !/^(?:(?:[a-z]+:)?\\/\\/)/i.test(this.props.downloadUrl)) {\n        url = \"javascript:;\";\n\n        helperFunc = function helperFunc(e) {\n          _this3.downloadFile(_this3.props.downloadUrl, _this3.props.filename, _this3.props.mimetype);\n        };\n      } else {\n        url = this.props.downloadUrl;\n        helperFunc = null;\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"attachment\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons big gray\"\n      }, \"insert_drive_file\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"flex-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, filename, \" \", size), this.props.uploader || this.state.downloader ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_file_progress_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        progress: this.props.uploader ? this.props.progress : this.state.progress,\n        onCancel: this.handleCancel\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: url,\n        download: this.props.filename,\n        onClick: helperFunc\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"file_download\"), \" save\"))));\n    }\n  }]);\n\n  return Attachment;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/attachment.jsx?");

/***/ }),

/***/ "./src/widgets/avatar-upload.jsx":
/*!***************************************!*\
  !*** ./src/widgets/avatar-upload.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AvatarUpload; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _letter_tile_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./letter-tile.jsx */ \"./src/widgets/letter-tile.jsx\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\nvar AvatarUpload = function (_React$Component) {\n  _inherits(AvatarUpload, _React$Component);\n\n  function AvatarUpload(props) {\n    var _this;\n\n    _classCallCheck(this, AvatarUpload);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AvatarUpload).call(this, props));\n    _this.state = {\n      dataUrl: props.avatar\n    };\n    _this.handleFileUpload = _this.handleFileUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AvatarUpload, [{\n    key: \"handleFileUpload\",\n    value: function handleFileUpload(e) {\n      var _this2 = this;\n\n      Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_3__[\"imageFileScaledToBase64\"])(e.target.files[0], _config_js__WEBPACK_IMPORTED_MODULE_2__[\"AVATAR_SIZE\"], _config_js__WEBPACK_IMPORTED_MODULE_2__[\"AVATAR_SIZE\"], true, function (base64bits, mime) {\n        var du = Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_3__[\"makeImageUrl\"])({\n          data: base64bits,\n          type: mime\n        });\n\n        _this2.setState({\n          dataUrl: du\n        });\n\n        _this2.props.onImageChanged(du);\n      }, function (err) {\n        _this2.props.onError(err, 'err');\n      });\n      e.target.value = '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var randId = \"file-input-avatar-\" + (Math.random() + '').substr(2);\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"avatar-upload\"\n      }, this.state.dataUrl ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n        src: this.state.dataUrl,\n        className: \"preview\"\n      }) : this.props.readOnly && this.props.uid ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"avatar-box\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_letter_tile_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        avatar: true,\n        topic: this.props.uid,\n        title: this.props.title\n      })) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"blank\"\n      }, _config_js__WEBPACK_IMPORTED_MODULE_2__[\"AVATAR_SIZE\"], \"\\xD7\", _config_js__WEBPACK_IMPORTED_MODULE_2__[\"AVATAR_SIZE\"]), this.props.readOnly ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        type: \"file\",\n        id: randId,\n        className: \"inputfile hidden\",\n        accept: \"image/*\",\n        onChange: this.handleFileUpload\n      }), this.props.readOnly ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        htmlFor: randId,\n        className: \"round\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"file_upload\")));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (prevState.dataUrl != nextProps.avatar) {\n        return {\n          dataUrl: nextProps.avatar\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return AvatarUpload;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/avatar-upload.jsx?");

/***/ }),

/***/ "./src/widgets/chat-message.jsx":
/*!**************************************!*\
  !*** ./src/widgets/chat-message.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChatMessage; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _attachment_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./attachment.jsx */ \"./src/widgets/attachment.jsx\");\n/* harmony import */ var _letter_tile_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./letter-tile.jsx */ \"./src/widgets/letter-tile.jsx\");\n/* harmony import */ var _received_marker_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./received-marker.jsx */ \"./src/widgets/received-marker.jsx\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\n\nvar ChatMessage = function (_React$Component) {\n  _inherits(ChatMessage, _React$Component);\n\n  function ChatMessage(props) {\n    var _this;\n\n    _classCallCheck(this, ChatMessage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatMessage).call(this, props));\n    _this.state = {\n      progress: 0\n    };\n\n    if (props.uploader) {\n      props.uploader.onProgress = _this.handleProgress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    }\n\n    _this.handlePreviewImage = _this.handlePreviewImage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleContextClick = _this.handleContextClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCancelUpload = _this.handleCancelUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ChatMessage, [{\n    key: \"handlePreviewImage\",\n    value: function handlePreviewImage(e) {\n      e.preventDefault();\n      this.props.onImagePreview({\n        url: e.target.src,\n        filename: e.target.title,\n        width: e.target.dataset.width,\n        height: e.target.dataset.height,\n        size: e.target.dataset.size,\n        type: e.target.dataset.mime\n      });\n    }\n  }, {\n    key: \"handleContextClick\",\n    value: function handleContextClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.showContextMenu({\n        seq: this.props.seq,\n        y: e.pageY,\n        x: e.pageX\n      });\n    }\n  }, {\n    key: \"handleProgress\",\n    value: function handleProgress(ratio) {\n      this.setState({\n        progress: ratio\n      });\n    }\n  }, {\n    key: \"handleCancelUpload\",\n    value: function handleCancelUpload() {\n      this.props.uploader.cancel();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var elementKey = 0;\n\n      var formatter = function formatter(style, data, values) {\n        elementKey += 1;\n        var el = tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].tagName(style);\n\n        if (el) {\n          var attr = tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].attrValue(style, data) || {};\n          attr.key = elementKey;\n\n          if (style == 'IM') {\n            var dim = Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_7__[\"fitImageSize\"])(data.width, data.height, Math.min(this.props.viewportWidth - _config_js__WEBPACK_IMPORTED_MODULE_6__[\"REM_SIZE\"] * 4, _config_js__WEBPACK_IMPORTED_MODULE_6__[\"REM_SIZE\"] * 36), _config_js__WEBPACK_IMPORTED_MODULE_6__[\"REM_SIZE\"] * 24, false);\n            attr.className = 'inline-image';\n            attr.style = dim ? {\n              width: dim.dstWidth + 'px',\n              height: dim.dstHeight + 'px'\n            } : null;\n            attr.onClick = this.handlePreviewImage;\n          }\n\n          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(el, attr, values);\n        } else {\n          return values;\n        }\n      };\n\n      var sideClass = this.props.sequence + ' ' + (this.props.response ? 'left' : 'right');\n      var bubbleClass = this.props.sequence == 'single' || this.props.sequence == 'last' ? 'bubble tip' : 'bubble';\n      var avatar = this.props.userAvatar || true;\n      var fullDisplay = this.props.userFrom && this.props.response && (this.props.sequence == 'single' || this.props.sequence == 'last');\n      var content = this.props.content;\n      var attachments = [];\n\n      if (this.props.mimeType == tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].getContentType()) {\n        tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].attachments(content, function (att, i) {\n          attachments.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_attachment_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            tinode: this.props.tinode,\n            downloadUrl: tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].getDownloadUrl(att),\n            filename: att.name,\n            uploader: tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].isUploading(att),\n            mimetype: att.mime,\n            size: tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].getEntitySize(att),\n            progress: this.state.progress,\n            onCancelUpload: this.handleCancelUpload,\n            onError: this.props.onError,\n            key: i\n          }));\n        }, this);\n        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('span', null, tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].format(content, formatter, this));\n      } else if (typeof content != 'string') {\n        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"material-icons\"\n        }, \"error_outline\"), \" \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n          id: \"invalid_content\",\n          defaultMessage: \"invalid content\"\n        })));\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n        className: sideClass\n      }, this.props.userFrom && this.props.response ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"avatar-box\"\n      }, fullDisplay ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_letter_tile_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        topic: this.props.userFrom,\n        title: this.props.userName,\n        avatar: avatar\n      }) : null) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: bubbleClass\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"message-content\"\n      }, content, attachments, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_received_marker_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        timestamp: this.props.timestamp,\n        received: this.props.received\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"menuTrigger\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.handleContextClick\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"expand_more\")))), fullDisplay ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"author\"\n      }, this.props.userName) : null));\n    }\n  }]);\n\n  return ChatMessage;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/chat-message.jsx?");

/***/ }),

/***/ "./src/widgets/checkbox.jsx":
/*!**********************************!*\
  !*** ./src/widgets/checkbox.jsx ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CheckBox; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\nvar CheckBox = function (_React$PureComponent) {\n  _inherits(CheckBox, _React$PureComponent);\n\n  function CheckBox(props) {\n    var _this;\n\n    _classCallCheck(this, CheckBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CheckBox).call(this, props));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CheckBox, [{\n    key: \"handleChange\",\n    value: function handleChange() {\n      this.props.onChange(this.props.name, !this.props.checked);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.onChange ? this.props.checked ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons blue clickable\",\n        onClick: this.handleChange\n      }, \"check_box\") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons blue clickable\",\n        onClick: this.handleChange\n      }, \"check_box_outline_blank\") : this.props.checked ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"check_box\") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"check_box_outline_blank\");\n    }\n  }]);\n\n  return CheckBox;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/widgets/checkbox.jsx?");

/***/ }),

/***/ "./src/widgets/chip-input.jsx":
/*!************************************!*\
  !*** ./src/widgets/chip-input.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChipInput; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chip_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chip.jsx */ \"./src/widgets/chip.jsx\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\nvar ChipInput = function (_React$Component) {\n  _inherits(ChipInput, _React$Component);\n\n  function ChipInput(props) {\n    var _this;\n\n    _classCallCheck(this, ChipInput);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChipInput).call(this, props));\n    _this.state = {\n      placeholder: props.chips ? '' : props.prompt,\n      sortedChips: ChipInput.sortChips(props.chips, props.required),\n      chipIndex: ChipInput.indexChips(props.chips),\n      input: '',\n      focused: false\n    };\n    _this.handleTextInput = _this.handleTextInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.removeChipAt = _this.removeChipAt.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChipCancel = _this.handleChipCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFocusGained = _this.handleFocusGained.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFocusLost = _this.handleFocusLost.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ChipInput, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.setState({\n        sortedChips: ChipInput.sortChips(nextProps.chips, nextProps.required),\n        chipIndex: ChipInput.indexChips(nextProps.chips)\n      });\n\n      if (nextProps.chips.length > this.props.chips.length) {\n        this.setState({\n          input: ''\n        });\n      }\n    }\n  }, {\n    key: \"handleTextInput\",\n    value: function handleTextInput(e) {\n      this.setState({\n        input: e.target.value\n      });\n\n      if (this.props.filterFunc) {\n        this.props.filterFunc(e.target.value);\n      }\n    }\n  }, {\n    key: \"removeChipAt\",\n    value: function removeChipAt(idx) {\n      var removed = this.state.sortedChips[idx];\n      this.props.onChipRemoved(removed.user, this.state.chipIndex[removed.user]);\n    }\n  }, {\n    key: \"handleChipCancel\",\n    value: function handleChipCancel(item, idx) {\n      this.removeChipAt(idx);\n    }\n  }, {\n    key: \"handleFocusGained\",\n    value: function handleFocusGained() {\n      this.setState({\n        focused: true\n      });\n    }\n  }, {\n    key: \"handleFocusLost\",\n    value: function handleFocusLost() {\n      this.setState({\n        focused: false\n      });\n\n      if (this.props.onFocusLost) {\n        this.props.onFocusLost(this.state.input);\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      if (e.key === 'Backspace') {\n        if (this.state.input.length == 0 && this.state.sortedChips.length > 0) {\n          var at = this.state.sortedChips.length - 1;\n\n          if (this.state.sortedChips[at].user !== this.props.required) {\n            this.removeChipAt(at);\n          }\n        }\n      } else if (e.key === 'Enter') {\n        if (this.props.onEnter) {\n          this.props.onEnter(this.state.input);\n        }\n      } else if (e.key === 'Escape') {\n        if (this.props.onCancel) {\n          this.props.onCancel();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var chips = [];\n      var count = 0;\n      this.state.sortedChips.map(function (item) {\n        chips.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_chip_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n          onCancel: _this2.handleChipCancel,\n          avatar: Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_2__[\"makeImageUrl\"])(item.public ? item.public.photo : null),\n          title: item.public ? item.public.fn : undefined,\n          noAvatar: _this2.props.avatarDisabled,\n          topic: item.user,\n          required: item.user === _this2.props.required,\n          index: count,\n          key: item.user\n        }));\n        count++;\n      });\n      var className = \"chip-input\" + (this.state.focused ? ' focused' : '');\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: className\n      }, chips, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        type: \"text\",\n        placeholder: this.state.placeholder,\n        onChange: this.handleTextInput,\n        onFocus: this.handleFocusGained,\n        onBlur: this.handleFocusLost,\n        onKeyDown: this.handleKeyDown,\n        value: this.state.input,\n        autoFocus: true\n      }));\n    }\n  }], [{\n    key: \"indexChips\",\n    value: function indexChips(chips) {\n      var index = {};\n      var count = 0;\n      chips.map(function (item) {\n        index[item.user] = count;\n        count++;\n      });\n      return index;\n    }\n  }, {\n    key: \"sortChips\",\n    value: function sortChips(chips, keep) {\n      var required = [];\n      var normal = [];\n      chips.map(function (item) {\n        if (item.user === keep) {\n          required.push(item);\n        } else {\n          normal.push(item);\n        }\n      });\n      return required.concat(normal);\n    }\n  }]);\n\n  return ChipInput;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/chip-input.jsx?");

/***/ }),

/***/ "./src/widgets/chip.jsx":
/*!******************************!*\
  !*** ./src/widgets/chip.jsx ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Chip; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _letter_tile_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./letter-tile.jsx */ \"./src/widgets/letter-tile.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\nvar Chip = function (_React$PureComponent) {\n  _inherits(Chip, _React$PureComponent);\n\n  function Chip(props) {\n    var _this;\n\n    _classCallCheck(this, Chip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Chip).call(this, props));\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Chip, [{\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      this.props.onCancel(this.props.topic, this.props.index);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var title = this.props.title || this.props.topic;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"chip\"\n      }, this.props.noAvatar ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"spacer\"\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"avatar-box\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_letter_tile_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        avatar: this.props.avatar || true,\n        topic: this.props.topic,\n        title: this.props.title\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, title), this.props.onCancel && !this.props.required ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.handleCancel\n      }, \"\\xD7\") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"spacer\"\n      }));\n    }\n  }]);\n\n  return Chip;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/chip.jsx?");

/***/ }),

/***/ "./src/widgets/contact-badges.jsx":
/*!****************************************!*\
  !*** ./src/widgets/contact-badges.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ContactBadges; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\nvar ContactBadges = function (_React$PureComponent) {\n  _inherits(ContactBadges, _React$PureComponent);\n\n  function ContactBadges() {\n    _classCallCheck(this, ContactBadges);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ContactBadges).apply(this, arguments));\n  }\n\n  _createClass(ContactBadges, [{\n    key: \"render\",\n    value: function render() {\n      var badges = null;\n\n      if (this.props.badges && this.props.badges.length > 0) {\n        badges = [];\n        this.props.badges.map(function (b) {\n          var style = 'badge' + (b.color ? ' ' + b.color : '');\n          badges.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n            className: style,\n            key: b.key || b.name\n          }, b.name));\n        });\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, badges);\n    }\n  }]);\n\n  return ContactBadges;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/contact-badges.jsx?");

/***/ }),

/***/ "./src/widgets/contact-list.jsx":
/*!**************************************!*\
  !*** ./src/widgets/contact-list.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contact_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contact.jsx */ \"./src/widgets/contact.jsx\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  badge_you: {\n    \"id\": \"badge_you\",\n    \"defaultMessage\": \"you\"\n  },\n  badge_owner: {\n    \"id\": \"badge_owner\",\n    \"defaultMessage\": \"owner\"\n  }\n});\n\nvar ContactList = function (_React$Component) {\n  _inherits(ContactList, _React$Component);\n\n  function ContactList() {\n    _classCallCheck(this, ContactList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ContactList).apply(this, arguments));\n  }\n\n  _createClass(ContactList, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var formatMessage = this.props.intl.formatMessage;\n      var showCheckmark = Array.isArray(this.props.topicSelected);\n      var contactNodes = [];\n\n      if (this.props.contacts && this.props.contacts.length > 0) {\n        this.props.contacts.map(function (c) {\n          var key = c.topic ? c.topic : c.user;\n\n          if (_this.props.filterFunc && _this.props.filter) {\n            var content = [key];\n\n            if (c.private && c.private.comment) {\n              content.push(('' + c.private.comment).toLowerCase());\n            }\n\n            if (c.public && c.public.fn) {\n              content.push(('' + c.public.fn).toLowerCase());\n            }\n\n            if (!_this.props.filterFunc(_this.props.filter, content)) {\n              return;\n            }\n          }\n\n          var selected = showCheckmark ? _this.props.topicSelected.indexOf(key) > -1 : _this.props.topicSelected === key;\n          var badges = [];\n\n          if (_this.props.showMode) {\n            if (key === _this.props.myUserId) {\n              badges.push({\n                name: formatMessage(messages.badge_you),\n                color: 'green'\n              });\n            }\n\n            if (c.acs && c.acs.isOwner()) {\n              badges.push({\n                name: formatMessage(messages.badge_owner),\n                color: 'blue'\n              });\n            }\n          }\n\n          var comment = Array.isArray(c.private) ? c.private.join(',') : c.private ? c.private.comment : null;\n          contactNodes.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contact_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            title: c.public ? c.public.fn : null,\n            avatar: Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_3__[\"makeImageUrl\"])(c.public ? c.public.photo : null),\n            comment: comment,\n            unread: _this.props.showUnread ? c.unread : 0,\n            now: c.online && _this.props.connected,\n            acs: c.acs,\n            showMode: _this.props.showMode,\n            badges: badges,\n            showCheckmark: showCheckmark,\n            selected: selected,\n            showOnline: _this.props.showOnline,\n            onSelected: _this.props.onTopicSelected,\n            showContextMenu: _this.props.showContextMenu,\n            item: key,\n            index: contactNodes.length,\n            key: key\n          }));\n        }, this);\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: this.props.noScroll ? null : \"scrollable-panel\"\n      }, contactNodes.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n        className: \"contact-box\"\n      }, contactNodes) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"center-medium-text\"\n      }, this.props.emptyListMessage));\n    }\n  }]);\n\n  return ContactList;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(ContactList));\n\n//# sourceURL=webpack:///./src/widgets/contact-list.jsx?");

/***/ }),

/***/ "./src/widgets/contact.jsx":
/*!*********************************!*\
  !*** ./src/widgets/contact.jsx ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Contact; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _letter_tile_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./letter-tile.jsx */ \"./src/widgets/letter-tile.jsx\");\n/* harmony import */ var _contact_badges_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contact-badges.jsx */ \"./src/widgets/contact-badges.jsx\");\n/* harmony import */ var _unread_badge_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./unread-badge.jsx */ \"./src/widgets/unread-badge.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\nvar Contact = function (_React$Component) {\n  _inherits(Contact, _React$Component);\n\n  function Contact(props) {\n    var _this;\n\n    _classCallCheck(this, Contact);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Contact).call(this, props));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleContextClick = _this.handleContextClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Contact, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (this.props.onSelected) {\n        this.props.onSelected(this.props.item, this.props.index, this.props.now, this.props.acs);\n      }\n    }\n  }, {\n    key: \"handleContextClick\",\n    value: function handleContextClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.showContextMenu({\n        topicName: this.props.item,\n        y: e.pageY,\n        x: e.pageX\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var title = this.props.title;\n\n      if (!title) {\n        title = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n          id: \"unnamed_topic\"\n        }));\n      } else if (title.length > 30) {\n        title = title.substring(0, 28) + '...';\n      }\n\n      var online = this.props.now ? 'online' : 'offline';\n      var avatar = this.props.avatar ? this.props.avatar : true;\n      var badges = this.props.badges.slice();\n\n      if (this.props.showMode && this.props.acs) {\n        badges.push({\n          name: this.props.acs.getMode(),\n          key: 'mode'\n        });\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n        className: !this.props.showCheckmark && this.props.selected ? \"selected\" : null,\n        onClick: this.handleClick\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"avatar-box\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_letter_tile_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        avatar: avatar,\n        title: this.props.title,\n        topic: this.props.item\n      }), this.props.showOnline ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: online\n      }) : this.props.showCheckmark && this.props.selected ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"checkmark material-icons\"\n      }, \"check_circle\") : null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"text-box\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"contact-title\"\n      }, title), this.props.unread > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_unread_badge_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        count: this.props.unread\n      }) : null), this.props.comment ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"contact-comment\"\n      }, this.props.comment) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contact_badges_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        badges: badges\n      })), this.props.showContextMenu ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"menuTrigger\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.handleContextClick\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"expand_more\"))) : null);\n    }\n  }]);\n\n  return Contact;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/contact.jsx?");

/***/ }),

/***/ "./src/widgets/context-menu.jsx":
/*!**************************************!*\
  !*** ./src/widgets/context-menu.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"defineMessages\"])({\n  info: {\n    \"id\": \"menu_item_info\",\n    \"defaultMessage\": \"Info\"\n  },\n  clear_messages: {\n    \"id\": \"menu_item_clear_messages\",\n    \"defaultMessage\": \"Clear messages\"\n  },\n  clear_for_all: {\n    \"id\": \"menu_item_clear_messages_for_all\",\n    \"defaultMessage\": \"Clear for All\"\n  },\n  'delete': {\n    \"id\": \"menu_item_delete\",\n    \"defaultMessage\": \"Delete\"\n  },\n  delete_for_all: {\n    \"id\": \"menu_item_delete_for_all\",\n    \"defaultMessage\": \"Delete for All\"\n  },\n  mute: {\n    \"id\": \"menu_item_mute\",\n    \"defaultMessage\": \"Mute\"\n  },\n  unmute: {\n    \"id\": \"menu_item_unmute\",\n    \"defaultMessage\": \"Unmute\"\n  },\n  topic_delete: {\n    \"id\": \"menu_item_delete_topic\",\n    \"defaultMessage\": \"Delete\"\n  },\n  unblock: {\n    \"id\": \"menu_item_unblock\",\n    \"defaultMessage\": \"Unblock\"\n  },\n  block: {\n    \"id\": \"menu_item_block\",\n    \"defaultMessage\": \"Block\"\n  },\n  member_delete: {\n    \"id\": \"menu_item_member_delete\",\n    \"defaultMessage\": \"Remove\"\n  }\n});\n\nvar ContextMenu = function (_React$Component) {\n  _inherits(ContextMenu, _React$Component);\n\n  function ContextMenu(props) {\n    var _this;\n\n    _classCallCheck(this, ContextMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContextMenu).call(this, props));\n    var formatMessage = props.intl.formatMessage;\n    _this.handlePageClick = _this.handlePageClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEscapeKey = _this.handleEscapeKey.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.MenuItems = {\n      'topic_info': {\n        title: formatMessage(messages.info),\n        handler: null\n      },\n      'messages_clear': {\n        title: formatMessage(messages.clear_messages),\n        handler: function handler(params, errorHandler) {\n          _this.deleteMessages(true, false, params, errorHandler);\n        }\n      },\n      'messages_clear_hard': {\n        title: formatMessage(messages.clear_for_all),\n        handler: function handler(params, errorHandler) {\n          _this.deleteMessages(true, true, params, errorHandler);\n        }\n      },\n      'message_delete': {\n        title: formatMessage(messages.delete),\n        handler: function handler(params, errorHandler) {\n          _this.deleteMessages(false, false, params, errorHandler);\n        }\n      },\n      'message_delete_hard': {\n        title: formatMessage(messages.delete_for_all),\n        handler: function handler(params, errorHandler) {\n          _this.deleteMessages(false, true, params, errorHandler);\n        }\n      },\n      'topic_unmute': {\n        title: formatMessage(messages.unmute),\n        handler: _this.topicPermissionSetter.bind(_assertThisInitialized(_assertThisInitialized(_this)), '+P')\n      },\n      'topic_mute': {\n        title: formatMessage(messages.mute),\n        handler: _this.topicPermissionSetter.bind(_assertThisInitialized(_assertThisInitialized(_this)), '-P')\n      },\n      'topic_unblock': {\n        title: formatMessage(messages.unblock),\n        handler: _this.topicPermissionSetter.bind(_assertThisInitialized(_assertThisInitialized(_this)), '+J')\n      },\n      'topic_block': {\n        title: formatMessage(messages.block),\n        handler: _this.topicPermissionSetter.bind(_assertThisInitialized(_assertThisInitialized(_this)), '-J')\n      },\n      'topic_delete': {\n        title: formatMessage(messages.topic_delete),\n        handler: function handler(params, errorHandler) {\n          var topic = _this.props.tinode.getTopic(params.topicName);\n\n          if (!topic) {\n            console.log(\"Topic not found: \", params.topicName);\n            return;\n          }\n\n          topic.delTopic().catch(function (err) {\n            if (errorHandler) {\n              errorHandler(err.message, 'err');\n            }\n          });\n        }\n      },\n      'permissions': {\n        title: formatMessage({\n          id: 'menu_item_edit_permissions'\n        }),\n        handler: null\n      },\n      'member_delete': {\n        title: formatMessage(messages.member_delete),\n        handler: function handler(params, errorHandler) {\n          var topic = _this.props.tinode.getTopic(params.topicName);\n\n          if (!topic || !params.user) {\n            console.log(\"Topic or user not found: '\" + params.topicName + \"', '\" + params.user + \"'\");\n            return;\n          }\n\n          topic.delSubscription(params.user).catch(function (err) {\n            if (errorHandler) {\n              errorHandler(err.message, 'err');\n            }\n          });\n        }\n      },\n      'member_mute': {\n        title: formatMessage(messages.mute),\n        handler: _this.topicPermissionSetter.bind(_assertThisInitialized(_assertThisInitialized(_this)), '-P')\n      },\n      'member_unmute': {\n        title: formatMessage(messages.unmute),\n        handler: _this.topicPermissionSetter.bind(_assertThisInitialized(_assertThisInitialized(_this)), '+P')\n      },\n      'member_block': {\n        title: formatMessage(messages.block),\n        handler: _this.topicPermissionSetter.bind(_assertThisInitialized(_assertThisInitialized(_this)), '-J')\n      },\n      'member_unblock': {\n        title: formatMessage(messages.unblock),\n        handler: _this.topicPermissionSetter.bind(_assertThisInitialized(_assertThisInitialized(_this)), '+J')\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('mousedown', this.handlePageClick, false);\n      document.addEventListener('keyup', this.handleEscapeKey, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousedown', this.handlePageClick, false);\n      document.removeEventListener('keyup', this.handleEscapeKey, false);\n    }\n  }, {\n    key: \"handlePageClick\",\n    value: function handlePageClick(e) {\n      if (react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this).contains(e.target)) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.hide();\n    }\n  }, {\n    key: \"handleEscapeKey\",\n    value: function handleEscapeKey(e) {\n      if (e.keyCode === 27) {\n        this.props.hide();\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.hide();\n      var item = this.props.items[e.currentTarget.dataset.id];\n\n      if (typeof item == 'string') {\n        item = this.MenuItems[item];\n      }\n\n      item.handler(this.props.params, this.props.onError);\n    }\n  }, {\n    key: \"deleteMessages\",\n    value: function deleteMessages(all, hard, params, errorHandler) {\n      var topic = this.props.tinode.getTopic(params.topicName);\n\n      if (!topic) {\n        console.log(\"Topic not found: \", params.topicName);\n        return;\n      }\n\n      if (topic.cancelSend(params.seq)) {\n        return Promise.resolve();\n      }\n\n      var promise = all ? topic.delMessagesAll(hard) : topic.delMessagesList([params.seq], hard);\n      promise.catch(function (err) {\n        if (errorHandler) {\n          errorHandler(err.message, 'err');\n        }\n      });\n    }\n  }, {\n    key: \"topicPermissionSetter\",\n    value: function topicPermissionSetter(mode, params, errorHandler) {\n      var topic = this.props.tinode.getTopic(params.topicName);\n\n      if (!topic) {\n        console.log(\"Topic not found\", params.topicName);\n        return;\n      }\n\n      var am, user;\n\n      if (params.user) {\n        user = topic.subscriber(params.user);\n\n        if (!user) {\n          console.log(\"Subscriber not found\", params.topicName + \"[\" + params.user + \"]\");\n          return;\n        }\n\n        am = user.acs.updateGiven(mode).getGiven();\n      } else {\n        am = topic.getAccessMode().updateWant(mode).getWant();\n      }\n\n      topic.setMeta({\n        sub: {\n          user: params.user,\n          mode: am\n        }\n      }).catch(function (err) {\n        if (errorHandler) {\n          errorHandler(err.message, 'err');\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var count = 0;\n      var menu = [];\n      this.props.items.map(function (item) {\n        if (typeof item == 'string') {\n          item = _this2.MenuItems[item];\n        }\n\n        if (item && item.title) {\n          menu.push(item.title == '-' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n            className: \"separator\",\n            key: count\n          }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n            onClick: _this2.handleClick,\n            \"data-id\": count,\n            key: count\n          }, item.title));\n        }\n\n        count++;\n      });\n      var hSize = 12 * _config_js__WEBPACK_IMPORTED_MODULE_3__[\"REM_SIZE\"];\n      var vSize = _config_js__WEBPACK_IMPORTED_MODULE_3__[\"REM_SIZE\"] * (0.7 + menu.length * 2.5);\n      var left = this.props.bounds.right - this.props.clickAt.x < hSize ? this.props.clickAt.x - this.props.bounds.left - hSize : this.props.clickAt.x - this.props.bounds.left;\n      var top = this.props.bounds.bottom - this.props.clickAt.y < vSize ? this.props.clickAt.y - this.props.bounds.top - vSize : this.props.clickAt.y - this.props.bounds.top;\n      var position = {\n        left: left + 'px',\n        top: top + 'px'\n      };\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n        className: \"menu\",\n        style: position\n      }, menu);\n    }\n  }]);\n\n  return ContextMenu;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"injectIntl\"])(ContextMenu));\n\n//# sourceURL=webpack:///./src/widgets/context-menu.jsx?");

/***/ }),

/***/ "./src/widgets/error-panel.jsx":
/*!*************************************!*\
  !*** ./src/widgets/error-panel.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ErrorPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _menu_cancel_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-cancel.jsx */ \"./src/widgets/menu-cancel.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\nvar ErrorPanel = function (_React$PureComponent) {\n  _inherits(ErrorPanel, _React$PureComponent);\n\n  function ErrorPanel(props) {\n    var _this;\n\n    _classCallCheck(this, ErrorPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorPanel).call(this, props));\n    _this.state = {\n      show: false\n    };\n    _this.hide = _this.hide.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ErrorPanel, [{\n    key: \"hide\",\n    value: function hide() {\n      this.setState({\n        show: false\n      });\n\n      if (this.props.onClearError) {\n        this.props.onClearError();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var icon = this.props.level == 'err' ? 'error' : 'warning';\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: this.state.show ? this.props.level == 'err' ? 'alert-box error' : 'alert-box warning' : \"alert-box\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"icon\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, icon)), this.props.text, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cancel\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_menu_cancel_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        onCancel: this.hide\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      return {\n        show: !!nextProps.level\n      };\n    }\n  }]);\n\n  return ErrorPanel;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/error-panel.jsx?");

/***/ }),

/***/ "./src/widgets/file-progress.jsx":
/*!***************************************!*\
  !*** ./src/widgets/file-progress.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FileProgress; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\nvar FileProgress = function (_React$PureComponent) {\n  _inherits(FileProgress, _React$PureComponent);\n\n  function FileProgress() {\n    _classCallCheck(this, FileProgress);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileProgress).apply(this, arguments));\n  }\n\n  _createClass(FileProgress, [{\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"uploader\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        style: {\n          width: this.props.progress * 100 + \"%\"\n        }\n      })), this.props.progress < 0.999 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.props.onCancel\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"close\"), \" \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"action_cancel\",\n        defaultMessage: \"cancel\"\n      })) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"upload_finishing\",\n        defaultMessage: \"finishing...\"\n      }));\n    }\n  }]);\n\n  return FileProgress;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/widgets/file-progress.jsx?");

/***/ }),

/***/ "./src/widgets/group-manager.jsx":
/*!***************************************!*\
  !*** ./src/widgets/group-manager.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chip_input_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chip-input.jsx */ \"./src/widgets/chip-input.jsx\");\n/* harmony import */ var _contact_list_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contact-list.jsx */ \"./src/widgets/contact-list.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  no_contacts: {\n    \"id\": \"no_contacts\",\n    \"defaultMessage\": \"You have no contacts :-(\"\n  },\n  contacts_not_found: {\n    \"id\": \"contacts_not_found_short\",\n    \"defaultMessage\": \"No contacts match '{query}'\"\n  }\n});\n\nvar GroupManager = function (_React$Component) {\n  _inherits(GroupManager, _React$Component);\n\n  function GroupManager(props) {\n    var _this;\n\n    _classCallCheck(this, GroupManager);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GroupManager).call(this, props));\n    _this.state = {\n      members: props.members,\n      index: GroupManager.indexMembers(props.members),\n      contactFilter: '',\n      noContactsMessage: props.intl.formatMessage(messages.no_contacts),\n      selectedContacts: GroupManager.selectedContacts(props.members)\n    };\n    _this.handleContactSelected = _this.handleContactSelected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMemberRemoved = _this.handleMemberRemoved.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleContactFilter = _this.handleContactFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(GroupManager, [{\n    key: \"handleContactSelected\",\n    value: function handleContactSelected(userId, index) {\n      var status = this.state.index[userId];\n\n      if (status) {\n        if (status.present) {\n          return;\n        }\n\n        status.delta += 1;\n        status.present = true;\n      } else {\n        status = {\n          delta: 1,\n          present: true\n        };\n      }\n\n      var m = this.state.members.slice();\n      m.push(this.props.contacts[index]);\n      var sel = GroupManager.selectedContacts(m);\n      var i = this.state.index;\n      i[userId] = status;\n      this.setState({\n        members: m,\n        index: i,\n        selectedContacts: sel\n      });\n    }\n  }, {\n    key: \"handleMemberRemoved\",\n    value: function handleMemberRemoved(userId, index) {\n      var status = this.state.index[userId];\n\n      if (!status || !status.present) {\n        return;\n      }\n\n      status.present = false;\n      status.delta -= 1;\n      var m = this.state.members.slice();\n      m.splice(index, 1);\n      var sel = GroupManager.selectedContacts(m);\n      var i = this.state.index;\n      i[userId] = status;\n      this.setState({\n        members: m,\n        index: i,\n        selectedContacts: sel\n      });\n    }\n  }, {\n    key: \"handleContactFilter\",\n    value: function handleContactFilter(val) {\n      var formatMessage = this.props.intl.formatMessage;\n      var msg = !val ? formatMessage(messages.no_contacts) : formatMessage(messages.contacts_not_found, {\n        query: val\n      });\n      this.setState({\n        contactFilter: val,\n        noContactsMessage: msg\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var instance = this;\n      var members = [];\n      var added = [];\n      var removed = [];\n      var keys = Object.keys(this.state.index);\n      keys.map(function (k) {\n        if (instance.state.index[k].present) {\n          members.push(k);\n        }\n\n        if (instance.state.index[k].delta > 0) {\n          added.push(k);\n        } else if (instance.state.index[k].delta < 0) {\n          removed.push(k);\n        }\n      });\n      this.props.onSubmit(members, added, removed);\n    }\n  }, {\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      this.props.onCancel();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"group-manager\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"title_group_members\",\n        defaultMessage: \"Group Members\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_chip_input_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        chips: this.state.members,\n        required: this.props.requiredMember,\n        prompt: \"add members\",\n        filterFunc: this.handleContactFilter,\n        onChipRemoved: this.handleMemberRemoved\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"title_all_contacts\",\n        defaultMessage: \"All Contacts\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contact_list_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        contacts: this.props.contacts,\n        myUserId: this.props.myUserId,\n        topicSelected: this.state.selectedContacts,\n        filter: this.state.contactFilter,\n        filterFunc: GroupManager.doContactFiltering,\n        emptyListMessage: this.state.noContactsMessage,\n        showOnline: false,\n        showUnread: false,\n        onTopicSelected: this.handleContactSelected\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"group-manager-buttons\",\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"blue\",\n        onClick: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_ok\",\n        defaultMessage: \"OK\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"white\",\n        onClick: this.handleCancel\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_cancel\",\n        defaultMessage: \"Cancel\"\n      }))));\n    }\n  }], [{\n    key: \"indexMembers\",\n    value: function indexMembers(members) {\n      var index = {};\n      members.map(function (m) {\n        index[m.user] = {\n          delta: 0,\n          present: true\n        };\n      });\n      return index;\n    }\n  }, {\n    key: \"selectedContacts\",\n    value: function selectedContacts(members) {\n      var sel = [];\n      members.map(function (m) {\n        sel.push(m.user);\n      });\n      return sel;\n    }\n  }, {\n    key: \"doContactFiltering\",\n    value: function doContactFiltering(filter, values) {\n      if (filter) {\n        for (var i = 0; i < values.length; i++) {\n          if (values[i].indexOf(filter) >= 0) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n\n      return true;\n    }\n  }]);\n\n  return GroupManager;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(GroupManager));\n\n//# sourceURL=webpack:///./src/widgets/group-manager.jsx?");

/***/ }),

/***/ "./src/widgets/group-subs.jsx":
/*!************************************!*\
  !*** ./src/widgets/group-subs.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GroupSubs; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _letter_tile_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./letter-tile.jsx */ \"./src/widgets/letter-tile.jsx\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar GroupSubs = function (_React$Component) {\n  _inherits(GroupSubs, _React$Component);\n\n  function GroupSubs(props) {\n    var _this;\n\n    _classCallCheck(this, GroupSubs);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GroupSubs).call(this, props));\n    _this.state = {\n      onlineSubs: props.subscribers || []\n    };\n    return _this;\n  }\n\n  _createClass(GroupSubs, [{\n    key: \"render\",\n    value: function render() {\n      var usersOnline = [];\n      this.state.onlineSubs.map(function (sub) {\n        usersOnline.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"avatar-box\",\n          key: sub.user\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_letter_tile_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n          topic: sub.user,\n          avatar: Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_2__[\"makeImageUrl\"])(sub.public ? sub.public.photo : null) || true,\n          title: sub.public ? sub.public.fn : null\n        })));\n      });\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"topic-users\"\n      }, usersOnline);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      return {\n        onlineSubs: nextProps.subscribers ? nextProps.subscribers : []\n      };\n    }\n  }]);\n\n  return GroupSubs;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/group-subs.jsx?");

/***/ }),

/***/ "./src/widgets/host-selector.jsx":
/*!***************************************!*\
  !*** ./src/widgets/host-selector.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return HostSelector; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\nvar HostSelector = function (_React$PureComponent) {\n  _inherits(HostSelector, _React$PureComponent);\n\n  function HostSelector(props) {\n    var _this;\n\n    _classCallCheck(this, HostSelector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HostSelector).call(this, props));\n    _this.state = {\n      hostName: props.serverAddress,\n      changed: false\n    };\n    _this.handleHostNameChange = _this.handleHostNameChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEditingFinished = _this.handleEditingFinished.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(HostSelector, [{\n    key: \"handleHostNameChange\",\n    value: function handleHostNameChange(e) {\n      this.setState({\n        hostName: e.target.value,\n        changed: true\n      });\n    }\n  }, {\n    key: \"handleEditingFinished\",\n    value: function handleEditingFinished() {\n      if (this.state.changed) {\n        this.setState({\n          changed: false\n        });\n        this.props.onServerAddressChange(this.state.hostName.trim());\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var hostOptions = [];\n\n      for (var key in _config_js__WEBPACK_IMPORTED_MODULE_1__[\"KNOWN_HOSTS\"]) {\n        var item = _config_js__WEBPACK_IMPORTED_MODULE_1__[\"KNOWN_HOSTS\"][key];\n        hostOptions.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"option\", {\n          key: item,\n          value: item\n        }));\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        type: \"search\",\n        id: \"host-name\",\n        placeholder: this.props.hostName,\n        list: \"known-hosts\",\n        className: \"quoted\",\n        value: this.state.hostName,\n        onChange: this.handleHostNameChange,\n        onBlur: this.handleEditingFinished,\n        required: true\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"datalist\", {\n        id: \"known-hosts\"\n      }, hostOptions));\n    }\n  }]);\n\n  return HostSelector;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/widgets/host-selector.jsx?");

/***/ }),

/***/ "./src/widgets/image-preview.jsx":
/*!***************************************!*\
  !*** ./src/widgets/image-preview.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ImagePreview; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\n/* harmony import */ var _lib_strformat_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/strformat.js */ \"./src/lib/strformat.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n\nvar ImagePreview = function (_React$PureComponent) {\n  _inherits(ImagePreview, _React$PureComponent);\n\n  function ImagePreview(props) {\n    var _this;\n\n    _classCallCheck(this, ImagePreview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImagePreview).call(this, props));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(ImagePreview, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        width: this.container.clientWidth,\n        height: this.container.clientHeight\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.content) {\n        return null;\n      }\n\n      var instance = this;\n      var dim = Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_3__[\"fitImageSize\"])(this.props.content.width, this.props.content.height, this.state.width, this.state.height, false);\n      var size = dim ? {\n        width: dim.dstWidth + 'px',\n        height: dim.dstHeight + 'px'\n      } : this.props.content.width > this.props.content.height ? {\n        width: '100%'\n      } : {\n        height: '100%'\n      };\n      size.maxWidth = '100%';\n      size.maxHeight = '100%';\n      var filename = this.props.content.filename;\n      var maxlength = this.props.content.width / _config_js__WEBPACK_IMPORTED_MODULE_2__[\"REM_SIZE\"] | 0;\n\n      if (filename.length > maxlength) {\n        filename = filename.slice(0, maxlength - 2) + '...' + filename.slice(2 - maxlength);\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"image-preview\",\n        onClick: this.props.onClose\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"image-preview-caption-panel\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: this.props.content.url,\n        download: this.props.content.filename\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"file_download\"), \" \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"download_action\",\n        defaultMessage: \"download\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.props.onClose\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons gray\"\n      }, \"close\"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"image-preview-container\",\n        ref: function ref(_ref) {\n          instance.container = _ref;\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n        src: this.props.content.url,\n        style: size\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"image-preview-footer\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_file_name\",\n        defaultMessage: \"File name:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        title: this.props.content.filename\n      }, filename))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_content_type\",\n        defaultMessage: \"Content type:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, this.props.content.type)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_size\",\n        defaultMessage: \"Size:\"\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, this.props.content.width, \" \\xD7 \", this.props.content.height, \" px; \", Object(_lib_strformat_js__WEBPACK_IMPORTED_MODULE_4__[\"bytesToHumanSize\"])(this.props.content.size)))));\n    }\n  }]);\n\n  return ImagePreview;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/image-preview.jsx?");

/***/ }),

/***/ "./src/widgets/in-place-edit.jsx":
/*!***************************************!*\
  !*** ./src/widgets/in-place-edit.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InPlaceEdit; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _visible_password_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./visible-password.jsx */ \"./src/widgets/visible-password.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\nvar InPlaceEdit = function (_React$Component) {\n  _inherits(InPlaceEdit, _React$Component);\n\n  function InPlaceEdit(props) {\n    var _this;\n\n    _classCallCheck(this, InPlaceEdit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InPlaceEdit).call(this, props));\n    _this.state = {\n      active: props.active,\n      initialValue: props.value || '',\n      value: props.value || ''\n    };\n    _this.handeTextChange = _this.handeTextChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStartEditing = _this.handleStartEditing.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEditingFinished = _this.handleEditingFinished.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordFinished = _this.handlePasswordFinished.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(InPlaceEdit, [{\n    key: \"handeTextChange\",\n    value: function handeTextChange(e) {\n      this.setState({\n        value: e.target.value\n      });\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      if (e.keyCode === 27) {\n        this.setState({\n          value: this.props.value,\n          active: false\n        });\n      } else if (e.keyCode === 13) {\n        this.handleEditingFinished();\n      }\n    }\n  }, {\n    key: \"handleStartEditing\",\n    value: function handleStartEditing() {\n      if (!this.props.readOnly) {\n        react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this).focus();\n        this.setState({\n          active: true\n        });\n      }\n    }\n  }, {\n    key: \"handleEditingFinished\",\n    value: function handleEditingFinished() {\n      this.setState({\n        active: false\n      });\n      var value = this.state.value.trim();\n\n      if ((value || this.props.value) && value !== this.props.value) {\n        this.props.onFinished(value);\n      }\n    }\n  }, {\n    key: \"handlePasswordFinished\",\n    value: function handlePasswordFinished(value) {\n      this.setState({\n        active: false\n      });\n\n      if (value && value !== this.props.value) {\n        this.props.onFinished(value);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.active) {\n        var fieldType = this.props.type || 'text';\n      } else {\n        var spanText = this.props.type == 'password' ? '••••••••' : this.state.value;\n        var spanClass = 'in-place-edit' + (this.props.readOnly ? ' disabled' : '');\n\n        if (!spanText) {\n          spanText = this.props.placeholder;\n          spanClass += ' placeholder';\n        }\n\n        if (spanText.length > 20) {\n          spanText = spanText.substring(0, 19) + '...';\n        }\n      }\n\n      return this.state.active ? fieldType == 'password' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_visible_password_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        value: this.state.value,\n        placeholder: this.props.placeholder,\n        required: this.props.required ? 'required' : '',\n        autoComplete: this.props.autoComplete,\n        autoFocus: true,\n        onFinished: this.handlePasswordFinished\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        type: fieldType,\n        value: this.state.value,\n        placeholder: this.props.placeholder,\n        required: this.props.required ? 'required' : '',\n        autoComplete: this.props.autoComplete,\n        autoFocus: true,\n        onChange: this.handeTextChange,\n        onKeyDown: this.handleKeyDown,\n        onBlur: this.handleEditingFinished\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: spanClass,\n        onClick: this.handleStartEditing\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"content\"\n      }, spanText));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (prevState.initialValue != nextProps.value && !prevState.active) {\n        return {\n          initialValue: nextProps.value || '',\n          value: nextProps.value || ''\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return InPlaceEdit;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/in-place-edit.jsx?");

/***/ }),

/***/ "./src/widgets/letter-tile.jsx":
/*!*************************************!*\
  !*** ./src/widgets/letter-tile.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LetterTile; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_strformat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/strformat.js */ \"./src/lib/strformat.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar LetterTile = function (_React$PureComponent) {\n  _inherits(LetterTile, _React$PureComponent);\n\n  function LetterTile() {\n    _classCallCheck(this, LetterTile);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LetterTile).apply(this, arguments));\n  }\n\n  _createClass(LetterTile, [{\n    key: \"render\",\n    value: function render() {\n      var avatar;\n\n      if (this.props.avatar === true) {\n        if (this.props.topic && this.props.title && this.props.title.trim()) {\n          var letter = this.props.title.trim().charAt(0);\n          var color = \"lettertile dark-color\" + Math.abs(Object(_lib_strformat_js__WEBPACK_IMPORTED_MODULE_2__[\"stringHash\"])(this.props.topic)) % 16;\n          avatar = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n            className: color\n          }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, letter));\n        } else {\n          avatar = tinode_sdk__WEBPACK_IMPORTED_MODULE_1___default.a.topicType(this.props.topic) == 'grp' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n            className: \"material-icons\"\n          }, \"group\") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n            className: \"material-icons\"\n          }, \"person\");\n        }\n      } else if (this.props.avatar) {\n        avatar = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n          className: \"avatar\",\n          alt: \"avatar\",\n          src: this.props.avatar\n        });\n      } else {\n        avatar = null;\n      }\n\n      return avatar;\n    }\n  }]);\n\n  return LetterTile;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/widgets/letter-tile.jsx?");

/***/ }),

/***/ "./src/widgets/load-spinner.jsx":
/*!**************************************!*\
  !*** ./src/widgets/load-spinner.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LoadSpinner; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\nvar LoadSpinner = function (_React$PureComponent) {\n  _inherits(LoadSpinner, _React$PureComponent);\n\n  function LoadSpinner() {\n    _classCallCheck(this, LoadSpinner);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LoadSpinner).apply(this, arguments));\n  }\n\n  _createClass(LoadSpinner, [{\n    key: \"render\",\n    value: function render() {\n      return this.props.show ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"load-spinner-box\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"loader-spinner\"\n      })) : null;\n    }\n  }]);\n\n  return LoadSpinner;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/widgets/load-spinner.jsx?");

/***/ }),

/***/ "./src/widgets/menu-cancel.jsx":
/*!*************************************!*\
  !*** ./src/widgets/menu-cancel.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MenuCancel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\nvar MenuCancel = function (_React$PureComponent) {\n  _inherits(MenuCancel, _React$PureComponent);\n\n  function MenuCancel(props) {\n    _classCallCheck(this, MenuCancel);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MenuCancel).call(this, props));\n  }\n\n  _createClass(MenuCancel, [{\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.props.onCancel\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"close\"));\n    }\n  }]);\n\n  return MenuCancel;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/widgets/menu-cancel.jsx?");

/***/ }),

/***/ "./src/widgets/menu-contacts.jsx":
/*!***************************************!*\
  !*** ./src/widgets/menu-contacts.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MenuContacts; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\nvar MenuContacts = function (_React$PureComponent) {\n  _inherits(MenuContacts, _React$PureComponent);\n\n  function MenuContacts() {\n    _classCallCheck(this, MenuContacts);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MenuContacts).apply(this, arguments));\n  }\n\n  _createClass(MenuContacts, [{\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.props.onNewTopic\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"chat\")), \"\\xA0\", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.props.onSettings\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"settings\")));\n    }\n  }]);\n\n  return MenuContacts;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/menu-contacts.jsx?");

/***/ }),

/***/ "./src/widgets/menu-start.jsx":
/*!************************************!*\
  !*** ./src/widgets/menu-start.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MenuStart; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\nvar MenuStart = function (_React$PureComponent) {\n  _inherits(MenuStart, _React$PureComponent);\n\n  function MenuStart() {\n    _classCallCheck(this, MenuStart);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MenuStart).apply(this, arguments));\n  }\n\n  _createClass(MenuStart, [{\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.props.onSignUp\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"person_add\")), \"\\xA0\", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.props.onSettings\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"settings\")));\n    }\n  }]);\n\n  return MenuStart;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/menu-start.jsx?");

/***/ }),

/***/ "./src/widgets/more-button.jsx":
/*!*************************************!*\
  !*** ./src/widgets/more-button.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MoreButton; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\nvar MoreButton = function (_React$PureComponent) {\n  _inherits(MoreButton, _React$PureComponent);\n\n  function MoreButton(props) {\n    var _this;\n\n    _classCallCheck(this, MoreButton);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MoreButton).call(this, props));\n    _this.state = {\n      open: props.open\n    };\n    _this.handleToggle = _this.handleToggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MoreButton, [{\n    key: \"handleToggle\",\n    value: function handleToggle() {\n      var open = !this.state.open;\n      this.setState({\n        open: open\n      });\n\n      if (this.props.onToggle) {\n        this.props.onToggle(open);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\",\n        onClick: this.handleToggle\n      }, this.props.title, \"...\", this.state.open ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"expand_more\") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"chevron_right\"));\n    }\n  }]);\n\n  return MoreButton;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/widgets/more-button.jsx?");

/***/ }),

/***/ "./src/widgets/new-topic-by-id.jsx":
/*!*****************************************!*\
  !*** ./src/widgets/new-topic-by-id.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  invalid_id: {\n    \"id\": \"error_invalid_id\",\n    \"defaultMessage\": \"Invalid ID\"\n  }\n});\n\nvar NewTopicById = function (_React$PureComponent) {\n  _inherits(NewTopicById, _React$PureComponent);\n\n  function NewTopicById(props) {\n    var _this;\n\n    _classCallCheck(this, NewTopicById);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewTopicById).call(this, props));\n    _this.state = {\n      groupId: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyPress = _this.handleKeyPress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(NewTopicById, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState({\n        groupId: e.target.value\n      });\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(e) {\n      if (e.key === 'Enter') {\n        this.handleSubmit(e);\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n\n      if (this.state.groupId) {\n        var name = this.state.groupId.trim();\n\n        if (name.length > 3 && (name.substr(0, 3) == 'usr' || name.substr(0, 3) == 'grp')) {\n          this.props.onSubmit(name);\n        } else {\n          this.props.onError(this.props.intl.formatMessage(messages.invalid_id), 'err');\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"group_user_id_prompt\",\n        defaultMessage: \"Group or User ID\"\n      }, function (prompt) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"text\",\n          placeholder: prompt,\n          value: _this2.state.groupId,\n          onChange: _this2.handleChange,\n          onKeyPress: _this2.handleKeyPress,\n          required: true\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dialog-buttons\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"blue\",\n        onClick: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_subscribe\",\n        defaultMessage: \"Subscribe\"\n      }))));\n    }\n  }]);\n\n  return NewTopicById;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(NewTopicById));\n\n//# sourceURL=webpack:///./src/widgets/new-topic-by-id.jsx?");

/***/ }),

/***/ "./src/widgets/new-topic-group.jsx":
/*!*****************************************!*\
  !*** ./src/widgets/new-topic-group.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NewTopicGroup; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _avatar_upload_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./avatar-upload.jsx */ \"./src/widgets/avatar-upload.jsx\");\n/* harmony import */ var _tag_manager_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tag-manager.jsx */ \"./src/widgets/tag-manager.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\nvar NewTopicGroup = function (_React$PureComponent) {\n  _inherits(NewTopicGroup, _React$PureComponent);\n\n  function NewTopicGroup(props) {\n    var _this;\n\n    _classCallCheck(this, NewTopicGroup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewTopicGroup).call(this, props));\n    _this.state = {\n      fn: '',\n      private: '',\n      imageDataUrl: null,\n      tags: []\n    };\n    _this.handleFnChange = _this.handleFnChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePrivateChange = _this.handlePrivateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleImageChanged = _this.handleImageChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTagsChanged = _this.handleTagsChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTagsChanged = _this.handleTagsChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(NewTopicGroup, [{\n    key: \"handleFnChange\",\n    value: function handleFnChange(e) {\n      this.setState({\n        fn: e.target.value\n      });\n    }\n  }, {\n    key: \"handlePrivateChange\",\n    value: function handlePrivateChange(e) {\n      this.setState({\n        private: e.target.value\n      });\n    }\n  }, {\n    key: \"handleImageChanged\",\n    value: function handleImageChanged(img) {\n      this.setState({\n        imageDataUrl: img\n      });\n    }\n  }, {\n    key: \"handleTagsChanged\",\n    value: function handleTagsChanged(tags) {\n      this.setState({\n        tags: tags\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n\n      if (this.state.fn && this.state.fn.trim()) {\n        this.props.onSubmit(this.state.fn.trim(), this.state.imageDataUrl, this.state.private.trim(), this.state.tags);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var submitClasses = 'blue';\n\n      if (this.props.disabled) {\n        submitClasses += ' disabled';\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n        className: \"panel-form\",\n        onSubmit: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\",\n        htmlFor: \"new-topic-fn\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_topic_name\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"topic_name_editing_placeholder\",\n        defaultMessage: \"Freeform name of the group\"\n      }, function (placeholder) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"text\",\n          id: \"new-topic-fn\",\n          placeholder: placeholder,\n          value: _this2.state.fn,\n          onChange: _this2.handleFnChange,\n          autoFocus: true,\n          required: true\n        });\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\",\n        htmlFor: \"new-topic-priv\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"label_private\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"private_editing_placeholder\"\n      }, function (placeholder) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          type: \"text\",\n          id: \"new-topic-priv\",\n          placeholder: placeholder,\n          value: _this2.state.private,\n          onChange: _this2.handlePrivateChange\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_avatar_upload_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        onError: this.props.onError,\n        onImageChanged: this.handleImageChanged\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"title_tag_manager\"\n      }, function (title) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_tag_manager_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n          tags: _this2.state.tags,\n          activated: true,\n          onTagsChanged: _this2.handleTagsChanged,\n          title: title\n        });\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dialog-buttons\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: submitClasses\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_create\",\n        defaultMessage: \"Create\"\n      }))));\n    }\n  }]);\n\n  return NewTopicGroup;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/new-topic-group.jsx?");

/***/ }),

/***/ "./src/widgets/permissions-editor.jsx":
/*!********************************************!*\
  !*** ./src/widgets/permissions-editor.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _checkbox_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checkbox.jsx */ \"./src/widgets/checkbox.jsx\");\n/* harmony import */ var _contact_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contact.jsx */ \"./src/widgets/contact.jsx\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  'joiner': {\n    \"id\": \"permission_join\",\n    \"defaultMessage\": \"Join ({val})\"\n  },\n  'reader': {\n    \"id\": \"permission_read\",\n    \"defaultMessage\": \"Read ({val})\"\n  },\n  'writer': {\n    \"id\": \"permission_write\",\n    \"defaultMessage\": \"Write ({val})\"\n  },\n  'preser': {\n    \"id\": \"permission_pres\",\n    \"defaultMessage\": \"Get notified ({val})\"\n  },\n  'approver': {\n    \"id\": \"permission_admin\",\n    \"defaultMessage\": \"Approve ({val})\"\n  },\n  'sharer': {\n    \"id\": \"permission_share\",\n    \"defaultMessage\": \"Share ({val})\"\n  },\n  'deleter': {\n    \"id\": \"permission_delete\",\n    \"defaultMessage\": \"Delete ({val})\"\n  },\n  'owner': {\n    \"id\": \"permission_owner\",\n    \"defaultMessage\": \"Owner ({val})\"\n  }\n});\n\nvar PermissionsEditor = function (_React$Component) {\n  _inherits(PermissionsEditor, _React$Component);\n\n  function PermissionsEditor(props) {\n    var _this;\n\n    _classCallCheck(this, PermissionsEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PermissionsEditor).call(this, props));\n    _this.state = {\n      mode: (props.mode || '').replace('N', '')\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PermissionsEditor, [{\n    key: \"handleChange\",\n    value: function handleChange(val) {\n      var mode = this.state.mode;\n      var idx = mode.indexOf(val);\n\n      if (idx == -1) {\n        mode += val;\n      } else {\n        mode = mode.replace(val, '');\n      }\n\n      this.setState({\n        mode: mode\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var mode = (this.state.mode || 'N').split('').sort().join('');\n      var before = (this.props.mode || 'N').split('').sort().join('');\n\n      if (mode !== before) {\n        this.props.onSubmit(mode);\n      } else {\n        this.props.onCancel();\n      }\n    }\n  }, {\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      this.props.onCancel();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      var all = 'JRWPASDO';\n      var names = {\n        'J': formatMessage(messages.joiner, {\n          val: 'J'\n        }),\n        'R': formatMessage(messages.reader, {\n          val: 'R'\n        }),\n        'W': formatMessage(messages.writer, {\n          val: 'W'\n        }),\n        'P': formatMessage(messages.preser, {\n          val: 'P'\n        }),\n        'A': formatMessage(messages.approver, {\n          val: 'A'\n        }),\n        'S': formatMessage(messages.sharer, {\n          val: 'S'\n        }),\n        'D': formatMessage(messages.deleter, {\n          val: 'D'\n        }),\n        'O': formatMessage(messages.owner, {\n          val: 'O'\n        })\n      };\n      var skip = this.props.skip || '';\n      var mode = this.state.mode;\n      var compare = (this.props.compare || '').replace('N', '');\n      var items = [];\n\n      for (var i = 0; i < all.length; i++) {\n        var c = all.charAt(i);\n\n        if (skip.indexOf(c) >= 0 && mode.indexOf(c) < 0) {\n          continue;\n        }\n\n        items.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", {\n          key: c\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, names[c]), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n          className: \"checkbox\"\n        }, skip.indexOf(c) < 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_checkbox_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n          name: c,\n          checked: mode.indexOf(c) >= 0,\n          onChange: this.handleChange\n        }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_checkbox_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n          name: c,\n          checked: mode.indexOf(c) >= 0\n        })), this.props.compare ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n          className: \"checkbox\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_checkbox_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n          name: c,\n          checked: compare.indexOf(c) >= 0\n        })) : null));\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, this.props.userTitle ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n        className: \"contact-box\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contact_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        item: this.props.item,\n        title: this.props.userTitle,\n        avatar: Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_4__[\"makeImageUrl\"])(this.props.userAvatar ? this.props.userAvatar : null)\n      })) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"title_permissions\",\n        defaultMessage: \"Permissions\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"table\", {\n        className: \"permission-editor\"\n      }, this.props.compare ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, this.props.modeTitle), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, this.props.compareTitle))) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, items)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dialog-buttons\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"blue\",\n        onClick: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_ok\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"white\",\n        onClick: this.handleCancel\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_cancel\"\n      }))));\n    }\n  }]);\n\n  return PermissionsEditor;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(PermissionsEditor));\n\n//# sourceURL=webpack:///./src/widgets/permissions-editor.jsx?");

/***/ }),

/***/ "./src/widgets/received-marker.jsx":
/*!*****************************************!*\
  !*** ./src/widgets/received-marker.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_strformat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/strformat.js */ \"./src/lib/strformat.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  'sending': {\n    \"id\": \"message_sending\",\n    \"defaultMessage\": \"sending...\"\n  },\n  'failed': {\n    \"id\": \"message_sending_failed\",\n    \"defaultMessage\": \"failed\"\n  }\n});\n\nvar ReceivedMarker = function (_React$PureComponent) {\n  _inherits(ReceivedMarker, _React$PureComponent);\n\n  function ReceivedMarker() {\n    _classCallCheck(this, ReceivedMarker);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ReceivedMarker).apply(this, arguments));\n  }\n\n  _createClass(ReceivedMarker, [{\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      var timestamp;\n\n      if (this.props.received <= tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.MESSAGE_STATUS_SENDING) {\n        timestamp = formatMessage(messages.sending);\n      } else if (this.props.received == tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.MESSAGE_STATUS_FAILED) {\n        timestamp = formatMessage(messages.failed);\n      } else {\n        timestamp = Object(_lib_strformat_js__WEBPACK_IMPORTED_MODULE_3__[\"shortDateFormat\"])(this.props.timestamp);\n      }\n\n      var marker = null;\n\n      if (this.props.received <= tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.MESSAGE_STATUS_SENDING) {\n        marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"material-icons small\"\n        }, \"access_time\");\n      } else if (this.props.received == tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.MESSAGE_STATUS_FAILED) {\n        marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"material-icons small red\"\n        }, \"error_outline\");\n      } else if (this.props.received == tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.MESSAGE_STATUS_SENT) {\n        marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"material-icons small\"\n        }, \"done\");\n      } else if (this.props.received == tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.MESSAGE_STATUS_RECEIVED) {\n        marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"material-icons small\"\n        }, \"done_all\");\n      } else if (this.props.received == tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.MESSAGE_STATUS_READ) {\n        marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"material-icons small blue\"\n        }, \"done_all\");\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"timestamp\"\n      }, timestamp, \"\\xA0\", marker);\n    }\n  }]);\n\n  return ReceivedMarker;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(ReceivedMarker));\n\n//# sourceURL=webpack:///./src/widgets/received-marker.jsx?");

/***/ }),

/***/ "./src/widgets/search-contacts.jsx":
/*!*****************************************!*\
  !*** ./src/widgets/search-contacts.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SearchContacts; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\nvar SearchContacts = function (_React$PureComponent) {\n  _inherits(SearchContacts, _React$PureComponent);\n\n  function SearchContacts(props) {\n    var _this;\n\n    _classCallCheck(this, SearchContacts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchContacts).call(this, props));\n    _this.state = {\n      edited: false,\n      search: ''\n    };\n    _this.handleSearchChange = _this.handleSearchChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClear = _this.handleClear.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SearchContacts, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.edited) {\n        this.setState({\n          search: '',\n          edited: false\n        });\n        this.props.onSearchContacts(tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.DEL_CHAR);\n      }\n    }\n  }, {\n    key: \"handleSearchChange\",\n    value: function handleSearchChange(e) {\n      this.setState({\n        search: e.target.value\n      });\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      e.preventDefault();\n      var query = this.state.search.trim();\n      this.setState({\n        edited: query.length > 0\n      });\n      this.props.onSearchContacts(query.length > 0 ? query : tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.DEL_CHAR);\n    }\n  }, {\n    key: \"handleClear\",\n    value: function handleClear() {\n      if (this.state.edited) {\n        this.props.onSearchContacts(tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default.a.DEL_CHAR);\n      }\n\n      this.setState({\n        search: '',\n        edited: false\n      });\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      if (e.key === 'Enter') {\n        this.handleSearch(e);\n      } else if (e.key === 'Escape') {\n        this.handleClear();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons search\"\n      }, \"search\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"search_placeholder\",\n        defaultMessage: \"List like email:alice@example.com, tel:17025550003...\"\n      }, function (search_placeholder) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n          className: \"search\",\n          type: \"text\",\n          placeholder: search_placeholder,\n          value: _this2.state.search,\n          onChange: _this2.handleSearchChange,\n          onKeyDown: _this2.handleKeyDown,\n          required: true,\n          autoFocus: true\n        });\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.handleClear\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"close\"))));\n    }\n  }]);\n\n  return SearchContacts;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/search-contacts.jsx?");

/***/ }),

/***/ "./src/widgets/send-message.jsx":
/*!**************************************!*\
  !*** ./src/widgets/send-message.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinode-sdk */ \"../tinode-js/umd/tinode.prod.js\");\n/* harmony import */ var tinode_sdk__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\n/* harmony import */ var _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/blob-helpers.js */ \"./src/lib/blob-helpers.js\");\n/* harmony import */ var _lib_strformat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/strformat.js */ \"./src/lib/strformat.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  'messaging_disabled': {\n    \"id\": \"messaging_disabled_prompt\",\n    \"defaultMessage\": \"Messaging disabled\"\n  },\n  'type_new_message': {\n    \"id\": \"new_message_prompt\",\n    \"defaultMessage\": \"New message\"\n  },\n  'file_attachment_too_large': {\n    \"id\": \"file_attachment_too_large\",\n    \"defaultMessage\": \"The file size {size} exceeds the {limit} limit.\"\n  },\n  'cannot_initiate_upload': {\n    \"id\": \"cannot_initiate_file_upload\",\n    \"defaultMessage\": \"Cannot initiate file upload.\"\n  }\n});\n\nvar SendMessage = function (_React$PureComponent) {\n  _inherits(SendMessage, _React$PureComponent);\n\n  function SendMessage(props) {\n    var _this;\n\n    _classCallCheck(this, SendMessage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SendMessage).call(this, props));\n    _this.state = {\n      message: '',\n      keypressTimestamp: new Date().getTime() - _config_js__WEBPACK_IMPORTED_MODULE_3__[\"KEYPRESS_DELAY\"] - 1\n    };\n    _this.handlePasteEvent = _this.handlePasteEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAttachImage = _this.handleAttachImage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAttachFile = _this.handleAttachFile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSend = _this.handleSend.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyPress = _this.handleKeyPress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMessageTyping = _this.handleMessageTyping.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SendMessage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.pasteFile.addEventListener('paste', this.handlePasteEvent, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.pasteFile.removeEventListener('paste', this.handlePasteEvent, false);\n    }\n  }, {\n    key: \"handlePasteEvent\",\n    value: function handlePasteEvent(e) {\n      var _this2 = this;\n\n      if (this.props.disabled) {\n        return;\n      }\n\n      if (Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_4__[\"filePasted\"])(e, function (bits, mime, width, height, fname) {\n        _this2.props.sendMessage(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].insertImage(null, 0, mime, bits, width, height, fname));\n      }, function (mime, bits, fname) {\n        _this2.props.sendMessage(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].attachFile(null, mime, bits, fname));\n      }, this.props.onError)) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"handleAttachImage\",\n    value: function handleAttachImage(e) {\n      var _this3 = this;\n\n      if (e.target.files && e.target.files.length > 0) {\n        var file = e.target.files[0];\n\n        if (file.size > _config_js__WEBPACK_IMPORTED_MODULE_3__[\"MAX_INBAND_ATTACHMENT_SIZE\"] || _lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_4__[\"SUPPORTED_IMAGE_FORMATS\"].indexOf(file.type) < 0) {\n          Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_4__[\"imageFileScaledToBase64\"])(file, _config_js__WEBPACK_IMPORTED_MODULE_3__[\"MAX_IMAGE_DIM\"], _config_js__WEBPACK_IMPORTED_MODULE_3__[\"MAX_IMAGE_DIM\"], false, function (bits, mime, width, height, fname) {\n            _this3.props.sendMessage(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].insertImage(null, 0, mime, bits, width, height, fname));\n          }, function (err) {\n            _this3.props.onError(err, 'err');\n          });\n        } else {\n          Object(_lib_blob_helpers_js__WEBPACK_IMPORTED_MODULE_4__[\"imageFileToBase64\"])(file, function (bits, mime, width, height, fname) {\n            _this3.props.sendMessage(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].insertImage(null, 0, mime, bits, width, height, fname));\n          }, function (err) {\n            _this3.props.onError(err, 'err');\n          });\n        }\n      }\n\n      e.target.value = '';\n    }\n  }, {\n    key: \"handleAttachFile\",\n    value: function handleAttachFile(e) {\n      var _this4 = this;\n\n      var formatMessage = this.props.intl.formatMessage;\n\n      if (e.target.files && e.target.files.length > 0) {\n        var file = e.target.files[0];\n\n        if (file.size > _config_js__WEBPACK_IMPORTED_MODULE_3__[\"MAX_EXTERN_ATTACHMENT_SIZE\"]) {\n          this.props.onError(formatMessage(messages.file_attachment_too_large, {\n            size: Object(_lib_strformat_js__WEBPACK_IMPORTED_MODULE_5__[\"bytesToHumanSize\"])(file.size),\n            limit: Object(_lib_strformat_js__WEBPACK_IMPORTED_MODULE_5__[\"bytesToHumanSize\"])(_config_js__WEBPACK_IMPORTED_MODULE_3__[\"MAX_EXTERN_ATTACHMENT_SIZE\"])\n          }), 'err');\n        } else if (file.size > _config_js__WEBPACK_IMPORTED_MODULE_3__[\"MAX_INBAND_ATTACHMENT_SIZE\"]) {\n          var uploader = this.props.tinode.getLargeFileHelper();\n\n          if (!uploader) {\n            this.props.onError(formatMessage(messages.cannot_initiate_upload));\n            return;\n          }\n\n          var uploadCompletionPromise = uploader.upload(file);\n          var msg = tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].attachFile(null, file.type, null, file.name, file.size, uploadCompletionPromise);\n          this.props.sendMessage(msg, uploadCompletionPromise, uploader);\n        } else {\n          fileToBase64(file, function (mime, bits, fname) {\n            _this4.props.sendMessage(tinode_sdk__WEBPACK_IMPORTED_MODULE_2__[\"Drafty\"].attachFile(null, mime, bits, fname));\n          }, this.props.onError);\n        }\n      }\n\n      e.target.value = '';\n    }\n  }, {\n    key: \"handleSend\",\n    value: function handleSend() {\n      var message = this.state.message.trim();\n\n      if (message) {\n        this.props.sendMessage(this.state.message.trim());\n        this.setState({\n          message: ''\n        });\n      }\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(e) {\n      if (e.key === 'Enter') {\n        if (!e.shiftKey) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.handleSend();\n        }\n      }\n    }\n  }, {\n    key: \"handleMessageTyping\",\n    value: function handleMessageTyping(e) {\n      var newState = {\n        message: e.target.value\n      };\n      var now = new Date().getTime();\n\n      if (now - this.state.keypressTimestamp > _config_js__WEBPACK_IMPORTED_MODULE_3__[\"KEYPRESS_DELAY\"]) {\n        var topic = this.props.tinode.getTopic(this.props.topic);\n\n        if (topic.isSubscribed()) {\n          topic.noteKeyPress();\n        }\n\n        newState.keypressTimestamp = now;\n      }\n\n      this.setState(newState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      var prompt = this.props.disabled ? formatMessage(messages.messaging_disabled) : formatMessage(messages.type_new_message);\n      var instance = this;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"send-message-panel\"\n      }, this.props.disabled ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons disabled\"\n      }, \"photo\") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick(e) {\n          instance.attachImage.click();\n        },\n        title: \"Add image\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons secondary\"\n      }, \"photo\")), this.props.disabled ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons disabled\"\n      }, \"attach_file\") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick(e) {\n          instance.attachFile.click();\n        },\n        title: \"Attach file\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons secondary\"\n      }, \"attach_file\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"textarea\", {\n        id: \"sendMessage\",\n        placeholder: prompt,\n        disabled: this.props.disabled,\n        value: this.state.message,\n        onChange: this.handleMessageTyping,\n        onKeyPress: this.handleKeyPress,\n        ref: function ref(_ref) {\n          instance.pasteFile = _ref;\n        },\n        autoFocus: true\n      }), this.props.disabled ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons disabled\"\n      }, \"send\") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: this.handleSend,\n        title: \"Send\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"send\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        type: \"file\",\n        ref: function ref(_ref2) {\n          instance.attachFile = _ref2;\n        },\n        onChange: this.handleAttachFile,\n        style: {\n          display: 'none'\n        }\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        type: \"file\",\n        ref: function ref(_ref3) {\n          instance.attachImage = _ref3;\n        },\n        accept: \"image/*\",\n        onChange: this.handleAttachImage,\n        style: {\n          display: 'none'\n        }\n      }));\n    }\n  }]);\n\n  return SendMessage;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(SendMessage));\n\n//# sourceURL=webpack:///./src/widgets/send-message.jsx?");

/***/ }),

/***/ "./src/widgets/side-navbar.jsx":
/*!*************************************!*\
  !*** ./src/widgets/side-navbar.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SideNavbar; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _letter_tile_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./letter-tile.jsx */ \"./src/widgets/letter-tile.jsx\");\n/* harmony import */ var _menu_cancel_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./menu-cancel.jsx */ \"./src/widgets/menu-cancel.jsx\");\n/* harmony import */ var _menu_contacts_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./menu-contacts.jsx */ \"./src/widgets/menu-contacts.jsx\");\n/* harmony import */ var _menu_start_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./menu-start.jsx */ \"./src/widgets/menu-start.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n\nvar SideNavbar = function (_React$PureComponent) {\n  _inherits(SideNavbar, _React$PureComponent);\n\n  function SideNavbar() {\n    _classCallCheck(this, SideNavbar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SideNavbar).apply(this, arguments));\n  }\n\n  _createClass(SideNavbar, [{\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"side-caption-panel\",\n        className: \"caption-panel\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"self-avatar\",\n        className: \"avatar-box\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_letter_tile_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        avatar: this.props.avatar,\n        topic: this.props.myUserId,\n        title: this.props.title\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"sidepanel-title\",\n        className: \"panel-title\"\n      }, this.props.title), this.props.state === 'login' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_menu_start_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        onSignUp: this.props.onSignUp,\n        onSettings: this.props.onSettings\n      }) : this.props.state === 'contacts' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_menu_contacts_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        onNewTopic: this.props.onNewTopic,\n        onSettings: this.props.onSettings\n      }) : null, this.props.onCancel ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_menu_cancel_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        onCancel: this.props.onCancel\n      }) : null);\n    }\n  }]);\n\n  return SideNavbar;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/side-navbar.jsx?");

/***/ }),

/***/ "./src/widgets/tag-manager.jsx":
/*!*************************************!*\
  !*** ./src/widgets/tag-manager.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TagManager; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"react-intl\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chip_input_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chip-input.jsx */ \"./src/widgets/chip-input.jsx\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config.js */ \"./src/config.js\");\n/* harmony import */ var _lib_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/utils.js */ \"./src/lib/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\nvar TagManager = function (_React$Component) {\n  _inherits(TagManager, _React$Component);\n\n  function TagManager(props) {\n    var _this;\n\n    _classCallCheck(this, TagManager);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TagManager).call(this, props));\n    _this.state = {\n      tags: _this.props.tags,\n      tagInput: '',\n      activated: _this.props.activated\n    };\n    _this.handleShowTagManager = _this.handleShowTagManager.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTagInput = _this.handleTagInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAddTag = _this.handleAddTag.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRemoveTag = _this.handleRemoveTag.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(TagManager, [{\n    key: \"handleShowTagManager\",\n    value: function handleShowTagManager() {\n      this.setState({\n        activated: true\n      });\n    }\n  }, {\n    key: \"handleTagInput\",\n    value: function handleTagInput(text) {\n      this.setState({\n        tagInput: text\n      });\n\n      if (text.length > 0) {\n        var last = text[text.length - 1];\n\n        if (last == ',' || last == ' ' || last == ';') {\n          var tag = text.substr(0, text.length - 1).trim();\n\n          if (tag.length >= _config_js__WEBPACK_IMPORTED_MODULE_3__[\"MIN_TAG_LENGTH\"]) {\n            this.handleAddTag(tag);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"handleAddTag\",\n    value: function handleAddTag(tag) {\n      tag = tag.trim();\n\n      if (tag.length > 0) {\n        var tags = this.state.tags.slice(0);\n        tags.push(tag);\n        this.setState({\n          tags: tags,\n          tagInput: ''\n        });\n\n        if (this.props.onTagsChanged) {\n          this.props.onTagsChanged(tags);\n        }\n      }\n    }\n  }, {\n    key: \"handleRemoveTag\",\n    value: function handleRemoveTag(tag, index) {\n      var tags = this.state.tags.slice(0);\n      tags.splice(index, 1);\n      this.setState({\n        tags: tags\n      });\n\n      if (this.props.onTagsChanged) {\n        this.props.onTagsChanged(tags);\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var tags = this.state.tags.slice(0);\n      var inp = this.state.tagInput.trim();\n\n      if (inp.length > 0) {\n        tags.push(inp);\n\n        if (this.props.onTagsChanged) {\n          this.props.onTagsChanged(tags);\n        }\n      }\n\n      this.props.onSubmit(tags);\n      this.setState({\n        activated: false,\n        tagInput: '',\n        tags: this.props.tags\n      });\n    }\n  }, {\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      this.setState({\n        activated: false,\n        tagInput: '',\n        tags: this.props.tags\n      });\n\n      if (this.props.onCancel) {\n        this.props.onCancel();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var tags = [];\n\n      if (this.state.activated) {\n        this.state.tags.map(function (tag) {\n          tags.push({\n            user: tag\n          });\n        });\n      } else {\n        this.state.tags.map(function (tag) {\n          tags.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n            className: \"badge\",\n            key: tags.length\n          }, tag));\n        });\n\n        if (tags.length == 0) {\n          tags = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n            id: \"tags_not_found\",\n            defaultMessage: \"No tags defined. Add some.\"\n          }));\n        }\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-column\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n        className: \"small\"\n      }, this.props.title)), this.state.activated ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"tags_editor_no_tags\",\n        defaultMessage: \"Add some tags\"\n      }, function (add_tags_prompt) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_chip_input_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n          chips: tags,\n          avatarDisabled: true,\n          prompt: add_tags_prompt,\n          onEnter: _this2.handleAddTag,\n          onFocusLost: _this2.handleAddTag,\n          onCancel: _this2.handleCancel,\n          onChipRemoved: _this2.handleRemoveTag,\n          filterFunc: _this2.handleTagInput\n        });\n      }), this.props.onSubmit || this.props.onCancel ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"tag-manager-buttons\",\n        className: \"panel-form-row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"blue\",\n        onClick: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_ok\",\n        defautMessage: \"OK\",\n        description: \"Confirmation button [OK]\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        className: \"white\",\n        onClick: this.handleCancel\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"button_cancel\",\n        defautMessage: \"Cancel\",\n        description: \"Rejection button [Cancel]\"\n      }))) : null) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: \"javascript:;\",\n        className: \"flat-button\",\n        onClick: this.handleShowTagManager\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"edit\"), \" \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"title_manage_tags\",\n        defaultMessage: \"Manage tags\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, tags)));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (!Object(_lib_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"arrayEqual\"])(nextProps.tags, prevState.tags) && !prevState.activated) {\n        return {\n          tags: nextProps.tags\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return TagManager;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/tag-manager.jsx?");

/***/ }),

/***/ "./src/widgets/unread-badge.jsx":
/*!**************************************!*\
  !*** ./src/widgets/unread-badge.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UnreadBadge; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\nvar UnreadBadge = function (_React$PureComponent) {\n  _inherits(UnreadBadge, _React$PureComponent);\n\n  function UnreadBadge() {\n    _classCallCheck(this, UnreadBadge);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(UnreadBadge).apply(this, arguments));\n  }\n\n  _createClass(UnreadBadge, [{\n    key: \"render\",\n    value: function render() {\n      var showUnreadBadge = null;\n\n      if (this.props.count > 0) {\n        var count = this.props.count > 9 ? \"9+\" : this.props.count;\n        showUnreadBadge = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n          className: \"unread\"\n        }, count);\n      }\n\n      return showUnreadBadge;\n    }\n  }]);\n\n  return UnreadBadge;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n;\n\n//# sourceURL=webpack:///./src/widgets/unread-badge.jsx?");

/***/ }),

/***/ "./src/widgets/visible-password.jsx":
/*!******************************************!*\
  !*** ./src/widgets/visible-password.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VisiblePassword; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\nvar VisiblePassword = function (_React$PureComponent) {\n  _inherits(VisiblePassword, _React$PureComponent);\n\n  function VisiblePassword(props) {\n    var _this;\n\n    _classCallCheck(this, VisiblePassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VisiblePassword).call(this, props));\n    _this.state = {\n      value: _this.props.value,\n      visible: false\n    };\n    _this.handleVisibility = _this.handleVisibility.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handeTextChange = _this.handeTextChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEditingFinished = _this.handleEditingFinished.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(VisiblePassword, [{\n    key: \"handeTextChange\",\n    value: function handeTextChange(e) {\n      this.setState({\n        value: e.target.value\n      });\n\n      if (this.props.onChange) {\n        this.props.onChange(e);\n      }\n    }\n  }, {\n    key: \"handleVisibility\",\n    value: function handleVisibility(e) {\n      e.preventDefault();\n      this.setState({\n        visible: !this.state.visible\n      });\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      if (e.keyCode == 27) {\n        this.setState({\n          value: this.props.value,\n          visible: false\n        });\n\n        if (this.props.onFinished) {\n          this.props.onFinished();\n        }\n      } else if (e.keyCode == 13) {\n        this.handleEditingFinished();\n      }\n    }\n  }, {\n    key: \"handleEditingFinished\",\n    value: function handleEditingFinished(e) {\n      var _this2 = this;\n\n      if (e) {\n        var currentTarget = e.currentTarget;\n        setTimeout(function () {\n          if (!currentTarget.contains(document.activeElement)) {\n            if (_this2.props.onFinished) {\n              _this2.props.onFinished(_this2.state.value);\n            }\n          }\n        }, 0);\n      } else if (this.props.onFinished) {\n        this.props.onFinished(this.state.value.trim());\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        tabIndex: \"-1\",\n        className: \"group-focus\",\n        onBlur: this.handleEditingFinished\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        className: \"with-visibility\",\n        type: this.state.visible ? \"text\" : \"password\",\n        value: this.state.value,\n        placeholder: this.props.placeholder,\n        required: this.props.required ? 'required' : '',\n        autoFocus: this.props.autoFocus ? 'autoFocus' : '',\n        autoComplete: this.props.autoComplete,\n        onChange: this.handeTextChange,\n        onKeyDown: this.handleKeyDown\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        onClick: this.handleVisibility\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"material-icons clickable light-gray\"\n      }, this.state.visible ? 'visibility' : 'visibility_off')));\n    }\n  }]);\n\n  return VisiblePassword;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n\n\n//# sourceURL=webpack:///./src/widgets/visible-password.jsx?");

/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./src/index.js */\"./src/index.js\");\n\n\n//# sourceURL=webpack:///multi_./src/index.js?");

/***/ }),

/***/ "firebase/app":
/*!***************************!*\
  !*** external "firebase" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_firebase_app__;\n\n//# sourceURL=webpack:///external_%22firebase%22?");

/***/ }),

/***/ "firebase/messaging":
/*!*************************************!*\
  !*** external "firebase/messaging" ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_firebase_messaging__;\n\n//# sourceURL=webpack:///external_%22firebase/messaging%22?");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "React" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n//# sourceURL=webpack:///external_%22React%22?");

/***/ }),

/***/ "react-dom":
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;\n\n//# sourceURL=webpack:///external_%22ReactDOM%22?");

/***/ }),

/***/ "react-intl":
/*!*****************************!*\
  !*** external "react-intl" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react_intl__;\n\n//# sourceURL=webpack:///external_%22react-intl%22?");

/***/ })

/******/ });
});